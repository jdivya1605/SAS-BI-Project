*------------------------------------------------------------*
User:                Divya
Date:                November 23, 2016
Time:                03:27:17
Site:                70080468
Platform:            X64_8HOME
Maintenance Release: 9.04.01M3P062415
EM Version:          14.1
* 
*------------------------------------------------------------*
* Training Log
Date:                November 23, 2016
Time:                03:27:10
*------------------------------------------------------------*
14769  proc freq data=EMWS1.EndGrp_VariableSet noprint;
14770  table ROLE*LEVEL/out=WORK.EndGrpMETA;
14771  run;
 
NOTE: There were 18 observations read from the data set EMWS1.ENDGRP_VARIABLESET.
NOTE: The data set WORK.ENDGRPMETA has 9 observations and 4 variables.
NOTE: PROCEDURE FREQ used (Total process time):
      real time           0.06 seconds
      cpu time            0.00 seconds
 
 
14772  proc print data=WORK.EndGrpMETA label noobs;
14773  var ROLE LEVEL COUNT;
14774  label ROLE = "%sysfunc(sasmsg(sashelp.dmine, meta_role_vlabel, NOQUOTE))" LEVEL = "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" COUNT = "%sysfunc(sasmsg(sashelp.dmine, rpt_count_vlabel, NOQUOTE))";
14775  title9 ' ';
14776  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_varSummary_title  , NOQUOTE))";
14777  run;
 
NOTE: There were 9 observations read from the data set WORK.ENDGRPMETA.
NOTE: The PROCEDURE PRINT printed page 1.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
14778  title10;
 
14779  %let EMNORLEN = %DMNORLEN;
EMWS1.Tree5_TRAIN EMWS1.Tree5_TRAIN
EMWS1.Tree5_TRAIN EMWS1.Tree5_TRAIN EMWS1 Tree5_TRAIN
EMWS1.Tree5_TRAIN EMWS1.Tree5_TRAIN
EMWS1.Tree5_TRAIN EMWS1.Tree5_TRAIN EMWS1 Tree5_TRAIN
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _INIT >>
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >>
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >>
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >>
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL setMetaData >>
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >>
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL next >>
Executing  SASHELP.EMCORE.EMINFOITERATOR.SCL _term >>
14808  data WORK.EndGrp_EVENT(KEEP=VARIABLE LABEL LEVEL EVENT NUMLEVELS ORDER);
14809  length ORDER $20;
14810  label VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_target_vlabel,  NOQUOTE))" EVENT = "%sysfunc(sasmsg(sashelp.dmine, assmt_event_vlabel, NOQUOTE))" NUMLEVELS = "%sysfunc(sasmsg(sashelp.dmine, rpt_numcat_vlabel, NOQUOTE))" LEVEL =
14811     "%sysfunc(sasmsg(sashelp.dmine, meta_level_vlabel, NOQUOTE))" ORDER = "%sysfunc(sasmsg(sashelp.dmine, meta_order_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
14812  set EMWS1.TREE5_CONTRIBUTED_TO_A_DM( where=(_TYPE_="TARGET"));
14813  NumLevels=2;
14814  select(upcase(ORDER));
14815  when('DESC') ORDER = 'Descending';
14816  when('ASC') ORDER = 'Ascending';
14817  when('FMTDESC') ORDER = 'Formatted Descending';
14818  when('FMTASC') ORDER = 'Formatted Ascending';
14819  otherwise ORDER = 'Descending';
14820  end;
14821  output;
14822  run;
 
NOTE: There were 1 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
      WHERE _TYPE_='TARGET';
NOTE: The data set WORK.ENDGRP_EVENT has 1 observations and 6 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
14823  title9 ' ';
14824  proc print data=WORK.EndGrp_EVENT noobs label;
14825  var VARIABLE EVENT LEVEL NUMLEVELS ORDER LABEL;
14826  title9 ' ';
14827  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_modelEvent_title  , NOQUOTE))";
14828  run;
 
NOTE: There were 1 observations read from the data set WORK.ENDGRP_EVENT.
NOTE: The PROCEDURE PRINT printed page 2.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
14829  title10;
 
"No decisions defined for target "Contributed_To_Accident"."
14830  proc print data = EMWS1.Tree5_Contributed_To_A_DM noobs label;
14831  var _type_ variable label;
14832  where _type_ ^in('MATRIX', 'DECISION', 'TRAINPRIOR', 'DATAPRIOR', 'DECPRIOR');
14833  label _TYPE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_type_vlabel,     NOQUOTE))" VARIABLE = "%sysfunc(sasmsg(sashelp.dmine, rpt_variable_vlabel, NOQUOTE))" LABEL = "%sysfunc(sasmsg(sashelp.dmine, meta_label_vlabel, NOQUOTE))";
14834  title9 ' ';
14835  title10 "%sysfunc(sasmsg(sashelp.dmine, rpt_predDecVars_title  , NOQUOTE))";
14836  run;
 
NOTE: There were 7 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
      WHERE _type_ not in ('DATAPRIOR', 'DECISION', 'DECPRIOR', 'MATRIX', 'TRAINPRIOR');
NOTE: The PROCEDURE PRINT printed page 3.
NOTE: PROCEDURE PRINT used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
14837  title10;
 
14838  %let EMEXCEPTIONSTRING=;
PERFORMANCE  DETAILS
15286  *------------------------------------------------------------*;
15287  * EndGrp: Generation of macros and macro variables;
15288  * To see the code generated, set the EM_DEBUG macro variable to SOURCE or _ALL_;
15289  *------------------------------------------------------------*;
 
15290  %let EMEXCEPTIONSTRING=;
15291  *------------------------------------------------------------*;
15292  * TRAIN: EndGrp;
15293  *------------------------------------------------------------*;
15294  %let EM_ACTION = TRAIN;
15295  %let syscc = 0;
15296  %macro main;
15297     %if %upcase(&EM_ACTION) = TRAIN %then %do;
15298
15299         filename temp catalog 'sashelp.emutil.endgp_train.source';
15300         %include temp;
15301         filename temp;
15302
15303         %train;
15304
15305     %end;
15306     %else
15307        %if %upcase(&EM_ACTION) = SCORE %then %do;
15308
15309         filename temp catalog 'sashelp.emutil.endgp_score.source';
15310         %include temp;
15311         filename temp;
15312
15313         %score;
15314     %end;
15315     %else
15316     %if %upcase(&EM_ACTION) = POSTLOOP %then %do;
15317
15318         filename temp catalog 'sashelp.emutil.endgp_postloop.source';
15319         %include temp;
15320         filename temp;
15321
15322         %postloop;
15323
15324     %end;
15325
15326     %doendm:
15327  %mend main;
15328
15329  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMUTIL.ENDGP_TRAIN.SOURCE.
15330 +%macro copyModelDs(model=, key=);
15331 +   %let modelDs  = &em_lib..&model._&key;
15332 +   %let reportDs = &em_lib..&em_nodeid._&key;
15333 +   %if %sysfunc(exist(&modelDs)) %then %do;
15334 +       data &reportDs;
15335 +          length ModelId $16;
15336 +          retain ModelId "&model";
15337 +          set &modelDs;
15338 +       run;
15339 +   %end;
15340 +%mend copyModelDs;
15341 +
15342 +%macro traintarget(groupid=);
15343 +   %em_getname(key=emoutfit, type=DATA);
15344 +   %let targetname=;
15345 +   data _null_;
15346 +     set &em_lib..&groupid._&looptype;
15347 +     where _LOOP_ = &EMLOOPNUMBER;
15348 +     call symput('targetname', strip(_TARGET_));
15349 +   run;
15350 +   %let modelId =;
15351 +   data _null_;
15352 +      set &em_import_data_eminfo;
15353 +      where key = 'MODEL' and TARGET = "&targetname";
15354 +      call symput('modelId',   strip(data));
15355 +   run;
15356 +   %if "&modelId" ne "" %then %do;
15357 +       %copyModelDs(model=&modelid, key=EMRANK);
15358 +       %copyModelDs(model=&modelid, key=EMSCOREDIST);
15359 +       %copyModelDs(model=&modelid, key=EMOUTFIT);
15360 +       %copyModelDs(model=&modelid, key=EMCLASSIFICATION);
15361 +       %copyModelDs(model=&modelid, key=EMEVENREPORT);
15362 +       %copyModelDs(model=&modelid, key=EMRESIDUALS);
15363 +       %em_model(TARGET=&targetname, ASSESS=N, DECSCORECODE=N, FITSTATISTICS=N, CLASSIFICATION=N, RESIDUALS=N, PREDICTED=Y);
15364 +   %end;
15365 +
15366 +   %doendtgp:
15367 +%mend;
15368 +
15369 +%macro trainboost(groupid=);
15370 +
15371 +   %let boostinfoDs  = &em_lib..%sysfunc(strip(&groupid))_boostinfo;
15372 +   %let boostscoreDs = &em_lib..%sysfunc(strip(&groupid))_boostscore;
15373 +
15374 +   data _null_;
15375 +      retain index 0;
15376 +      set &boostinfoDs;
15377 +      call symput('targetname', strip(_target_));
15378 +   run;
15379 +
15380 +   %if "&em_import_data_eminfo" ne "" and %sysfunc(exist(&em_import_data_eminfo)) %then %do;
15381 +       %let decmeta = ;
15382 +       data _null_;
15383 +          set &em_import_data_eminfo;
15384 +          where (key='DECMETA' and TARGET="&targetname");
15385 +          call symput('DECMETA', strip(data));
15386 +       run;
15387 +       %if "&decmeta" eq "" %then %do;
15388 +           %let emexceptionstring = EMTOOL.NOTARGETMODELED;
15389 +           %goto doendtb;
15390 +       %end;
15391 +
15392 +       %let predictedVars=;
15393 +       data _null_;
15394 +          set &decmeta;
15395 +          if _TYPE_ = 'FROM' then call symput('FROMVAR', strip(variable));
15396 +          else
15397 +          if _TYPE_ = 'INTO' then call symput('INTOVAR', strip(variable));
15398 +          else
15399 +          if _TYPE_ = 'PREDICTED' then call symput('predictedvars', strip(symget('predictedVars'))!!' '!!strip(variable));
15400 +       run;
15401 +       %if %index(&EM_DEBUG, _ALL_) %then %do;
15402 +           %put GROUPID: &GROUPID DECMETA: &DECMETA FROMVAR: &FROMVAR INTO: &INTOVAR PREDICTED: &PREDICTEDVARS;
15403 +       %end;
15404 +   %end;
15405 +
15406 +   * ;
15407 +   * ENDGROUP &NODEID : Boosting scoring ;
15408 +   * ;
15409 +   data &em_lib..&groupid._boostscore;
15410 +      set &em_import_data;
15411 +      keep _WARN_ &targetname &fromvar &intovar &predictedvars;
15412 +      %if "%em_freq" ne "" %then %do ;
15413 +          keep %em_freq ;
15414 +      %end ;
15415 +   run;
15416 +   %em_model(TARGET=&targetname , ASSESS=N, DECSCORECODE=N, FITSTATISTICS=Y, CLASSIFICATION=N, RESIDUALS=N, PREDICTED=Y);
15417 +
15418 +   %doendtb:
15419 +
15420 +%mend trainboost;
15421 +
15422 +%macro trainbag(groupid=);
15423 +   %let baginfoDs  = &em_lib..%sysfunc(strip(&groupid))_baginfo;
15424 +   data _null_;
15425 +      retain index 0;
15426 +      set &baginfoDs;
15427 +      call symput('targetname', strip(_target_));
15428 +   run;
15429 +
15430 +   %let decmeta = ;
15431 +   data _null_;
15432 +       set &em_import_data_eminfo;
15433 +       where (key='DECMETA' and TARGET="&targetname");
15434 +       call symput('DECMETA', strip(data));
15435 +   run;
15436 +   %if "&decmeta" eq "" %then %do;
15437 +       %let emexceptionstring = EMTOOL.NOTARGETMODELED;
15438 +       %goto doendtg;
15439 +   %end;
15440 +
15441 +   %em_model(TARGET=&targetname, ASSESS=N, DECSCORECODE=N, FITSTATISTICS=Y, CLASSIFICATION=N, RESIDUALS=N, PREDICTED=Y);
15442 +
15443 +   %doendtg:
15444 +%mend trainbag;
15445 +
15446 +%macro traingroup(groupid=);
15447 +   %let targetNum = 0;
15448 +
15449 +   data _temp1;
15450 +      set &em_lib..&groupid._eminfo;
15451 +      where key='MODEL';
15452 +   run;
15453 +   data _temp2;
15454 +      set &em_import_data_eminfo;
15455 +      where key='MODEL';
15456 +   run;
15457 +   proc sort data=_temp1; by TARGET DATA;
15458 +   proc sort data=_temp2; by TARGET DATA;
15459 +   data _temp2;
15460 +      merge _temp1(in=_a) _temp2(in=_b);
15461 +      by TARGET DATA;
15462 +      if ^_a and _b then output;
15463 +   run;
15464 +   data _null_;
15465 +      retain index 0;
15466 +      set _temp2 end=eof;
15467 +      index +1;
15468 +      where key ='MODEL';
15469 +      call symput('MODELID'!!strip(put(index, best.)), strip(data));
15470 +      call symput('TARGET'!!strip(put(index, best.)), strip(target));
15471 +      if eof then
15472 +         call symput('targetnum', strip(put(index, best.)));
15473 +   run;
15474 +   proc datasets lib=work nolist;
15475 +      delete _temp1 _temp2;
15476 +   run;
15477 +   %if "&targetNum" eq "0" %then %goto doendtgp;
15478 +
15479 +   %let modelString =;
15480 +   %do i=1 %to &targetnum;
15481 +        %if ^%sysfunc(indexw(&modelString, &&modelid&i)) %then %do;
15482 +            %copyModelDs(model=&&modelid&i, key=EMRANK);
15483 +            %copyModelDs(model=&&modelid&i, key=EMSCOREDIST);
15484 +            %copyModelDs(model=&&modelid&i, key=EMOUTFIT);
15485 +            %copyModelDs(model=&&modelid&i, key=EMCLASSIFICATION);
15486 +            %copyModelDs(model=&&modelid&i, key=EMEVENREPORT);
15487 +            %copyModelDs(model=&&modelid&i, key=EMRESIDUALS);
15488 +            %let modelString = &modelString &&modelid&i;
15489 +       %end;
15490 +       %em_model(TARGET=&&target&i, ASSESS=N, DECSCORECODE=N, FITSTATISTICS=N, CLASSIFICATION=N, RESIDUALS=N, PREDICTED=Y);
15491 +   %end;
15492 +
15493 +   %doendtgp:
15494 +
15495 +%mend traingroup;
15496 +
15497 +%macro getSize(data=, nobsvar=);
15498 +
15499 +   %if %sysfunc(exist(&data, DATA)) %then %do;
15500 +       %let dsid = %sysfunc(open(&data));
15501 +       %if &dsid %then %do;
15502 +           %let &&nobsvar = %sysfunc(attrn(&dsid, NLOBS));
15503 +           %let dsid = %sysfunc(close(&dsid));
15504 +       %end;
15505 +   %end;
15506 +    %if %sysfunc(exist(&data, VIEW)) %then %do;
15507 +        proc sql;
15508 +           reset noprint;
15509 +           select count(*) into :&nobsvar from &data;
15510 +        quit;
15511 +   %end;
15512 +
15513 +%mend getsize;
15514 +
15515 +%macro train;
15516 +
15517 +   %if ^%symexist(em_import_data_eminfo) or ("&emloopmode" eq "") %then %do;
15518 +      %let EM_TOOLTYPE=UTILITY;
15519 +      %if %sysfunc(exist(&em_data_eminfo)) %then %do;
15520 +          proc delete data=&em_data_eminfo;
15521 +          run;
15522 +      %end;
15523 +      %goto doendtr;
15524 +   %end;
15525 +
15526 +   %if "&em_import_data_eminfo" eq "" or ^%sysfunc(exist(&em_import_data_eminfo)) %then %do;
15527 +       %let emexceptionstring = EMTOOL.NOTARGETMODELED;
15528 +       %goto doendtr;
15529 +   %end;
15530 +
15531 +   %let xgroupid = ;
15532 +   data _null_;
15533 +      set &em_import_data_eminfo;
15534 +      where key in('GROUPINFO', 'BOOSTINFO', 'BAGINFO', 'TARGETINFO', 'INDEXINFO');
15535 +      call symput('XGROUPID',  strip(data));
15536 +      call symput('LOOPTYPE', strip(key));
15537 +   run;
15538 +
15539 +   %if "&looptype" eq "BOOSTINFO" %then %do;
15540 +       %let nDataObs=0;
15541 +       %getSize(data=&em_import_data, nobsvar=nDataObs);
15542 +
15543 +       %let nStartObs=0;
15544 +       %getsize(data=&em_lib..&xgroupid._train, nobsvar=nStartObs);
15545 +
15546 +       %if &nDataObs ne &nStartObs %then %do;
15547 +           %let emexceptionstring = EMTOOL.BOOSTERRORNOBSCHANGED;
15548 +           %goto doendtr;
15549 +       %end;
15550 +
15551 +       %trainboost(groupid=&xgroupid);
15552 +   %end;
15553 +   %else
15554 +   %if "&looptype" eq "BAGINFO" %then %do;
15555 +       %trainbag(groupid=&xgroupid);
15556 +   %end;
15557 +   %else
15558 +   %if "&looptype" eq "GROUPINFO" %then %do;
15559 +       %traingroup(groupid=&xgroupid);
15560 +   %end;
15561 +   %else
15562 +   %if "&looptype" eq "TARGETINFO" %then %do;
15563 +       %traintarget(groupid=&xgroupid);
15564 +   %end;
15565 +
15566 +   data &em_data_eminfo;
15567 +      length TARGET KEY $32  DATA $43;
15568 +      TARGET=''; KEY='ENDGROUP'; DATA="&em_nodeid"; output;
15569 +   run;
15570 +
15571 +   %let EM_TOOLTYPE=MODEL;
15572 +
15573 +   %doendtr:
15574 +
15575 +%mend train;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
 
NOTE: There were 1 observations read from the data set EMWS1.TREE5_EMINFO.
      WHERE key in ('BAGINFO', 'BOOSTINFO', 'GROUPINFO', 'INDEXINFO', 'TARGETINFO');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: There were 1 observations read from the data set EMWS1.GRP_BAGINFO.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: There were 1 observations read from the data set EMWS1.TREE5_EMINFO.
      WHERE (key='DECMETA') and (TARGET='Contributed_To_Accident');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The data set WORK.EM_USER_MODEL has 1 observations and 8 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The data set EMWS1.ENDGRP_EMINFO has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
15576  *------------------------------------------------------------*;
15577  * End TRAIN: EndGrp;
15578  *------------------------------------------------------------*;
15579
 
15580  *------------------------------------------------------------*;
15581  * Close any missing semi colons;
15582  *------------------------------------------------------------*;
15583  ;
15584  ;
15585  ;
15586  ;
15587  quit;
15588  *------------------------------------------------------------*;
15589  * Close any unbalanced quotes;
15590  *------------------------------------------------------------*;
15591  /*; *"; *'; */
15592  ;
15593  run;
15594  quit;
15595  /* Reset EM Options */
15596  options formchar="|----|+|---+=|-/\<>*";
15597  options nocenter ls=256 ps=10000;
15598  goptions reset=all device=GIF NODISPLAY;
 
*------------------------------------------------------------*
* Score Log
Date:                November 23, 2016
Time:                03:27:12
*------------------------------------------------------------*
15700  %let EMEXCEPTIONSTRING=;
15701  *------------------------------------------------------------*;
15702  * SCORE: EndGrp;
15703  *------------------------------------------------------------*;
15704  %let EM_ACTION = SCORE;
15705  %let syscc = 0;
15706  %macro main;
15707     %if %upcase(&EM_ACTION) = TRAIN %then %do;
15708
15709         filename temp catalog 'sashelp.emutil.endgp_train.source';
15710         %include temp;
15711         filename temp;
15712
15713         %train;
15714
15715     %end;
15716     %else
15717        %if %upcase(&EM_ACTION) = SCORE %then %do;
15718
15719         filename temp catalog 'sashelp.emutil.endgp_score.source';
15720         %include temp;
15721         filename temp;
15722
15723         %score;
15724     %end;
15725     %else
15726     %if %upcase(&EM_ACTION) = POSTLOOP %then %do;
15727
15728         filename temp catalog 'sashelp.emutil.endgp_postloop.source';
15729         %include temp;
15730         filename temp;
15731
15732         %postloop;
15733
15734     %end;
15735
15736     %doendm:
15737  %mend main;
15738
15739  %main;
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMUTIL.ENDGP_SCORE.SOURCE.
15740 +%macro scoreTables(data=, out=, scoreref=, prescore=);
15742 +   %if ("&data" ne "") and (%sysfunc(exist(&data)) or %sysfunc(exist(&data, VIEW))) %then %do;
15743 +       data &out / view=&out;
15744 +          set &data
15746 +          %if "&prescore" = "Y" %then %do;
15747 +              (obs=1)
15748 +          %end;
15750 +          ;
15752 +          %inc &scoreref;
15754 +          %if "&prescore" eq "Y" %then %do;
15755 +              drop I_: R_:;
15756 +          %end;
15758 +       run;
15759 +   %end;
15761 +%mend scoretables;
15763 +%macro boostbagcode(groupid=, type=, EnsembleIndex=);
15764 +   %let infoDs = &em_lib..%sysfunc(strip(&groupid))_&type;
15765 +   data _null_;
15766 +      retain index 0;
15767 +      set &infoDs;
15768 +      call symput('targetname', strip(_target_));
15769 +      call symput('endloopnum', strip(_loop_));
15770 +   run;
15772 +   %let endgrp_decmeta=;
15773 +   %let endgrp_decdata=;
15775 +   data _null_;
15776 +      set &em_import_data_eminfo;
15777 +      where key in('MODEL', 'DECMETA', 'DECDATA') and TARGET="&targetname";
15778 +      if key='DECMETA' then call symput('ENDGRP_DECMETA', strip(data));
15779 +      else
15780 +      if key='DECDATA' then call symput('ENDGRP_DECDATA', strip(data));
15781 +      else call symput('MODELID', strip(data));
15782 +   run;
15784 +   %let headerString= Boosting;
15785 +   %let prefixString= _BoostVar;
15787 +   %if "&type" = "BAGINFO" %then %do;
15788 +        %let headerString = Bagging;
15789 +        %let prefixString= _BagVar;
15790 +   %end;
15792 +   %let targetType=;
15793 +   %let predictedVars=;
15794 +   data _null_;
15795 +      retain index;
15796 +      set &endgrp_decmeta end=eof;
15797 +      length tempvar $200;
15798 +      if _TYPE_='TARGET' then call symput('TARGETTYPE', strip(level));
15799 +      else
15800 +      if _TYPE_ = 'FROM' then call symput('FROMVAR', strip(variable));
15801 +      else
15802 +      if _TYPE_ = 'INTO' then call symput('INTOVAR', strip(variable));
15803 +      else
15804 +      if _TYPE_ = 'PREDICTED' then do;
15805 +         index+1;
15806 +         call symput('predvars'!!strip(put(index, best.)), strip(variable));
15807 +         tempvar = strip("&em_nodeid")!!'_'!!strip(variable);
15808 +         if length(tempvar)<=32 then call symput('tempvars'!!strip(put(index, best.)), strip(tempvar));
15809 +         else call symput('tempvars'!!strip(put(index, best.)), strip("&prefixString")!!strip(put(index, best.)));
15810 +      end;
15811 +      if eof then
15812 +         call symput('prednum', strip(put(index, best.)));
15813 +   run;
15815 +   %em_getname(key=LOOPFLOWCODE, type=FILE, extension=sas);
15816 +   %em_getname(key=LOOPPUBCODE,  type=FILE, extension=sas);
15818 +   filename loopflow "&em_user_loopflowcode";
15819 +   filename looppub "&em_user_looppubcode";
15821 +   filename emflow "&EM_FILE_EMFLOWSCORECODE" MOD;
15822 +   filename empub "&EM_FILE_EMPUBLISHSCORECODE";
15824 +   %if "&emloopnumber" = "1" %then %do;
15825 +       data _null_;
15826 +          rc = fdelete('loopflow');
15827 +          rc = fdelete('looppub');
15828 +       run;
15829 +       data _null_;
15830 +          file loopflow;
15831 +          put "&em_codebar;";
15832 +          put "* &em_nodeid: ;" ;
15833 +          put "* User: &sysuserid;";
15834 +          put "* Date: &sysdate: &systime;";
15835 +          put "&em_codebar ;";
15836 +          put "* Ensemble Code;";
15837 +          put "&em_codebar ;";
15838 +          put "* &headerString: Loop=1;";
15839 +          put "* Temporary Variables;";
15840 +          %do i= 1 %to &prednum;
15841 +              put "drop &&tempvars&i;";
15842 +              put "&&tempvars&i = 0;";
15843 +          %end;
15844 +       run;
15845 +       %em_copyfile(infref=loopflow, outfref=looppub);
15846 +   %end;
15848 +   %let j=&emloopnumber;
15849 +   %do i = 1 %to &loopcodenum;
15850 +       %let fsourceEntry = &em_lib..%sysfunc(strip(&&loopnode&i))_LOOP.EMFLOWCODE_&j..source;
15851 +       %let psourceEntry = &em_lib..%sysfunc(strip(&&loopnode&i))_LOOP.EMPUBLISHCODE_&j..source;
15853 +       %if (&&loopnode&i eq &em_nodeid ) or
15854 +           ( (&&loopnode&i ne &em_nodeid) and (&ensembleIndex = 0) or (&i=1 or &i>=&ensembleIndex )) %then %do;
15855 +           data _null_;
15856 +              file loopflow mod;
15857 +              put "&em_codebar;";
15858 +              put "* &&loopnode&i: &&loopdesc&i;" ;
15859 +              put "* User: &sysuserid;";
15860 +              put "* Date: &sysdate: &systime;";
15861 +              put "* &headerString: Loop=&j;";
15862 +              put "&em_codebar;";
15863 +           run;
15864 +           data _null_;
15865 +              file looppub mod;
15866 +              put "&em_codebar;";
15867 +              put "* &&loopnode&i: &&loopdesc&i;" ;
15868 +              put "* User: &sysuserid;";
15869 +              put "* Date: &sysdate: &systime;";
15870 +              put "* &headerString: Loop=&j;";
15871 +              put "&em_codebar;";
15872 +           run;
15873 +       %end;
15875 +       %if &&loopnode&i ne &em_nodeid %then %do;
15876 +           %if (&ensembleIndex = 0) or (&i=1 or &i>=&ensembleIndex ) %then %do;
15877 +               filename x catalog "&fsourceEntry";
15878 +               %em_copyfile(infref=x, outfref=loopflow, append=Y);
15879 +               filename x;
15881 +               filename y catalog "&psourceEntry";
15882 +               %em_copyfile(infref=y, outfref=looppub, append=Y);
15883 +               filename y;
15884 +           %end;
15885 +       %end;
15886 +       %else %do;
15887 +           %if "&j" ne "1" %then %do;
15888 +               %let weight = %eval(&j-1);
15889 +               data _null_;
15890 +                  file loopflow mod;
15891 +                  put "&em_codebar;";
15892 +                  %if "&j" ne "&endloopnum" %then %do;
15893 +                      put "* &headerString: accumulate probabilities for iteration: &j;";
15894 +                  %end;
15895 +                  %else %do;
15896 +                      put "* &headerString: accumulate final probabilities;";
15897 +                  %end;
15898 +                  put "&em_codebar;";
15899 +                  %do k=1 %to &prednum;
15900 +                      put "&&predvars&k = &&tempvars&k*(&weight/&j) + &&predvars&k*(1/&j);";
15901 +                  %end;
15902 +               run;
15903 +               data _null_;
15904 +                  file looppub mod;
15905 +                  put "&em_codebar;";
15906 +                  %if "&j" ne "&endloopnum" %then %do;
15907 +                      put "* &headerString: accumulate probabilities for iteration: &j;";
15908 +                  %end;
15909 +                  %else %do;
15910 +                      put "* &headerString: accumulate final probabilities;";
15911 +                  %end;
15912 +                  %do k=1 %to &prednum;
15913 +                      put "&&predvars&k = &&tempvars&k*(&weight/&j) + &&predvars&k*(1/&j);";
15914 +                  %end;
15915 +               run;
15916 +           %end;
15917 +           %if "&j" ne "&endloopnum" %then %do;
15918 +               data _null_;
15919 +                  file loopflow mod;
15920 +                  put "&em_codebar;";
15921 +                  put "* &headerString: Saving Probabilities for Next Iteration;";
15922 +                  put "&em_codebar;";
15923 +               %do k=1 %to &prednum;
15924 +                  put "&&tempvars&k = &&predvars&k;";
15925 +               %end;
15926 +               run;
15927 +               data _null_;
15928 +                  file looppub mod;
15929 +                  put "&em_codebar;";
15930 +                  put "* &headerString: Saving Probabilities for Next Iteration;";
15931 +                  put "&em_codebar;";
15932 +               %do k=1 %to &prednum;
15933 +                   put "&&tempvars&k = &&predvars&k;";
15934 +               %end;
15935 +               run;
15936 +           %end;
15938 +       %end;
15939 +   %end;
15941 +   %em_copyfile(infref=loopflow, outfref=emflow, append=N);
15942 +   %em_copyfile(infref=looppub,  outfref=empub,  append=N);
15944 +   filename loopflow;
15945 +   filename looppub;
15946 +   filename empub;
15948 +   %let groupImportDs = &em_lib..%sysfunc(strip(&groupid))_importset;
15949 +   %let gpTrain=;
15950 +   %let gpValidate=;
15951 +   %let gpTest=;
15953 +   data _null_;
15954 +      set &groupImportDs;
15955 +      select(upcase(port));
15956 +          when('DATA')     call symput('gpTrain',    strip(dataset));
15957 +          when('VALIDATE') call symput('gpValidate', strip(dataset));
15958 +          when('TEST')     call symput('gpTest',     strip(dataset));
15959 +       otherwise;
15960 +      end;
15961 +   run;
15963 +   %if "&gpTrain" ne "" %then %do;
15965 +       %scoreTables(data=&em_lib..&gpTrain,     out=&em_export_train,    scoreref=emflow, prescore=Y);
15967 +       %if &targetType ne INTERVAL %then %do;
15968 +           %makeClassificationVars(target=&targetname, data=&em_export_train, decmeta=&endgrp_decmeta, publish=N, fref=emflow);
15969 +       %end;
15971 +       %makeResidualVars(target=&targetname, decmeta=&endgrp_decmeta, fref=emflow);
15973 +       %let decflow = %sysfunc(Pathname(WORK))&em_dsep._decflow.sas;
15975 +       %em_decidecode(data=&em_export_train , decdata=&ENDGRP_DECDATA , decmeta=&ENDGRP_DECMETA ,
15976 +                                                           noresfile=, resfile=%nrbquote(&decflow));
15978 +       filename _decflow "&decflow";
15979 +       %em_copyfile(infref=_decflow, outfref=emflow, append=Y);
15980 +       filename _decflow;
15982 +   %end;
15984 +   %if "&gpTrain" ne "" %then
15985 +        %scoreTables(data=&em_lib..%sysfunc(strip(&gpTrain)),     out=&em_export_train,    scoreref=emflow);
15986 +   %if "&gpValidate" ne "" %then
15987 +       %scoreTables(data=&em_lib..%sysfunc(strip(&gpValidate)),  out=&em_export_validate, scoreref=emflow);
15988 +   %if "&gpTest" ne "" %then
15989 +       %scoreTables(data=&em_lib..%sysfunc(strip(&gpTest)),      out=&em_export_test,     scoreref=emflow);
15991 +   filename emflow;
15993 +%mend boostbagcode;
15995 +%macro score;
15997 +   filename _dec catalog "sashelp.emutil.em_decidecode.source";
15998 +   %inc _dec;
15999 +   filename _dec;
16001 +   %if ^%symexist(em_import_data_eminfo) or ("&emloopmode" eq "") %then %goto doendpl;
16003 +   %if "&em_import_data_eminfo" eq "" or ^%sysfunc(exist(&em_import_data_eminfo)) %then %do;
16004 +       %let emexceptionstring = nomodeltarget;
16005 +       %goto doendpl;
16006 +   %end;
16008 +   %LET GROUPID=;
16009 +   %let LOOPTYPE=;
16010 +   data _null_;
16011 +      set &em_import_data_eminfo;
16012 +      where key in('GROUPINFO','BOOSTINFO', 'BAGINFO', 'TARGETINFO', 'INDEXINFO');
16013 +      call symput('GROUPID',   strip(data));
16014 +      call symput('LOOPTYPE', strip(key));
16015 +   run;
16017 +   %em_getname(key=PATH, type=DATA);
16019 +   filename temp catalog 'sashelp.emutil.em_gettrainpath.source';
16020 +   %include temp;
16021 +   filename temp;
16023 +   %em_gettrainpath(NODEID=&em_nodeid, OUTPATH= score_path);
16025 +   %if &emloopnumber = 1 and %sysfunc(exist(&em_user_path)) %then %do;
16026 +       %let deleteString = &em_nodeid._path;
16027 +       proc datasets lib=&em_lib nolist;
16028 +          delete &deleteString;
16029 +       run;
16030 +       quit;
16031 +   %end;
16033 +   %if ^%sysfunc(exist(WORK.score_path)) %then %goto doendpl;
16035 +   data score_path;
16036 +      retain LOOPID &emloopnumber;
16037 +      set score_path;
16038 +   run;
16040 +   proc append base=&em_user_path  data=score_path;
16041 +   run;
16043 +   %let EnsembleIndex=0;
16044 +   data _null_;
16045 +      retain index 0 ensembleIndex 0;
16046 +      set score_Path end=eof;
16047 +      if nodelabel = "&groupid" or index then do;
16048 +         index + 1;
16049 +         call symput('loopnode'!!strip(put(index, best.)), strip(nodelabel));
16050 +         call symput('loopdesc'!!strip(put(index, best.)), strip(component));
16051 +      end;
16052 +      if component='Ensemble' then ensembleIndex = index;
16053 +      if eof then do;
16054 +         call symput('loopcodenum', strip(put(index, best.)));
16055 +         call symput('EnsembleIndex', strip(put(ensembleIndex, best.)));
16056 +      end;
16057 +   run;
16059 +   proc datasets lib=work nolist;
16060 +      delete score_Path;
16061 +   run;
16062 +   quit;
16064 +   %if ("&looptype" eq "BOOSTINFO") or ("&looptype" eq "BAGINFO") %then
16065 +       %boostbagcode(groupid=&groupid, type=&looptype, EnsembleIndex=&EnsembleIndex);
16067 +   %doendpl:
16069 +%mend score;
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
NOTE: %INCLUDE (level 1) file _DEC is file SASHELP.EMUTIL.EM_DECIDECODE.SOURCE.
16070 +/*
16071 +       MACRO: EM_DECIDECODE
16072 +
16073 +       PURPOSE: Generate EM Decide Score Code for non-interval target.
16074 +       SUPPORT: Taiyeong Lee
16075 +
16076 +       HISTORY: 01OCT04 Initial code
16077 +       NOTE:    All parameters are optional, call %EM_DECIDECODE()
16078 +                to add the corresponding decision code
16079 +
16080 +*/
16081 +
16082 +
16083 +%macro  EM_DECIDECODE(data= , decdata= , decmeta= , noresfile=, resfile=);
16084 + %global m_data    m_decdata   m_decmeta  m_noresfile  m_resfile ;
16085 +
16086 +    %do;
16087 +    %let m_data      = &data;
16088 +    %let m_decdata   = &decdata;
16089 +    %let m_decmeta   = &decmeta;
16090 +    %let m_noresfile = &noresfile;
16091 +    %let m_resfile   = &resfile;
16092 +    dm "afa c=sashelp.emutil.decidecode.scl";
16093 +  %end;
16094 +%mend EM_DECIDECODE;
16095 +
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref _DEC has been deassigned.
 
NOTE: There were 1 observations read from the data set EMWS1.TREE5_EMINFO.
      WHERE key in ('BAGINFO', 'BOOSTINFO', 'GROUPINFO', 'INDEXINFO', 'TARGETINFO');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: %INCLUDE (level 1) file TEMP is file SASHELP.EMUTIL.EM_GETTRAINPATH.SOURCE.
16096 +%macro EM_GETTRAINPATH(NODEID=, OUTPATH=);
16097 +   proc display c=sashelp.emcore.pathscorecode.scl;
16098 +   run;
16099 +%mend EM_GETTRAINPATH;
16100 +
NOTE: %INCLUDE (level 1) ending.
NOTE: Fileref TEMP has been deassigned.
 
16101  data score_path;
16102  length Parent $32 nodelabel $32 description $200 tooltype $32 component $32 FlowScoreCodeFormat PublishScoreCode $16 PublishScoreCodeFormat $8 accumulatedScoreCode $1;
16103  nodelabel="FIMPORT";
16104  parent=" ";
16105  description="Extension Class";
16106  component="FileImport";
16107  tooltype="SAMPLE";
16108  FlowScoreCodeFormat="DATASTEP";
16109  PublishScoreCode="EMPUBLISHSCORECODE";
16110  PublishScoreCodeFormat="DATASTEP";
16111  accumulatedScoreCode= "N";
16112  output;
16113  nodelabel="Repl";
16114  parent="FIMPORT";
16115  description="Extension Class";
16116  component="Replace";
16117  tooltype="MODIFY";
16118  FlowScoreCodeFormat="DATASTEP";
16119  PublishScoreCode="EMPUBLISHSCORECODE";
16120  PublishScoreCodeFormat="DATASTEP";
16121  accumulatedScoreCode= "N";
16122  output;
16123  nodelabel="Impt";
16124  parent="Repl";
16125  description="Imputation";
16126  component="Impute";
16127  tooltype="MODIFY";
16128  FlowScoreCodeFormat="DATASTEP";
16129  PublishScoreCode="EMPUBLISHSCORECODE";
16130  PublishScoreCodeFormat="DATASTEP";
16131  accumulatedScoreCode= "N";
16132  output;
16133  nodelabel="Stat";
16134  parent="Impt";
16135  description="Statistics Exploration";
16136  component="StatExplore";
16137  tooltype="EXPLORE";
16138  FlowScoreCodeFormat="DATASTEP";
16139  PublishScoreCode="EMFLOWSCORECODE";
16140  PublishScoreCodeFormat="DATASTEP";
16141  accumulatedScoreCode= "N";
16142  output;
16143  nodelabel="Varsel";
16144  parent="Stat";
16145  description="Variable selection  Class";
16146  component="VariableSelection";
16147  tooltype="EXPLORE";
16148  FlowScoreCodeFormat="DATASTEP";
16149  PublishScoreCode="EMFLOWSCORECODE";
16150  PublishScoreCodeFormat="DATASTEP";
16151  accumulatedScoreCode= "N";
16152  output;
16153  nodelabel="Trans";
16154  parent="Varsel";
16155  description="Transform";
16156  component="Transform";
16157  tooltype="MODIFY";
16158  FlowScoreCodeFormat="DATASTEP";
16159  PublishScoreCode="EMPUBLISHSCORECODE";
16160  PublishScoreCodeFormat="DATASTEP";
16161  accumulatedScoreCode= "N";
16162  output;
16163  nodelabel="BINNING";
16164  parent="Trans";
16165  description="Extension Class";
16166  component="Binning";
16167  tooltype="MODIFY";
16168  FlowScoreCodeFormat="DATASTEP";
16169  PublishScoreCode="EMPUBLISHSCORECODE";
16170  PublishScoreCodeFormat="DATASTEP";
16171  accumulatedScoreCode= "N";
16172  output;
16173  nodelabel="Stat2";
16174  parent="BINNING";
16175  description="Statistics Exploration";
16176  component="StatExplore";
16177  tooltype="EXPLORE";
16178  FlowScoreCodeFormat="DATASTEP";
16179  PublishScoreCode="EMFLOWSCORECODE";
16180  PublishScoreCodeFormat="DATASTEP";
16181  accumulatedScoreCode= "N";
16182  output;
16183  nodelabel="Grp";
16184  parent="Stat2";
16185  description="Extension Class";
16186  component="StartGroup";
16187  tooltype="UTILITY";
16188  FlowScoreCodeFormat="DATASTEP";
16189  PublishScoreCode="EMPUBLISHSCORECODE";
16190  PublishScoreCodeFormat="DATASTEP";
16191  accumulatedScoreCode= "N";
16192  output;
16193  nodelabel="Tree5";
16194  parent="Grp";
16195  description="Extension Class";
16196  component="DecisionTree";
16197  tooltype="MODEL";
16198  FlowScoreCodeFormat="DATASTEP";
16199  PublishScoreCode="EMPUBLISHSCORECODE";
16200  PublishScoreCodeFormat="DATASTEP";
16201  accumulatedScoreCode= "N";
16202  output;
16203  nodelabel="EndGrp";
16204  parent="Tree5";
16205  description="Extension Class";
16206  component="EndGroup";
16207  tooltype="MODEL";
16208  FlowScoreCodeFormat="DATASTEP";
16209  PublishScoreCode="EMPUBLISHSCORECODE";
16210  PublishScoreCodeFormat="DATASTEP";
16211  accumulatedScoreCode= "N";
16212  output;
16213  run;
 
NOTE: The data set WORK.SCORE_PATH has 11 observations and 9 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
NOTE: PROCEDURE DISPLAY used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: There were 11 observations read from the data set WORK.SCORE_PATH.
NOTE: The data set WORK.SCORE_PATH has 11 observations and 10 variables.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: Appending WORK.SCORE_PATH to EMWS1.ENDGRP_PATH.
NOTE: There were 11 observations read from the data set WORK.SCORE_PATH.
NOTE: 11 observations added.
NOTE: The data set EMWS1.ENDGRP_PATH has 110 observations and 10 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: There were 11 observations read from the data set WORK.SCORE_PATH.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: Deleting WORK.SCORE_PATH (memtype=DATA).
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: Numeric values have been converted to character values at the places given by: (Line):(Column).
      15:120
NOTE: There were 1 observations read from the data set EMWS1.GRP_BAGINFO.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: There were 3 observations read from the data set EMWS1.TREE5_EMINFO.
      WHERE key in ('DECDATA', 'DECMETA', 'MODEL') and (TARGET='Contributed_To_Accident');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: There were 13 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The file LOOPFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=58666,
      Last Modified=23Nov2016:03:26:46,
      Create Time=23Nov2016:03:23:12
 
NOTE: 6 records were written to the file LOOPFLOW.
      The minimum record length was 14.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The file LOOPPUB is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPPUBCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=48966,
      Last Modified=23Nov2016:03:26:46,
      Create Time=23Nov2016:03:23:12
 
NOTE: 6 records were written to the file LOOPPUB.
      The minimum record length was 14.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
 
 
NOTE: Fileref X has been deassigned.
NOTE: Fileref Y has been deassigned.
 
NOTE: The file LOOPFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=58878,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 6 records were written to the file LOOPFLOW.
      The minimum record length was 14.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The file LOOPPUB is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPPUBCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=49178,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 6 records were written to the file LOOPPUB.
      The minimum record length was 14.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The file LOOPFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPFLOWCODE.sas,
      RECFM=V,LRECL=20000,File Size (bytes)=59094,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 124 records were written to the file LOOPFLOW.
      The minimum record length was 1.
      The maximum record length was 78.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
NOTE: Fileref X has been deassigned.
 
NOTE: The file LOOPPUB is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPPUBCODE.sas,
      RECFM=V,LRECL=20000,File Size (bytes)=49394,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 100 records were written to the file LOOPPUB.
      The minimum record length was 1.
      The maximum record length was 77.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
NOTE: Fileref Y has been deassigned.
 
NOTE: The file LOOPFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=64353,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 6 records were written to the file LOOPFLOW.
      The minimum record length was 14.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: The file LOOPPUB is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPPUBCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=53633,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 6 records were written to the file LOOPPUB.
      The minimum record length was 14.
      The maximum record length was 63.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The file LOOPFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPFLOWCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=64566,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 5 records were written to the file LOOPFLOW.
      The minimum record length was 42.
      The maximum record length was 85.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: The file LOOPPUB is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\LOOPPUBCODE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=53846,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:23:12
 
NOTE: 4 records were written to the file LOOPPUB.
      The minimum record length was 42.
      The maximum record length was 85.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The file EMFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMFLOWSCORE.sas,
      RECFM=V,LRECL=20000,File Size (bytes)=0,
      Last Modified=23Nov2016:03:27:11,
      Create Time=23Nov2016:03:27:11
 
NOTE: 1523 records were written to the file EMFLOW.
      The minimum record length was 1.
      The maximum record length was 85.
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.03 seconds
 
 
 
NOTE: The file EMPUB is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMPUBLISHSCORE.sas,
      RECFM=V,LRECL=20000,File Size (bytes)=0,
      Last Modified=23Nov2016:03:27:12,
      Create Time=23Nov2016:03:27:12
 
NOTE: 1274 records were written to the file EMPUB.
      The minimum record length was 1.
      The maximum record length was 85.
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.03 seconds
 
 
NOTE: Fileref LOOPFLOW has been deassigned.
NOTE: Fileref LOOPPUB has been deassigned.
NOTE: Fileref EMPUB has been deassigned.
 
NOTE: There were 15 observations read from the data set EMWS1.GRP_IMPORTSET.
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: %INCLUDE (level 1) file EMFLOW is file D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMFLOWSCORE.sas.
16214 +*------------------------------------------------------------*;
16215 +* EndGrp: ;
16216 +* User: Divya;
16217 +* Date: 23NOV16: 03:23;
16218 +*------------------------------------------------------------* ;
16219 +* Ensemble Code;
16220 +*------------------------------------------------------------* ;
16221 +* Bagging: Loop=1;
16222 +* Temporary Variables;
16223 +drop _BagVar1;
16224 +_BagVar1 = 0;
16225 +drop _BagVar2;
16226 +_BagVar2 = 0;
16227 +*------------------------------------------------------------*;
16228 +* Grp: StartGroup;
16229 +* User: Divya;
16230 +* Date: 23NOV16: 03:23;
16231 +* Bagging: Loop=1;
16232 +*------------------------------------------------------------*;
16233 +*------------------------------------------------------------*;
16234 +* Tree5: DecisionTree;
16235 +* User: Divya;
16236 +* Date: 23NOV16: 03:23;
16237 +* Bagging: Loop=1;
16238 +*------------------------------------------------------------*;
16239 +****************************************************************;
16240 +******             DECISION TREE SCORING CODE             ******;
16241 +****************************************************************;
16242 +
16243 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
16244 +LENGTH F_Contributed_To_Accident  $    3;
16245 +LENGTH I_Contributed_To_Accident  $    3;
16246 +LENGTH U_Contributed_To_Accident  $    3;
16247 +LENGTH _WARN_  $    4;
16248 +
16249 +******              LABELS FOR NEW VARIABLES              ******;
16250 +label _NODE_ = 'Node' ;
16251 +label _LEAF_ = 'Leaf' ;
16252 +label P_Contributed_To_AccidentYes =
16253 +'Predicted: Contributed_To_Accident=Yes' ;
16254 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
16255 +label Q_Contributed_To_AccidentYes =
16256 +'Unadjusted P: Contributed_To_Accident=Yes' ;
16257 +label Q_Contributed_To_AccidentNo =
16258 +'Unadjusted P: Contributed_To_Accident=No' ;
16259 +label V_Contributed_To_AccidentYes =
16260 +'Validated: Contributed_To_Accident=Yes' ;
16261 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
16262 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
16263 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
16264 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
16265 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
16266 +label U_Contributed_To_Accident =
16267 +'Unnormalized Into: Contributed_To_Accident' ;
16268 +label _WARN_ = 'Warnings' ;
16269 +
16270 +
16271 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
16272 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
16273 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
16274 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
16275 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
16276 +
16277 +
16278 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
16279 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
16280 +
16281 +******             ASSIGN OBSERVATION TO NODE             ******;
16282 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
16283 + %DMNORMIP( _ARBFMT_12);
16284 +IF _ARBFMT_12 IN ('3' ) THEN DO;
16285 +  _NODE_  =                    3;
16286 +  _LEAF_  =                    4;
16287 +  P_Contributed_To_AccidentYes  =     0.96969696969696;
16288 +  P_Contributed_To_AccidentNo  =     0.03030303030303;
16289 +  Q_Contributed_To_AccidentYes  =     0.96969696969696;
16290 +  Q_Contributed_To_AccidentNo  =     0.03030303030303;
16291 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
16292 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
16293 +  I_Contributed_To_Accident  = 'YES' ;
16294 +  U_Contributed_To_Accident  = 'Yes' ;
16295 +  END;
16296 +ELSE DO;
16297 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
16298 +   %DMNORMIP( _ARBFMT_12);
16299 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
16300 +    _NODE_  =                    5;
16301 +    _LEAF_  =                    3;
16302 +    P_Contributed_To_AccidentYes  =      0.9763779527559;
16303 +    P_Contributed_To_AccidentNo  =     0.02362204724409;
16304 +    Q_Contributed_To_AccidentYes  =      0.9763779527559;
16305 +    Q_Contributed_To_AccidentNo  =     0.02362204724409;
16306 +    V_Contributed_To_AccidentYes  =                    0;
16307 +    V_Contributed_To_AccidentNo  =                    0;
16308 +    I_Contributed_To_Accident  = 'YES' ;
16309 +    U_Contributed_To_Accident  = 'Yes' ;
16310 +    END;
16311 +  ELSE DO;
16312 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
16313 +     %DMNORMIP( _ARBFMT_12);
16314 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
16315 +      _NODE_  =                    7;
16316 +      _LEAF_  =                    2;
16317 +      P_Contributed_To_AccidentYes  =     0.18579234972677;
16318 +      P_Contributed_To_AccidentNo  =     0.81420765027322;
16319 +      Q_Contributed_To_AccidentYes  =     0.18579234972677;
16320 +      Q_Contributed_To_AccidentNo  =     0.81420765027322;
16321 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
16322 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
16323 +      I_Contributed_To_Accident  = 'NO' ;
16324 +      U_Contributed_To_Accident  = 'No' ;
16325 +      END;
16326 +    ELSE DO;
16327 +      _NODE_  =                    6;
16328 +      _LEAF_  =                    1;
16329 +      P_Contributed_To_AccidentYes  =     0.38775510204081;
16330 +      P_Contributed_To_AccidentNo  =     0.61224489795918;
16331 +      Q_Contributed_To_AccidentYes  =     0.38775510204081;
16332 +      Q_Contributed_To_AccidentNo  =     0.61224489795918;
16333 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
16334 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
16335 +      I_Contributed_To_Accident  = 'NO' ;
16336 +      U_Contributed_To_Accident  = 'No' ;
16337 +      END;
16338 +    END;
16339 +  END;
16340 +
16341 +*****  RESIDUALS R_ *************;
16342 +IF  F_Contributed_To_Accident  NE 'YES'
16343 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
16344 +        R_Contributed_To_AccidentYes  = .;
16345 +        R_Contributed_To_AccidentNo  = .;
16346 + END;
16347 + ELSE DO;
16348 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
16349 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
16350 +       SELECT( F_Contributed_To_Accident  );
16351 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
16352 +        R_Contributed_To_AccidentYes  +1;
16353 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
16354 +        R_Contributed_To_AccidentNo  +1;
16355 +       END;
16356 + END;
16357 +
16358 +****************************************************************;
16359 +******          END OF DECISION TREE SCORING CODE         ******;
16360 +****************************************************************;
16361 +
16362 +drop _LEAF_;
16363 +*------------------------------------------------------------*;
16364 +* EndGrp: EndGroup;
16365 +* User: Divya;
16366 +* Date: 23NOV16: 03:23;
16367 +* Bagging: Loop=1;
16368 +*------------------------------------------------------------*;
16369 +*------------------------------------------------------------*;
16370 +* Bagging: Saving Probabilities for Next Iteration;
16371 +*------------------------------------------------------------*;
16372 +_BagVar1 = P_Contributed_To_AccidentYes;
16373 +_BagVar2 = P_Contributed_To_AccidentNo;
16374 +*------------------------------------------------------------*;
16375 +* Grp: StartGroup;
16376 +* User: Divya;
16377 +* Date: 23NOV16: 03:23;
16378 +* Bagging: Loop=2;
16379 +*------------------------------------------------------------*;
16380 +*------------------------------------------------------------*;
16381 +* Tree5: DecisionTree;
16382 +* User: Divya;
16383 +* Date: 23NOV16: 03:23;
16384 +* Bagging: Loop=2;
16385 +*------------------------------------------------------------*;
16386 +****************************************************************;
16387 +******             DECISION TREE SCORING CODE             ******;
16388 +****************************************************************;
16389 +
16390 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
16391 +LENGTH F_Contributed_To_Accident  $    3;
16392 +LENGTH I_Contributed_To_Accident  $    3;
16393 +LENGTH U_Contributed_To_Accident  $    3;
16394 +LENGTH _WARN_  $    4;
16395 +
16396 +******              LABELS FOR NEW VARIABLES              ******;
16397 +label _NODE_ = 'Node' ;
16398 +label _LEAF_ = 'Leaf' ;
16399 +label P_Contributed_To_AccidentYes =
16400 +'Predicted: Contributed_To_Accident=Yes' ;
16401 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
16402 +label Q_Contributed_To_AccidentYes =
16403 +'Unadjusted P: Contributed_To_Accident=Yes' ;
16404 +label Q_Contributed_To_AccidentNo =
16405 +'Unadjusted P: Contributed_To_Accident=No' ;
16406 +label V_Contributed_To_AccidentYes =
16407 +'Validated: Contributed_To_Accident=Yes' ;
16408 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
16409 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
16410 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
16411 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
16412 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
16413 +label U_Contributed_To_Accident =
16414 +'Unnormalized Into: Contributed_To_Accident' ;
16415 +label _WARN_ = 'Warnings' ;
16416 +
16417 +
16418 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
16419 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
16420 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
16421 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
16422 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
16423 +
16424 +
16425 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
16426 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
16427 +
16428 +******             ASSIGN OBSERVATION TO NODE             ******;
16429 +_ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
16430 + %DMNORMIP( _ARBFMT_12);
16431 +IF _ARBFMT_12 IN ('3' ) THEN DO;
16432 +  _NODE_  =                    3;
16433 +  _LEAF_  =                    4;
16434 +  P_Contributed_To_AccidentYes  =     0.98561151079136;
16435 +  P_Contributed_To_AccidentNo  =     0.01438848920863;
16436 +  Q_Contributed_To_AccidentYes  =     0.98561151079136;
16437 +  Q_Contributed_To_AccidentNo  =     0.01438848920863;
16438 +  V_Contributed_To_AccidentYes  =                    0;
16439 +  V_Contributed_To_AccidentNo  =                    0;
16440 +  I_Contributed_To_Accident  = 'YES' ;
16441 +  U_Contributed_To_Accident  = 'Yes' ;
16442 +  END;
16443 +ELSE DO;
16444 +  _ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
16445 +   %DMNORMIP( _ARBFMT_12);
16446 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
16447 +    _NODE_  =                    5;
16448 +    _LEAF_  =                    3;
16449 +    P_Contributed_To_AccidentYes  =     0.93421052631578;
16450 +    P_Contributed_To_AccidentNo  =     0.06578947368421;
16451 +    Q_Contributed_To_AccidentYes  =     0.93421052631578;
16452 +    Q_Contributed_To_AccidentNo  =     0.06578947368421;
16453 +    V_Contributed_To_AccidentYes  =      0.2156862745098;
16454 +    V_Contributed_To_AccidentNo  =     0.78431372549019;
16455 +    I_Contributed_To_Accident  = 'YES' ;
16456 +    U_Contributed_To_Accident  = 'Yes' ;
16457 +    END;
16458 +  ELSE DO;
16459 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
16460 +     %DMNORMIP( _ARBFMT_12);
16461 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
16462 +      _NODE_  =                    7;
16463 +      _LEAF_  =                    2;
16464 +      P_Contributed_To_AccidentYes  =     0.15028901734104;
16465 +      P_Contributed_To_AccidentNo  =     0.84971098265895;
16466 +      Q_Contributed_To_AccidentYes  =     0.15028901734104;
16467 +      Q_Contributed_To_AccidentNo  =     0.84971098265895;
16468 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
16469 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
16470 +      I_Contributed_To_Accident  = 'NO' ;
16471 +      U_Contributed_To_Accident  = 'No' ;
16472 +      END;
16473 +    ELSE DO;
16474 +      _NODE_  =                    6;
16475 +      _LEAF_  =                    1;
16476 +      P_Contributed_To_AccidentYes  =     0.34456928838951;
16477 +      P_Contributed_To_AccidentNo  =     0.65543071161048;
16478 +      Q_Contributed_To_AccidentYes  =     0.34456928838951;
16479 +      Q_Contributed_To_AccidentNo  =     0.65543071161048;
16480 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
16481 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
16482 +      I_Contributed_To_Accident  = 'NO' ;
16483 +      U_Contributed_To_Accident  = 'No' ;
16484 +      END;
16485 +    END;
16486 +  END;
16487 +
16488 +*****  RESIDUALS R_ *************;
16489 +IF  F_Contributed_To_Accident  NE 'YES'
16490 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
16491 +        R_Contributed_To_AccidentYes  = .;
16492 +        R_Contributed_To_AccidentNo  = .;
16493 + END;
16494 + ELSE DO;
16495 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
16496 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
16497 +       SELECT( F_Contributed_To_Accident  );
16498 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
16499 +        R_Contributed_To_AccidentYes  +1;
16500 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
16501 +        R_Contributed_To_AccidentNo  +1;
16502 +       END;
16503 + END;
16504 +
16505 +****************************************************************;
16506 +******          END OF DECISION TREE SCORING CODE         ******;
16507 +****************************************************************;
16508 +
16509 +drop _LEAF_;
16510 +*------------------------------------------------------------*;
16511 +* EndGrp: EndGroup;
16512 +* User: Divya;
16513 +* Date: 23NOV16: 03:23;
16514 +* Bagging: Loop=2;
16515 +*------------------------------------------------------------*;
16516 +*------------------------------------------------------------*;
16517 +* Bagging: accumulate probabilities for iteration: 2;
16518 +*------------------------------------------------------------*;
16519 +P_Contributed_To_AccidentYes = _BagVar1*(1/2) + P_Contributed_To_AccidentYes*(1/2);
16520 +P_Contributed_To_AccidentNo = _BagVar2*(1/2) + P_Contributed_To_AccidentNo*(1/2);
16521 +*------------------------------------------------------------*;
16522 +* Bagging: Saving Probabilities for Next Iteration;
16523 +*------------------------------------------------------------*;
16524 +_BagVar1 = P_Contributed_To_AccidentYes;
16525 +_BagVar2 = P_Contributed_To_AccidentNo;
16526 +*------------------------------------------------------------*;
16527 +* Grp: StartGroup;
16528 +* User: Divya;
16529 +* Date: 23NOV16: 03:24;
16530 +* Bagging: Loop=3;
16531 +*------------------------------------------------------------*;
16532 +*------------------------------------------------------------*;
16533 +* Tree5: DecisionTree;
16534 +* User: Divya;
16535 +* Date: 23NOV16: 03:24;
16536 +* Bagging: Loop=3;
16537 +*------------------------------------------------------------*;
16538 +****************************************************************;
16539 +******             DECISION TREE SCORING CODE             ******;
16540 +****************************************************************;
16541 +
16542 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
16543 +LENGTH F_Contributed_To_Accident  $    3;
16544 +LENGTH I_Contributed_To_Accident  $    3;
16545 +LENGTH U_Contributed_To_Accident  $    3;
16546 +LENGTH _WARN_  $    4;
16547 +
16548 +******              LABELS FOR NEW VARIABLES              ******;
16549 +label _NODE_ = 'Node' ;
16550 +label _LEAF_ = 'Leaf' ;
16551 +label P_Contributed_To_AccidentYes =
16552 +'Predicted: Contributed_To_Accident=Yes' ;
16553 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
16554 +label Q_Contributed_To_AccidentYes =
16555 +'Unadjusted P: Contributed_To_Accident=Yes' ;
16556 +label Q_Contributed_To_AccidentNo =
16557 +'Unadjusted P: Contributed_To_Accident=No' ;
16558 +label V_Contributed_To_AccidentYes =
16559 +'Validated: Contributed_To_Accident=Yes' ;
16560 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
16561 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
16562 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
16563 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
16564 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
16565 +label U_Contributed_To_Accident =
16566 +'Unnormalized Into: Contributed_To_Accident' ;
16567 +label _WARN_ = 'Warnings' ;
16568 +
16569 +
16570 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
16571 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
16572 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
16573 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
16574 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
16575 +
16576 +
16577 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
16578 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
16579 +
16580 +******             ASSIGN OBSERVATION TO NODE             ******;
16581 +_ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
16582 + %DMNORMIP( _ARBFMT_12);
16583 +IF _ARBFMT_12 IN ('3' ) THEN DO;
16584 +  _NODE_  =                    3;
16585 +  _LEAF_  =                    4;
16586 +  P_Contributed_To_AccidentYes  =     0.97902097902097;
16587 +  P_Contributed_To_AccidentNo  =     0.02097902097902;
16588 +  Q_Contributed_To_AccidentYes  =     0.97902097902097;
16589 +  Q_Contributed_To_AccidentNo  =     0.02097902097902;
16590 +  V_Contributed_To_AccidentYes  =                    0;
16591 +  V_Contributed_To_AccidentNo  =                    0;
16592 +  I_Contributed_To_Accident  = 'YES' ;
16593 +  U_Contributed_To_Accident  = 'Yes' ;
16594 +  END;
16595 +ELSE DO;
16596 +  _ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
16597 +   %DMNORMIP( _ARBFMT_12);
16598 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
16599 +    _NODE_  =                    5;
16600 +    _LEAF_  =                    3;
16601 +    P_Contributed_To_AccidentYes  =     0.94409937888198;
16602 +    P_Contributed_To_AccidentNo  =     0.05590062111801;
16603 +    Q_Contributed_To_AccidentYes  =     0.94409937888198;
16604 +    Q_Contributed_To_AccidentNo  =     0.05590062111801;
16605 +    V_Contributed_To_AccidentYes  =      0.2156862745098;
16606 +    V_Contributed_To_AccidentNo  =     0.78431372549019;
16607 +    I_Contributed_To_Accident  = 'YES' ;
16608 +    U_Contributed_To_Accident  = 'Yes' ;
16609 +    END;
16610 +  ELSE DO;
16611 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
16612 +     %DMNORMIP( _ARBFMT_12);
16613 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
16614 +      _NODE_  =                    7;
16615 +      _LEAF_  =                    2;
16616 +      P_Contributed_To_AccidentYes  =     0.18407960199004;
16617 +      P_Contributed_To_AccidentNo  =     0.81592039800995;
16618 +      Q_Contributed_To_AccidentYes  =     0.18407960199004;
16619 +      Q_Contributed_To_AccidentNo  =     0.81592039800995;
16620 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
16621 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
16622 +      I_Contributed_To_Accident  = 'NO' ;
16623 +      U_Contributed_To_Accident  = 'No' ;
16624 +      END;
16625 +    ELSE DO;
16626 +      _NODE_  =                    6;
16627 +      _LEAF_  =                    1;
16628 +      P_Contributed_To_AccidentYes  =     0.35091277890466;
16629 +      P_Contributed_To_AccidentNo  =     0.64908722109533;
16630 +      Q_Contributed_To_AccidentYes  =     0.35091277890466;
16631 +      Q_Contributed_To_AccidentNo  =     0.64908722109533;
16632 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
16633 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
16634 +      I_Contributed_To_Accident  = 'NO' ;
16635 +      U_Contributed_To_Accident  = 'No' ;
16636 +      END;
16637 +    END;
16638 +  END;
16639 +
16640 +*****  RESIDUALS R_ *************;
16641 +IF  F_Contributed_To_Accident  NE 'YES'
16642 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
16643 +        R_Contributed_To_AccidentYes  = .;
16644 +        R_Contributed_To_AccidentNo  = .;
16645 + END;
16646 + ELSE DO;
16647 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
16648 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
16649 +       SELECT( F_Contributed_To_Accident  );
16650 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
16651 +        R_Contributed_To_AccidentYes  +1;
16652 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
16653 +        R_Contributed_To_AccidentNo  +1;
16654 +       END;
16655 + END;
16656 +
16657 +****************************************************************;
16658 +******          END OF DECISION TREE SCORING CODE         ******;
16659 +****************************************************************;
16660 +
16661 +drop _LEAF_;
16662 +*------------------------------------------------------------*;
16663 +* EndGrp: EndGroup;
16664 +* User: Divya;
16665 +* Date: 23NOV16: 03:24;
16666 +* Bagging: Loop=3;
16667 +*------------------------------------------------------------*;
16668 +*------------------------------------------------------------*;
16669 +* Bagging: accumulate probabilities for iteration: 3;
16670 +*------------------------------------------------------------*;
16671 +P_Contributed_To_AccidentYes = _BagVar1*(2/3) + P_Contributed_To_AccidentYes*(1/3);
16672 +P_Contributed_To_AccidentNo = _BagVar2*(2/3) + P_Contributed_To_AccidentNo*(1/3);
16673 +*------------------------------------------------------------*;
16674 +* Bagging: Saving Probabilities for Next Iteration;
16675 +*------------------------------------------------------------*;
16676 +_BagVar1 = P_Contributed_To_AccidentYes;
16677 +_BagVar2 = P_Contributed_To_AccidentNo;
16678 +*------------------------------------------------------------*;
16679 +* Grp: StartGroup;
16680 +* User: Divya;
16681 +* Date: 23NOV16: 03:24;
16682 +* Bagging: Loop=4;
16683 +*------------------------------------------------------------*;
16684 +*------------------------------------------------------------*;
16685 +* Tree5: DecisionTree;
16686 +* User: Divya;
16687 +* Date: 23NOV16: 03:24;
16688 +* Bagging: Loop=4;
16689 +*------------------------------------------------------------*;
16690 +****************************************************************;
16691 +******             DECISION TREE SCORING CODE             ******;
16692 +****************************************************************;
16693 +
16694 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
16695 +LENGTH F_Contributed_To_Accident  $    3;
16696 +LENGTH I_Contributed_To_Accident  $    3;
16697 +LENGTH U_Contributed_To_Accident  $    3;
16698 +LENGTH _WARN_  $    4;
16699 +
16700 +******              LABELS FOR NEW VARIABLES              ******;
16701 +label _NODE_ = 'Node' ;
16702 +label _LEAF_ = 'Leaf' ;
16703 +label P_Contributed_To_AccidentYes =
16704 +'Predicted: Contributed_To_Accident=Yes' ;
16705 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
16706 +label Q_Contributed_To_AccidentYes =
16707 +'Unadjusted P: Contributed_To_Accident=Yes' ;
16708 +label Q_Contributed_To_AccidentNo =
16709 +'Unadjusted P: Contributed_To_Accident=No' ;
16710 +label V_Contributed_To_AccidentYes =
16711 +'Validated: Contributed_To_Accident=Yes' ;
16712 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
16713 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
16714 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
16715 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
16716 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
16717 +label U_Contributed_To_Accident =
16718 +'Unnormalized Into: Contributed_To_Accident' ;
16719 +label _WARN_ = 'Warnings' ;
16720 +
16721 +
16722 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
16723 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
16724 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
16725 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
16726 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
16727 +
16728 +
16729 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
16730 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
16731 +
16732 +******             ASSIGN OBSERVATION TO NODE             ******;
16733 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
16734 + %DMNORMIP( _ARBFMT_12);
16735 +IF _ARBFMT_12 IN ('3' ) THEN DO;
16736 +  _NODE_  =                    3;
16737 +  _LEAF_  =                    4;
16738 +  P_Contributed_To_AccidentYes  =     0.93491124260355;
16739 +  P_Contributed_To_AccidentNo  =     0.06508875739644;
16740 +  Q_Contributed_To_AccidentYes  =     0.93491124260355;
16741 +  Q_Contributed_To_AccidentNo  =     0.06508875739644;
16742 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
16743 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
16744 +  I_Contributed_To_Accident  = 'YES' ;
16745 +  U_Contributed_To_Accident  = 'Yes' ;
16746 +  END;
16747 +ELSE DO;
16748 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
16749 +   %DMNORMIP( _ARBFMT_12);
16750 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
16751 +    _NODE_  =                    5;
16752 +    _LEAF_  =                    3;
16753 +    P_Contributed_To_AccidentYes  =     0.94776119402985;
16754 +    P_Contributed_To_AccidentNo  =     0.05223880597014;
16755 +    Q_Contributed_To_AccidentYes  =     0.94776119402985;
16756 +    Q_Contributed_To_AccidentNo  =     0.05223880597014;
16757 +    V_Contributed_To_AccidentYes  =                    0;
16758 +    V_Contributed_To_AccidentNo  =                    0;
16759 +    I_Contributed_To_Accident  = 'YES' ;
16760 +    U_Contributed_To_Accident  = 'Yes' ;
16761 +    END;
16762 +  ELSE DO;
16763 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
16764 +     %DMNORMIP( _ARBFMT_12);
16765 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
16766 +      _NODE_  =                    7;
16767 +      _LEAF_  =                    2;
16768 +      P_Contributed_To_AccidentYes  =     0.13333333333333;
16769 +      P_Contributed_To_AccidentNo  =     0.86666666666666;
16770 +      Q_Contributed_To_AccidentYes  =     0.13333333333333;
16771 +      Q_Contributed_To_AccidentNo  =     0.86666666666666;
16772 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
16773 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
16774 +      I_Contributed_To_Accident  = 'NO' ;
16775 +      U_Contributed_To_Accident  = 'No' ;
16776 +      END;
16777 +    ELSE DO;
16778 +      _NODE_  =                    6;
16779 +      _LEAF_  =                    1;
16780 +      P_Contributed_To_AccidentYes  =     0.37358490566037;
16781 +      P_Contributed_To_AccidentNo  =     0.62641509433962;
16782 +      Q_Contributed_To_AccidentYes  =     0.37358490566037;
16783 +      Q_Contributed_To_AccidentNo  =     0.62641509433962;
16784 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
16785 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
16786 +      I_Contributed_To_Accident  = 'NO' ;
16787 +      U_Contributed_To_Accident  = 'No' ;
16788 +      END;
16789 +    END;
16790 +  END;
16791 +
16792 +*****  RESIDUALS R_ *************;
16793 +IF  F_Contributed_To_Accident  NE 'YES'
16794 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
16795 +        R_Contributed_To_AccidentYes  = .;
16796 +        R_Contributed_To_AccidentNo  = .;
16797 + END;
16798 + ELSE DO;
16799 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
16800 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
16801 +       SELECT( F_Contributed_To_Accident  );
16802 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
16803 +        R_Contributed_To_AccidentYes  +1;
16804 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
16805 +        R_Contributed_To_AccidentNo  +1;
16806 +       END;
16807 + END;
16808 +
16809 +****************************************************************;
16810 +******          END OF DECISION TREE SCORING CODE         ******;
16811 +****************************************************************;
16812 +
16813 +drop _LEAF_;
16814 +*------------------------------------------------------------*;
16815 +* EndGrp: EndGroup;
16816 +* User: Divya;
16817 +* Date: 23NOV16: 03:24;
16818 +* Bagging: Loop=4;
16819 +*------------------------------------------------------------*;
16820 +*------------------------------------------------------------*;
16821 +* Bagging: accumulate probabilities for iteration: 4;
16822 +*------------------------------------------------------------*;
16823 +P_Contributed_To_AccidentYes = _BagVar1*(3/4) + P_Contributed_To_AccidentYes*(1/4);
16824 +P_Contributed_To_AccidentNo = _BagVar2*(3/4) + P_Contributed_To_AccidentNo*(1/4);
16825 +*------------------------------------------------------------*;
16826 +* Bagging: Saving Probabilities for Next Iteration;
16827 +*------------------------------------------------------------*;
16828 +_BagVar1 = P_Contributed_To_AccidentYes;
16829 +_BagVar2 = P_Contributed_To_AccidentNo;
16830 +*------------------------------------------------------------*;
16831 +* Grp: StartGroup;
16832 +* User: Divya;
16833 +* Date: 23NOV16: 03:25;
16834 +* Bagging: Loop=5;
16835 +*------------------------------------------------------------*;
16836 +*------------------------------------------------------------*;
16837 +* Tree5: DecisionTree;
16838 +* User: Divya;
16839 +* Date: 23NOV16: 03:25;
16840 +* Bagging: Loop=5;
16841 +*------------------------------------------------------------*;
16842 +****************************************************************;
16843 +******             DECISION TREE SCORING CODE             ******;
16844 +****************************************************************;
16845 +
16846 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
16847 +LENGTH F_Contributed_To_Accident  $    3;
16848 +LENGTH I_Contributed_To_Accident  $    3;
16849 +LENGTH U_Contributed_To_Accident  $    3;
16850 +LENGTH _WARN_  $    4;
16851 +
16852 +******              LABELS FOR NEW VARIABLES              ******;
16853 +label _NODE_ = 'Node' ;
16854 +label _LEAF_ = 'Leaf' ;
16855 +label P_Contributed_To_AccidentYes =
16856 +'Predicted: Contributed_To_Accident=Yes' ;
16857 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
16858 +label Q_Contributed_To_AccidentYes =
16859 +'Unadjusted P: Contributed_To_Accident=Yes' ;
16860 +label Q_Contributed_To_AccidentNo =
16861 +'Unadjusted P: Contributed_To_Accident=No' ;
16862 +label V_Contributed_To_AccidentYes =
16863 +'Validated: Contributed_To_Accident=Yes' ;
16864 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
16865 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
16866 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
16867 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
16868 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
16869 +label U_Contributed_To_Accident =
16870 +'Unnormalized Into: Contributed_To_Accident' ;
16871 +label _WARN_ = 'Warnings' ;
16872 +
16873 +
16874 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
16875 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
16876 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
16877 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
16878 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
16879 +
16880 +
16881 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
16882 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
16883 +
16884 +******             ASSIGN OBSERVATION TO NODE             ******;
16885 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
16886 + %DMNORMIP( _ARBFMT_12);
16887 +IF _ARBFMT_12 IN ('3' ) THEN DO;
16888 +  _NODE_  =                    3;
16889 +  _LEAF_  =                    4;
16890 +  P_Contributed_To_AccidentYes  =      0.9217877094972;
16891 +  P_Contributed_To_AccidentNo  =     0.07821229050279;
16892 +  Q_Contributed_To_AccidentYes  =      0.9217877094972;
16893 +  Q_Contributed_To_AccidentNo  =     0.07821229050279;
16894 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
16895 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
16896 +  I_Contributed_To_Accident  = 'YES' ;
16897 +  U_Contributed_To_Accident  = 'Yes' ;
16898 +  END;
16899 +ELSE DO;
16900 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
16901 +   %DMNORMIP( _ARBFMT_12);
16902 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
16903 +    _NODE_  =                    5;
16904 +    _LEAF_  =                    3;
16905 +    P_Contributed_To_AccidentYes  =                    1;
16906 +    P_Contributed_To_AccidentNo  =                    0;
16907 +    Q_Contributed_To_AccidentYes  =                    1;
16908 +    Q_Contributed_To_AccidentNo  =                    0;
16909 +    V_Contributed_To_AccidentYes  =                    0;
16910 +    V_Contributed_To_AccidentNo  =                    0;
16911 +    I_Contributed_To_Accident  = 'YES' ;
16912 +    U_Contributed_To_Accident  = 'Yes' ;
16913 +    END;
16914 +  ELSE DO;
16915 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
16916 +     %DMNORMIP( _ARBFMT_12);
16917 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
16918 +      _NODE_  =                    7;
16919 +      _LEAF_  =                    2;
16920 +      P_Contributed_To_AccidentYes  =     0.13089005235602;
16921 +      P_Contributed_To_AccidentNo  =     0.86910994764397;
16922 +      Q_Contributed_To_AccidentYes  =     0.13089005235602;
16923 +      Q_Contributed_To_AccidentNo  =     0.86910994764397;
16924 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
16925 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
16926 +      I_Contributed_To_Accident  = 'NO' ;
16927 +      U_Contributed_To_Accident  = 'No' ;
16928 +      END;
16929 +    ELSE DO;
16930 +      _NODE_  =                    6;
16931 +      _LEAF_  =                    1;
16932 +      P_Contributed_To_AccidentYes  =          0.322265625;
16933 +      P_Contributed_To_AccidentNo  =          0.677734375;
16934 +      Q_Contributed_To_AccidentYes  =          0.322265625;
16935 +      Q_Contributed_To_AccidentNo  =          0.677734375;
16936 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
16937 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
16938 +      I_Contributed_To_Accident  = 'NO' ;
16939 +      U_Contributed_To_Accident  = 'No' ;
16940 +      END;
16941 +    END;
16942 +  END;
16943 +
16944 +*****  RESIDUALS R_ *************;
16945 +IF  F_Contributed_To_Accident  NE 'YES'
16946 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
16947 +        R_Contributed_To_AccidentYes  = .;
16948 +        R_Contributed_To_AccidentNo  = .;
16949 + END;
16950 + ELSE DO;
16951 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
16952 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
16953 +       SELECT( F_Contributed_To_Accident  );
16954 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
16955 +        R_Contributed_To_AccidentYes  +1;
16956 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
16957 +        R_Contributed_To_AccidentNo  +1;
16958 +       END;
16959 + END;
16960 +
16961 +****************************************************************;
16962 +******          END OF DECISION TREE SCORING CODE         ******;
16963 +****************************************************************;
16964 +
16965 +drop _LEAF_;
16966 +*------------------------------------------------------------*;
16967 +* EndGrp: EndGroup;
16968 +* User: Divya;
16969 +* Date: 23NOV16: 03:25;
16970 +* Bagging: Loop=5;
16971 +*------------------------------------------------------------*;
16972 +*------------------------------------------------------------*;
16973 +* Bagging: accumulate probabilities for iteration: 5;
16974 +*------------------------------------------------------------*;
16975 +P_Contributed_To_AccidentYes = _BagVar1*(4/5) + P_Contributed_To_AccidentYes*(1/5);
16976 +P_Contributed_To_AccidentNo = _BagVar2*(4/5) + P_Contributed_To_AccidentNo*(1/5);
16977 +*------------------------------------------------------------*;
16978 +* Bagging: Saving Probabilities for Next Iteration;
16979 +*------------------------------------------------------------*;
16980 +_BagVar1 = P_Contributed_To_AccidentYes;
16981 +_BagVar2 = P_Contributed_To_AccidentNo;
16982 +*------------------------------------------------------------*;
16983 +* Grp: StartGroup;
16984 +* User: Divya;
16985 +* Date: 23NOV16: 03:25;
16986 +* Bagging: Loop=6;
16987 +*------------------------------------------------------------*;
16988 +*------------------------------------------------------------*;
16989 +* Tree5: DecisionTree;
16990 +* User: Divya;
16991 +* Date: 23NOV16: 03:25;
16992 +* Bagging: Loop=6;
16993 +*------------------------------------------------------------*;
16994 +****************************************************************;
16995 +******             DECISION TREE SCORING CODE             ******;
16996 +****************************************************************;
16997 +
16998 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
16999 +LENGTH F_Contributed_To_Accident  $    3;
17000 +LENGTH I_Contributed_To_Accident  $    3;
17001 +LENGTH U_Contributed_To_Accident  $    3;
17002 +LENGTH _WARN_  $    4;
17003 +
17004 +******              LABELS FOR NEW VARIABLES              ******;
17005 +label _NODE_ = 'Node' ;
17006 +label _LEAF_ = 'Leaf' ;
17007 +label P_Contributed_To_AccidentYes =
17008 +'Predicted: Contributed_To_Accident=Yes' ;
17009 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
17010 +label Q_Contributed_To_AccidentYes =
17011 +'Unadjusted P: Contributed_To_Accident=Yes' ;
17012 +label Q_Contributed_To_AccidentNo =
17013 +'Unadjusted P: Contributed_To_Accident=No' ;
17014 +label V_Contributed_To_AccidentYes =
17015 +'Validated: Contributed_To_Accident=Yes' ;
17016 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
17017 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
17018 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
17019 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
17020 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
17021 +label U_Contributed_To_Accident =
17022 +'Unnormalized Into: Contributed_To_Accident' ;
17023 +label _WARN_ = 'Warnings' ;
17024 +
17025 +
17026 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17027 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
17028 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
17029 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17030 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17031 +
17032 +
17033 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
17034 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
17035 +
17036 +******             ASSIGN OBSERVATION TO NODE             ******;
17037 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
17038 + %DMNORMIP( _ARBFMT_12);
17039 +IF _ARBFMT_12 IN ('3' ) THEN DO;
17040 +  _NODE_  =                    3;
17041 +  _LEAF_  =                    4;
17042 +  P_Contributed_To_AccidentYes  =     0.94943820224719;
17043 +  P_Contributed_To_AccidentNo  =      0.0505617977528;
17044 +  Q_Contributed_To_AccidentYes  =     0.94943820224719;
17045 +  Q_Contributed_To_AccidentNo  =      0.0505617977528;
17046 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
17047 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
17048 +  I_Contributed_To_Accident  = 'YES' ;
17049 +  U_Contributed_To_Accident  = 'Yes' ;
17050 +  END;
17051 +ELSE DO;
17052 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
17053 +   %DMNORMIP( _ARBFMT_12);
17054 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
17055 +    _NODE_  =                    5;
17056 +    _LEAF_  =                    3;
17057 +    P_Contributed_To_AccidentYes  =                0.952;
17058 +    P_Contributed_To_AccidentNo  =                0.048;
17059 +    Q_Contributed_To_AccidentYes  =                0.952;
17060 +    Q_Contributed_To_AccidentNo  =                0.048;
17061 +    V_Contributed_To_AccidentYes  =                    0;
17062 +    V_Contributed_To_AccidentNo  =                    0;
17063 +    I_Contributed_To_Accident  = 'YES' ;
17064 +    U_Contributed_To_Accident  = 'Yes' ;
17065 +    END;
17066 +  ELSE DO;
17067 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
17068 +     %DMNORMIP( _ARBFMT_12);
17069 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
17070 +      _NODE_  =                    7;
17071 +      _LEAF_  =                    2;
17072 +      P_Contributed_To_AccidentYes  =     0.13775510204081;
17073 +      P_Contributed_To_AccidentNo  =     0.86224489795918;
17074 +      Q_Contributed_To_AccidentYes  =     0.13775510204081;
17075 +      Q_Contributed_To_AccidentNo  =     0.86224489795918;
17076 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
17077 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
17078 +      I_Contributed_To_Accident  = 'NO' ;
17079 +      U_Contributed_To_Accident  = 'No' ;
17080 +      END;
17081 +    ELSE DO;
17082 +      _NODE_  =                    6;
17083 +      _LEAF_  =                    1;
17084 +      P_Contributed_To_AccidentYes  =     0.34068136272545;
17085 +      P_Contributed_To_AccidentNo  =     0.65931863727454;
17086 +      Q_Contributed_To_AccidentYes  =     0.34068136272545;
17087 +      Q_Contributed_To_AccidentNo  =     0.65931863727454;
17088 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
17089 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
17090 +      I_Contributed_To_Accident  = 'NO' ;
17091 +      U_Contributed_To_Accident  = 'No' ;
17092 +      END;
17093 +    END;
17094 +  END;
17095 +
17096 +*****  RESIDUALS R_ *************;
17097 +IF  F_Contributed_To_Accident  NE 'YES'
17098 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
17099 +        R_Contributed_To_AccidentYes  = .;
17100 +        R_Contributed_To_AccidentNo  = .;
17101 + END;
17102 + ELSE DO;
17103 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
17104 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
17105 +       SELECT( F_Contributed_To_Accident  );
17106 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
17107 +        R_Contributed_To_AccidentYes  +1;
17108 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
17109 +        R_Contributed_To_AccidentNo  +1;
17110 +       END;
17111 + END;
17112 +
17113 +****************************************************************;
17114 +******          END OF DECISION TREE SCORING CODE         ******;
17115 +****************************************************************;
17116 +
17117 +drop _LEAF_;
17118 +*------------------------------------------------------------*;
17119 +* EndGrp: EndGroup;
17120 +* User: Divya;
17121 +* Date: 23NOV16: 03:25;
17122 +* Bagging: Loop=6;
17123 +*------------------------------------------------------------*;
17124 +*------------------------------------------------------------*;
17125 +* Bagging: accumulate probabilities for iteration: 6;
17126 +*------------------------------------------------------------*;
17127 +P_Contributed_To_AccidentYes = _BagVar1*(5/6) + P_Contributed_To_AccidentYes*(1/6);
17128 +P_Contributed_To_AccidentNo = _BagVar2*(5/6) + P_Contributed_To_AccidentNo*(1/6);
17129 +*------------------------------------------------------------*;
17130 +* Bagging: Saving Probabilities for Next Iteration;
17131 +*------------------------------------------------------------*;
17132 +_BagVar1 = P_Contributed_To_AccidentYes;
17133 +_BagVar2 = P_Contributed_To_AccidentNo;
17134 +*------------------------------------------------------------*;
17135 +* Grp: StartGroup;
17136 +* User: Divya;
17137 +* Date: 23NOV16: 03:25;
17138 +* Bagging: Loop=7;
17139 +*------------------------------------------------------------*;
17140 +*------------------------------------------------------------*;
17141 +* Tree5: DecisionTree;
17142 +* User: Divya;
17143 +* Date: 23NOV16: 03:25;
17144 +* Bagging: Loop=7;
17145 +*------------------------------------------------------------*;
17146 +****************************************************************;
17147 +******             DECISION TREE SCORING CODE             ******;
17148 +****************************************************************;
17149 +
17150 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
17151 +LENGTH F_Contributed_To_Accident  $    3;
17152 +LENGTH I_Contributed_To_Accident  $    3;
17153 +LENGTH U_Contributed_To_Accident  $    3;
17154 +LENGTH _WARN_  $    4;
17155 +
17156 +******              LABELS FOR NEW VARIABLES              ******;
17157 +label _NODE_ = 'Node' ;
17158 +label _LEAF_ = 'Leaf' ;
17159 +label P_Contributed_To_AccidentYes =
17160 +'Predicted: Contributed_To_Accident=Yes' ;
17161 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
17162 +label Q_Contributed_To_AccidentYes =
17163 +'Unadjusted P: Contributed_To_Accident=Yes' ;
17164 +label Q_Contributed_To_AccidentNo =
17165 +'Unadjusted P: Contributed_To_Accident=No' ;
17166 +label V_Contributed_To_AccidentYes =
17167 +'Validated: Contributed_To_Accident=Yes' ;
17168 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
17169 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
17170 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
17171 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
17172 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
17173 +label U_Contributed_To_Accident =
17174 +'Unnormalized Into: Contributed_To_Accident' ;
17175 +label _WARN_ = 'Warnings' ;
17176 +
17177 +
17178 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17179 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
17180 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
17181 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17182 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17183 +
17184 +
17185 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
17186 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
17187 +
17188 +******             ASSIGN OBSERVATION TO NODE             ******;
17189 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
17190 + %DMNORMIP( _ARBFMT_12);
17191 +IF _ARBFMT_12 IN ('3' ) THEN DO;
17192 +  _NODE_  =                    3;
17193 +  _LEAF_  =                    4;
17194 +  P_Contributed_To_AccidentYes  =     0.96534653465346;
17195 +  P_Contributed_To_AccidentNo  =     0.03465346534653;
17196 +  Q_Contributed_To_AccidentYes  =     0.96534653465346;
17197 +  Q_Contributed_To_AccidentNo  =     0.03465346534653;
17198 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
17199 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
17200 +  I_Contributed_To_Accident  = 'YES' ;
17201 +  U_Contributed_To_Accident  = 'Yes' ;
17202 +  END;
17203 +ELSE DO;
17204 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
17205 +   %DMNORMIP( _ARBFMT_12);
17206 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
17207 +    _NODE_  =                    5;
17208 +    _LEAF_  =                    3;
17209 +    P_Contributed_To_AccidentYes  =     0.97872340425531;
17210 +    P_Contributed_To_AccidentNo  =     0.02127659574468;
17211 +    Q_Contributed_To_AccidentYes  =     0.97872340425531;
17212 +    Q_Contributed_To_AccidentNo  =     0.02127659574468;
17213 +    V_Contributed_To_AccidentYes  =                    0;
17214 +    V_Contributed_To_AccidentNo  =                    0;
17215 +    I_Contributed_To_Accident  = 'YES' ;
17216 +    U_Contributed_To_Accident  = 'Yes' ;
17217 +    END;
17218 +  ELSE DO;
17219 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
17220 +     %DMNORMIP( _ARBFMT_12);
17221 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
17222 +      _NODE_  =                    7;
17223 +      _LEAF_  =                    2;
17224 +      P_Contributed_To_AccidentYes  =     0.16216216216216;
17225 +      P_Contributed_To_AccidentNo  =     0.83783783783783;
17226 +      Q_Contributed_To_AccidentYes  =     0.16216216216216;
17227 +      Q_Contributed_To_AccidentNo  =     0.83783783783783;
17228 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
17229 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
17230 +      I_Contributed_To_Accident  = 'NO' ;
17231 +      U_Contributed_To_Accident  = 'No' ;
17232 +      END;
17233 +    ELSE DO;
17234 +      _NODE_  =                    6;
17235 +      _LEAF_  =                    1;
17236 +      P_Contributed_To_AccidentYes  =     0.36382978723404;
17237 +      P_Contributed_To_AccidentNo  =     0.63617021276595;
17238 +      Q_Contributed_To_AccidentYes  =     0.36382978723404;
17239 +      Q_Contributed_To_AccidentNo  =     0.63617021276595;
17240 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
17241 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
17242 +      I_Contributed_To_Accident  = 'NO' ;
17243 +      U_Contributed_To_Accident  = 'No' ;
17244 +      END;
17245 +    END;
17246 +  END;
17247 +
17248 +*****  RESIDUALS R_ *************;
17249 +IF  F_Contributed_To_Accident  NE 'YES'
17250 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
17251 +        R_Contributed_To_AccidentYes  = .;
17252 +        R_Contributed_To_AccidentNo  = .;
17253 + END;
17254 + ELSE DO;
17255 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
17256 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
17257 +       SELECT( F_Contributed_To_Accident  );
17258 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
17259 +        R_Contributed_To_AccidentYes  +1;
17260 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
17261 +        R_Contributed_To_AccidentNo  +1;
17262 +       END;
17263 + END;
17264 +
17265 +****************************************************************;
17266 +******          END OF DECISION TREE SCORING CODE         ******;
17267 +****************************************************************;
17268 +
17269 +drop _LEAF_;
17270 +*------------------------------------------------------------*;
17271 +* EndGrp: EndGroup;
17272 +* User: Divya;
17273 +* Date: 23NOV16: 03:25;
17274 +* Bagging: Loop=7;
17275 +*------------------------------------------------------------*;
17276 +*------------------------------------------------------------*;
17277 +* Bagging: accumulate probabilities for iteration: 7;
17278 +*------------------------------------------------------------*;
17279 +P_Contributed_To_AccidentYes = _BagVar1*(6/7) + P_Contributed_To_AccidentYes*(1/7);
17280 +P_Contributed_To_AccidentNo = _BagVar2*(6/7) + P_Contributed_To_AccidentNo*(1/7);
17281 +*------------------------------------------------------------*;
17282 +* Bagging: Saving Probabilities for Next Iteration;
17283 +*------------------------------------------------------------*;
17284 +_BagVar1 = P_Contributed_To_AccidentYes;
17285 +_BagVar2 = P_Contributed_To_AccidentNo;
17286 +*------------------------------------------------------------*;
17287 +* Grp: StartGroup;
17288 +* User: Divya;
17289 +* Date: 23NOV16: 03:26;
17290 +* Bagging: Loop=8;
17291 +*------------------------------------------------------------*;
17292 +*------------------------------------------------------------*;
17293 +* Tree5: DecisionTree;
17294 +* User: Divya;
17295 +* Date: 23NOV16: 03:26;
17296 +* Bagging: Loop=8;
17297 +*------------------------------------------------------------*;
17298 +****************************************************************;
17299 +******             DECISION TREE SCORING CODE             ******;
17300 +****************************************************************;
17301 +
17302 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
17303 +LENGTH F_Contributed_To_Accident  $    3;
17304 +LENGTH I_Contributed_To_Accident  $    3;
17305 +LENGTH U_Contributed_To_Accident  $    3;
17306 +LENGTH _WARN_  $    4;
17307 +
17308 +******              LABELS FOR NEW VARIABLES              ******;
17309 +label _NODE_ = 'Node' ;
17310 +label _LEAF_ = 'Leaf' ;
17311 +label P_Contributed_To_AccidentYes =
17312 +'Predicted: Contributed_To_Accident=Yes' ;
17313 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
17314 +label Q_Contributed_To_AccidentYes =
17315 +'Unadjusted P: Contributed_To_Accident=Yes' ;
17316 +label Q_Contributed_To_AccidentNo =
17317 +'Unadjusted P: Contributed_To_Accident=No' ;
17318 +label V_Contributed_To_AccidentYes =
17319 +'Validated: Contributed_To_Accident=Yes' ;
17320 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
17321 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
17322 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
17323 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
17324 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
17325 +label U_Contributed_To_Accident =
17326 +'Unnormalized Into: Contributed_To_Accident' ;
17327 +label _WARN_ = 'Warnings' ;
17328 +
17329 +
17330 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17331 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
17332 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
17333 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17334 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17335 +
17336 +
17337 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
17338 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
17339 +
17340 +******             ASSIGN OBSERVATION TO NODE             ******;
17341 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
17342 + %DMNORMIP( _ARBFMT_12);
17343 +IF _ARBFMT_12 IN ('3' ) THEN DO;
17344 +  _NODE_  =                    3;
17345 +  _LEAF_  =                    4;
17346 +  P_Contributed_To_AccidentYes  =     0.96511627906976;
17347 +  P_Contributed_To_AccidentNo  =     0.03488372093023;
17348 +  Q_Contributed_To_AccidentYes  =     0.96511627906976;
17349 +  Q_Contributed_To_AccidentNo  =     0.03488372093023;
17350 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
17351 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
17352 +  I_Contributed_To_Accident  = 'YES' ;
17353 +  U_Contributed_To_Accident  = 'Yes' ;
17354 +  END;
17355 +ELSE DO;
17356 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
17357 +   %DMNORMIP( _ARBFMT_12);
17358 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
17359 +    _NODE_  =                    5;
17360 +    _LEAF_  =                    3;
17361 +    P_Contributed_To_AccidentYes  =     0.97826086956521;
17362 +    P_Contributed_To_AccidentNo  =     0.02173913043478;
17363 +    Q_Contributed_To_AccidentYes  =     0.97826086956521;
17364 +    Q_Contributed_To_AccidentNo  =     0.02173913043478;
17365 +    V_Contributed_To_AccidentYes  =                    0;
17366 +    V_Contributed_To_AccidentNo  =                    0;
17367 +    I_Contributed_To_Accident  = 'YES' ;
17368 +    U_Contributed_To_Accident  = 'Yes' ;
17369 +    END;
17370 +  ELSE DO;
17371 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
17372 +     %DMNORMIP( _ARBFMT_12);
17373 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
17374 +      _NODE_  =                    9;
17375 +      _LEAF_  =                    2;
17376 +      P_Contributed_To_AccidentYes  =     0.18539325842696;
17377 +      P_Contributed_To_AccidentNo  =     0.81460674157303;
17378 +      Q_Contributed_To_AccidentYes  =     0.18539325842696;
17379 +      Q_Contributed_To_AccidentNo  =     0.81460674157303;
17380 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
17381 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
17382 +      I_Contributed_To_Accident  = 'NO' ;
17383 +      U_Contributed_To_Accident  = 'No' ;
17384 +      END;
17385 +    ELSE DO;
17386 +      _NODE_  =                    8;
17387 +      _LEAF_  =                    1;
17388 +      P_Contributed_To_AccidentYes  =     0.32941176470588;
17389 +      P_Contributed_To_AccidentNo  =     0.67058823529411;
17390 +      Q_Contributed_To_AccidentYes  =     0.32941176470588;
17391 +      Q_Contributed_To_AccidentNo  =     0.67058823529411;
17392 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
17393 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
17394 +      I_Contributed_To_Accident  = 'NO' ;
17395 +      U_Contributed_To_Accident  = 'No' ;
17396 +      END;
17397 +    END;
17398 +  END;
17399 +
17400 +*****  RESIDUALS R_ *************;
17401 +IF  F_Contributed_To_Accident  NE 'YES'
17402 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
17403 +        R_Contributed_To_AccidentYes  = .;
17404 +        R_Contributed_To_AccidentNo  = .;
17405 + END;
17406 + ELSE DO;
17407 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
17408 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
17409 +       SELECT( F_Contributed_To_Accident  );
17410 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
17411 +        R_Contributed_To_AccidentYes  +1;
17412 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
17413 +        R_Contributed_To_AccidentNo  +1;
17414 +       END;
17415 + END;
17416 +
17417 +****************************************************************;
17418 +******          END OF DECISION TREE SCORING CODE         ******;
17419 +****************************************************************;
17420 +
17421 +drop _LEAF_;
17422 +*------------------------------------------------------------*;
17423 +* EndGrp: EndGroup;
17424 +* User: Divya;
17425 +* Date: 23NOV16: 03:26;
17426 +* Bagging: Loop=8;
17427 +*------------------------------------------------------------*;
17428 +*------------------------------------------------------------*;
17429 +* Bagging: accumulate probabilities for iteration: 8;
17430 +*------------------------------------------------------------*;
17431 +P_Contributed_To_AccidentYes = _BagVar1*(7/8) + P_Contributed_To_AccidentYes*(1/8);
17432 +P_Contributed_To_AccidentNo = _BagVar2*(7/8) + P_Contributed_To_AccidentNo*(1/8);
17433 +*------------------------------------------------------------*;
17434 +* Bagging: Saving Probabilities for Next Iteration;
17435 +*------------------------------------------------------------*;
17436 +_BagVar1 = P_Contributed_To_AccidentYes;
17437 +_BagVar2 = P_Contributed_To_AccidentNo;
17438 +*------------------------------------------------------------*;
17439 +* Grp: StartGroup;
17440 +* User: Divya;
17441 +* Date: 23NOV16: 03:26;
17442 +* Bagging: Loop=9;
17443 +*------------------------------------------------------------*;
17444 +*------------------------------------------------------------*;
17445 +* Tree5: DecisionTree;
17446 +* User: Divya;
17447 +* Date: 23NOV16: 03:26;
17448 +* Bagging: Loop=9;
17449 +*------------------------------------------------------------*;
17450 +****************************************************************;
17451 +******             DECISION TREE SCORING CODE             ******;
17452 +****************************************************************;
17453 +
17454 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
17455 +LENGTH F_Contributed_To_Accident  $    3;
17456 +LENGTH I_Contributed_To_Accident  $    3;
17457 +LENGTH U_Contributed_To_Accident  $    3;
17458 +LENGTH _WARN_  $    4;
17459 +
17460 +******              LABELS FOR NEW VARIABLES              ******;
17461 +label _NODE_ = 'Node' ;
17462 +label _LEAF_ = 'Leaf' ;
17463 +label P_Contributed_To_AccidentYes =
17464 +'Predicted: Contributed_To_Accident=Yes' ;
17465 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
17466 +label Q_Contributed_To_AccidentYes =
17467 +'Unadjusted P: Contributed_To_Accident=Yes' ;
17468 +label Q_Contributed_To_AccidentNo =
17469 +'Unadjusted P: Contributed_To_Accident=No' ;
17470 +label V_Contributed_To_AccidentYes =
17471 +'Validated: Contributed_To_Accident=Yes' ;
17472 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
17473 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
17474 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
17475 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
17476 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
17477 +label U_Contributed_To_Accident =
17478 +'Unnormalized Into: Contributed_To_Accident' ;
17479 +label _WARN_ = 'Warnings' ;
17480 +
17481 +
17482 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17483 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
17484 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
17485 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17486 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17487 +
17488 +
17489 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
17490 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
17491 +
17492 +******             ASSIGN OBSERVATION TO NODE             ******;
17493 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
17494 + %DMNORMIP( _ARBFMT_12);
17495 +IF _ARBFMT_12 IN ('3' ) THEN DO;
17496 +  _NODE_  =                    3;
17497 +  _LEAF_  =                    4;
17498 +  P_Contributed_To_AccidentYes  =     0.96174863387978;
17499 +  P_Contributed_To_AccidentNo  =     0.03825136612021;
17500 +  Q_Contributed_To_AccidentYes  =     0.96174863387978;
17501 +  Q_Contributed_To_AccidentNo  =     0.03825136612021;
17502 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
17503 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
17504 +  I_Contributed_To_Accident  = 'YES' ;
17505 +  U_Contributed_To_Accident  = 'Yes' ;
17506 +  END;
17507 +ELSE DO;
17508 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
17509 +   %DMNORMIP( _ARBFMT_12);
17510 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
17511 +    _NODE_  =                    5;
17512 +    _LEAF_  =                    3;
17513 +    P_Contributed_To_AccidentYes  =     0.97391304347826;
17514 +    P_Contributed_To_AccidentNo  =     0.02608695652173;
17515 +    Q_Contributed_To_AccidentYes  =     0.97391304347826;
17516 +    Q_Contributed_To_AccidentNo  =     0.02608695652173;
17517 +    V_Contributed_To_AccidentYes  =                    0;
17518 +    V_Contributed_To_AccidentNo  =                    0;
17519 +    I_Contributed_To_Accident  = 'YES' ;
17520 +    U_Contributed_To_Accident  = 'Yes' ;
17521 +    END;
17522 +  ELSE DO;
17523 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
17524 +     %DMNORMIP( _ARBFMT_12);
17525 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
17526 +      _NODE_  =                    7;
17527 +      _LEAF_  =                    2;
17528 +      P_Contributed_To_AccidentYes  =     0.15463917525773;
17529 +      P_Contributed_To_AccidentNo  =     0.84536082474226;
17530 +      Q_Contributed_To_AccidentYes  =     0.15463917525773;
17531 +      Q_Contributed_To_AccidentNo  =     0.84536082474226;
17532 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
17533 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
17534 +      I_Contributed_To_Accident  = 'NO' ;
17535 +      U_Contributed_To_Accident  = 'No' ;
17536 +      END;
17537 +    ELSE DO;
17538 +      _NODE_  =                    6;
17539 +      _LEAF_  =                    1;
17540 +      P_Contributed_To_AccidentYes  =     0.35770750988142;
17541 +      P_Contributed_To_AccidentNo  =     0.64229249011857;
17542 +      Q_Contributed_To_AccidentYes  =     0.35770750988142;
17543 +      Q_Contributed_To_AccidentNo  =     0.64229249011857;
17544 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
17545 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
17546 +      I_Contributed_To_Accident  = 'NO' ;
17547 +      U_Contributed_To_Accident  = 'No' ;
17548 +      END;
17549 +    END;
17550 +  END;
17551 +
17552 +*****  RESIDUALS R_ *************;
17553 +IF  F_Contributed_To_Accident  NE 'YES'
17554 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
17555 +        R_Contributed_To_AccidentYes  = .;
17556 +        R_Contributed_To_AccidentNo  = .;
17557 + END;
17558 + ELSE DO;
17559 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
17560 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
17561 +       SELECT( F_Contributed_To_Accident  );
17562 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
17563 +        R_Contributed_To_AccidentYes  +1;
17564 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
17565 +        R_Contributed_To_AccidentNo  +1;
17566 +       END;
17567 + END;
17568 +
17569 +****************************************************************;
17570 +******          END OF DECISION TREE SCORING CODE         ******;
17571 +****************************************************************;
17572 +
17573 +drop _LEAF_;
17574 +*------------------------------------------------------------*;
17575 +* EndGrp: EndGroup;
17576 +* User: Divya;
17577 +* Date: 23NOV16: 03:26;
17578 +* Bagging: Loop=9;
17579 +*------------------------------------------------------------*;
17580 +*------------------------------------------------------------*;
17581 +* Bagging: accumulate probabilities for iteration: 9;
17582 +*------------------------------------------------------------*;
17583 +P_Contributed_To_AccidentYes = _BagVar1*(8/9) + P_Contributed_To_AccidentYes*(1/9);
17584 +P_Contributed_To_AccidentNo = _BagVar2*(8/9) + P_Contributed_To_AccidentNo*(1/9);
17585 +*------------------------------------------------------------*;
17586 +* Bagging: Saving Probabilities for Next Iteration;
17587 +*------------------------------------------------------------*;
17588 +_BagVar1 = P_Contributed_To_AccidentYes;
17589 +_BagVar2 = P_Contributed_To_AccidentNo;
17590 +*------------------------------------------------------------*;
17591 +* Grp: StartGroup;
17592 +* User: Divya;
17593 +* Date: 23NOV16: 03:27;
17594 +* Bagging: Loop=10;
17595 +*------------------------------------------------------------*;
17596 +*------------------------------------------------------------*;
17597 +* Tree5: DecisionTree;
17598 +* User: Divya;
17599 +* Date: 23NOV16: 03:27;
17600 +* Bagging: Loop=10;
17601 +*------------------------------------------------------------*;
17602 +****************************************************************;
17603 +******             DECISION TREE SCORING CODE             ******;
17604 +****************************************************************;
17605 +
17606 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
17607 +LENGTH F_Contributed_To_Accident  $    3;
17608 +LENGTH I_Contributed_To_Accident  $    3;
17609 +LENGTH U_Contributed_To_Accident  $    3;
17610 +LENGTH _WARN_  $    4;
17611 +
17612 +******              LABELS FOR NEW VARIABLES              ******;
17613 +label _NODE_ = 'Node' ;
17614 +label _LEAF_ = 'Leaf' ;
17615 +label P_Contributed_To_AccidentYes =
17616 +'Predicted: Contributed_To_Accident=Yes' ;
17617 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
17618 +label Q_Contributed_To_AccidentYes =
17619 +'Unadjusted P: Contributed_To_Accident=Yes' ;
17620 +label Q_Contributed_To_AccidentNo =
17621 +'Unadjusted P: Contributed_To_Accident=No' ;
17622 +label V_Contributed_To_AccidentYes =
17623 +'Validated: Contributed_To_Accident=Yes' ;
17624 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
17625 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
17626 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
17627 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
17628 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
17629 +label U_Contributed_To_Accident =
17630 +'Unnormalized Into: Contributed_To_Accident' ;
17631 +label _WARN_ = 'Warnings' ;
17632 +
17633 +
17634 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17635 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
17636 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
17637 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17638 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17639 +
17640 +
17641 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
17642 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
17643 +
17644 +******             ASSIGN OBSERVATION TO NODE             ******;
17645 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
17646 + %DMNORMIP( _ARBFMT_12);
17647 +IF _ARBFMT_12 IN ('3' ) THEN DO;
17648 +  _NODE_  =                    3;
17649 +  _LEAF_  =                    4;
17650 +  P_Contributed_To_AccidentYes  =                 0.92;
17651 +  P_Contributed_To_AccidentNo  =                 0.08;
17652 +  Q_Contributed_To_AccidentYes  =                 0.92;
17653 +  Q_Contributed_To_AccidentNo  =                 0.08;
17654 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
17655 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
17656 +  I_Contributed_To_Accident  = 'YES' ;
17657 +  U_Contributed_To_Accident  = 'Yes' ;
17658 +  END;
17659 +ELSE DO;
17660 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
17661 +   %DMNORMIP( _ARBFMT_12);
17662 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
17663 +    _NODE_  =                    5;
17664 +    _LEAF_  =                    3;
17665 +    P_Contributed_To_AccidentYes  =     0.96638655462184;
17666 +    P_Contributed_To_AccidentNo  =     0.03361344537815;
17667 +    Q_Contributed_To_AccidentYes  =     0.96638655462184;
17668 +    Q_Contributed_To_AccidentNo  =     0.03361344537815;
17669 +    V_Contributed_To_AccidentYes  =                    0;
17670 +    V_Contributed_To_AccidentNo  =                    0;
17671 +    I_Contributed_To_Accident  = 'YES' ;
17672 +    U_Contributed_To_Accident  = 'Yes' ;
17673 +    END;
17674 +  ELSE DO;
17675 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
17676 +     %DMNORMIP( _ARBFMT_12);
17677 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
17678 +      _NODE_  =                    7;
17679 +      _LEAF_  =                    2;
17680 +      P_Contributed_To_AccidentYes  =     0.18357487922705;
17681 +      P_Contributed_To_AccidentNo  =     0.81642512077294;
17682 +      Q_Contributed_To_AccidentYes  =     0.18357487922705;
17683 +      Q_Contributed_To_AccidentNo  =     0.81642512077294;
17684 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
17685 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
17686 +      I_Contributed_To_Accident  = 'NO' ;
17687 +      U_Contributed_To_Accident  = 'No' ;
17688 +      END;
17689 +    ELSE DO;
17690 +      _NODE_  =                    6;
17691 +      _LEAF_  =                    1;
17692 +      P_Contributed_To_AccidentYes  =     0.36228813559322;
17693 +      P_Contributed_To_AccidentNo  =     0.63771186440677;
17694 +      Q_Contributed_To_AccidentYes  =     0.36228813559322;
17695 +      Q_Contributed_To_AccidentNo  =     0.63771186440677;
17696 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
17697 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
17698 +      I_Contributed_To_Accident  = 'NO' ;
17699 +      U_Contributed_To_Accident  = 'No' ;
17700 +      END;
17701 +    END;
17702 +  END;
17703 +
17704 +*****  RESIDUALS R_ *************;
17705 +IF  F_Contributed_To_Accident  NE 'YES'
17706 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
17707 +        R_Contributed_To_AccidentYes  = .;
17708 +        R_Contributed_To_AccidentNo  = .;
17709 + END;
17710 + ELSE DO;
17711 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
17712 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
17713 +       SELECT( F_Contributed_To_Accident  );
17714 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
17715 +        R_Contributed_To_AccidentYes  +1;
17716 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
17717 +        R_Contributed_To_AccidentNo  +1;
17718 +       END;
17719 + END;
17720 +
17721 +****************************************************************;
17722 +******          END OF DECISION TREE SCORING CODE         ******;
17723 +****************************************************************;
17724 +
17725 +drop _LEAF_;
17726 +*------------------------------------------------------------*;
17727 +* EndGrp: EndGroup;
17728 +* User: Divya;
17729 +* Date: 23NOV16: 03:27;
17730 +* Bagging: Loop=10;
17731 +*------------------------------------------------------------*;
17732 +*------------------------------------------------------------*;
17733 +* Bagging: accumulate final probabilities;
17734 +*------------------------------------------------------------*;
17735 +P_Contributed_To_AccidentYes = _BagVar1*(9/10) + P_Contributed_To_AccidentYes*(1/10);
17736 +P_Contributed_To_AccidentNo = _BagVar2*(9/10) + P_Contributed_To_AccidentNo*(1/10);
NOTE: %INCLUDE (level 1) ending.
 
NOTE: DATA STEP view saved on file EMWS1.ENDGRP_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
 
 
 
NOTE: There were 2 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
      WHERE _TYPE_='PREDICTED';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: There were 2 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
      WHERE _TYPE_ in ('FROM', 'INTO');
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: There were 0 observations read from the data set SASHELP.VFORMAT.
      WHERE UPCASE(fmtname)='$3';
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.09 seconds
 
 
 
NOTE: The file EMFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMFLOWSCORE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=64912,
      Last Modified=23Nov2016:03:27:12,
      Create Time=23Nov2016:03:27:11
 
NOTE: 24 records were written to the file EMFLOW.
      The minimum record length was 4.
      The maximum record length was 67.
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
 
NOTE: There were 2 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
      WHERE _TYPE_ in ('FROM', 'TARGET');
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: There were 2 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
      WHERE _TYPE_='PREDICTED';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: There were 2 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DM.
      WHERE _TYPE_='RESIDUAL';
NOTE: DATA statement used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
 
NOTE: The file EMFLOW is:
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMFLOWSCORE.sas,
      RECFM=V,LRECL=32767,File Size (bytes)=65751,
      Last Modified=23Nov2016:03:27:12,
      Create Time=23Nov2016:03:27:11
 
NOTE: 23 records were written to the file EMFLOW.
      The minimum record length was 3.
      The maximum record length was 75.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
17737  data EndGrp_SCORE/view=EndGrp_SCORE;
17738  set EMWS1.EndGrp_TRAIN;
17739  run;
 
NOTE: DATA STEP view saved on file WORK.ENDGRP_SCORE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.ENDGRP_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
NOTE: There were 2 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DD.
NOTE: The data set WORK.CONTRIBUTED_TO_ACCIDENT has 2 observations and 7 variables.
NOTE: There were 2 observations read from the data set EMWS1.TREE5_CONTRIBUTED_TO_A_DD.
NOTE: The data set WORK.CONTRIBUTED_TO_ACCIDENT has 2 observations and 7 variables.
17740  *------------------------------------------------------------*;
17741  * EndGrp: Create decision matrix;
17742  *------------------------------------------------------------*;
17743  data WORK.Contributed_To_Accident;
17744    length   Contributed_To_Accident          $  32
17745             COUNT                                8
17746             DATAPRIOR                            8
17747             TRAINPRIOR                           8
17748             DECPRIOR                             8
17749             DECISION1                            8
17750             DECISION2                            8
17751             ;
17752
17753    label    COUNT="Level Counts"
17754             DATAPRIOR="Data Proportions"
17755             TRAINPRIOR="Training Proportions"
17756             DECPRIOR="Decision Priors"
17757             DECISION1="YES"
17758             DECISION2="NO"
17759             ;
17760    format   COUNT 10.
17761             ;
17762  Contributed_To_Accident="YES"; COUNT=485; DATAPRIOR=0.5009519992; TRAINPRIOR=0.50998948475289; DECPRIOR=.; DECISION1=1; DECISION2=0;
17763  output;
17764  Contributed_To_Accident="NO"; COUNT=466; DATAPRIOR=0.4990480008; TRAINPRIOR=0.4900105152471; DECPRIOR=.; DECISION1=0; DECISION2=1;
17765  output;
17766  ;
17767  run;
 
NOTE: The data set WORK.CONTRIBUTED_TO_ACCIDENT has 2 observations and 7 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
17768  proc datasets lib=work nolist;
17769  modify Contributed_To_Accident(type=PROFIT label=Contributed_To_Accident);
17770  label DECISION1= 'YES';
17771  label DECISION2= 'NO';
17772  run;
 
NOTE: MODIFY was successful for WORK.CONTRIBUTED_TO_ACCIDENT.DATA.
17773  quit;
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
17774  *------------------------------------------------------------*;
17775  * EndGrp Generate decision score code;
17776  *------------------------------------------------------------*;
17777  run;
 
NOTE: Fileref _DECFLOW has been deassigned.
NOTE: %INCLUDE (level 1) file EMFLOW is file D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMFLOWSCORE.sas.
17778 +*------------------------------------------------------------*;
17779 +* EndGrp: ;
17780 +* User: Divya;
17781 +* Date: 23NOV16: 03:23;
17782 +*------------------------------------------------------------* ;
17783 +* Ensemble Code;
17784 +*------------------------------------------------------------* ;
17785 +* Bagging: Loop=1;
17786 +* Temporary Variables;
17787 +drop _BagVar1;
17788 +_BagVar1 = 0;
17789 +drop _BagVar2;
17790 +_BagVar2 = 0;
17791 +*------------------------------------------------------------*;
17792 +* Grp: StartGroup;
17793 +* User: Divya;
17794 +* Date: 23NOV16: 03:23;
17795 +* Bagging: Loop=1;
17796 +*------------------------------------------------------------*;
17797 +*------------------------------------------------------------*;
17798 +* Tree5: DecisionTree;
17799 +* User: Divya;
17800 +* Date: 23NOV16: 03:23;
17801 +* Bagging: Loop=1;
17802 +*------------------------------------------------------------*;
17803 +****************************************************************;
17804 +******             DECISION TREE SCORING CODE             ******;
17805 +****************************************************************;
17806 +
17807 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
17808 +LENGTH F_Contributed_To_Accident  $    3;
17809 +LENGTH I_Contributed_To_Accident  $    3;
17810 +LENGTH U_Contributed_To_Accident  $    3;
17811 +LENGTH _WARN_  $    4;
17812 +
17813 +******              LABELS FOR NEW VARIABLES              ******;
17814 +label _NODE_ = 'Node' ;
17815 +label _LEAF_ = 'Leaf' ;
17816 +label P_Contributed_To_AccidentYes =
17817 +'Predicted: Contributed_To_Accident=Yes' ;
17818 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
17819 +label Q_Contributed_To_AccidentYes =
17820 +'Unadjusted P: Contributed_To_Accident=Yes' ;
17821 +label Q_Contributed_To_AccidentNo =
17822 +'Unadjusted P: Contributed_To_Accident=No' ;
17823 +label V_Contributed_To_AccidentYes =
17824 +'Validated: Contributed_To_Accident=Yes' ;
17825 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
17826 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
17827 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
17828 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
17829 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
17830 +label U_Contributed_To_Accident =
17831 +'Unnormalized Into: Contributed_To_Accident' ;
17832 +label _WARN_ = 'Warnings' ;
17833 +
17834 +
17835 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17836 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
17837 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
17838 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17839 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17840 +
17841 +
17842 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
17843 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
17844 +
17845 +******             ASSIGN OBSERVATION TO NODE             ******;
17846 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
17847 + %DMNORMIP( _ARBFMT_12);
17848 +IF _ARBFMT_12 IN ('3' ) THEN DO;
17849 +  _NODE_  =                    3;
17850 +  _LEAF_  =                    4;
17851 +  P_Contributed_To_AccidentYes  =     0.96969696969696;
17852 +  P_Contributed_To_AccidentNo  =     0.03030303030303;
17853 +  Q_Contributed_To_AccidentYes  =     0.96969696969696;
17854 +  Q_Contributed_To_AccidentNo  =     0.03030303030303;
17855 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
17856 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
17857 +  I_Contributed_To_Accident  = 'YES' ;
17858 +  U_Contributed_To_Accident  = 'Yes' ;
17859 +  END;
17860 +ELSE DO;
17861 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
17862 +   %DMNORMIP( _ARBFMT_12);
17863 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
17864 +    _NODE_  =                    5;
17865 +    _LEAF_  =                    3;
17866 +    P_Contributed_To_AccidentYes  =      0.9763779527559;
17867 +    P_Contributed_To_AccidentNo  =     0.02362204724409;
17868 +    Q_Contributed_To_AccidentYes  =      0.9763779527559;
17869 +    Q_Contributed_To_AccidentNo  =     0.02362204724409;
17870 +    V_Contributed_To_AccidentYes  =                    0;
17871 +    V_Contributed_To_AccidentNo  =                    0;
17872 +    I_Contributed_To_Accident  = 'YES' ;
17873 +    U_Contributed_To_Accident  = 'Yes' ;
17874 +    END;
17875 +  ELSE DO;
17876 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
17877 +     %DMNORMIP( _ARBFMT_12);
17878 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
17879 +      _NODE_  =                    7;
17880 +      _LEAF_  =                    2;
17881 +      P_Contributed_To_AccidentYes  =     0.18579234972677;
17882 +      P_Contributed_To_AccidentNo  =     0.81420765027322;
17883 +      Q_Contributed_To_AccidentYes  =     0.18579234972677;
17884 +      Q_Contributed_To_AccidentNo  =     0.81420765027322;
17885 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
17886 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
17887 +      I_Contributed_To_Accident  = 'NO' ;
17888 +      U_Contributed_To_Accident  = 'No' ;
17889 +      END;
17890 +    ELSE DO;
17891 +      _NODE_  =                    6;
17892 +      _LEAF_  =                    1;
17893 +      P_Contributed_To_AccidentYes  =     0.38775510204081;
17894 +      P_Contributed_To_AccidentNo  =     0.61224489795918;
17895 +      Q_Contributed_To_AccidentYes  =     0.38775510204081;
17896 +      Q_Contributed_To_AccidentNo  =     0.61224489795918;
17897 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
17898 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
17899 +      I_Contributed_To_Accident  = 'NO' ;
17900 +      U_Contributed_To_Accident  = 'No' ;
17901 +      END;
17902 +    END;
17903 +  END;
17904 +
17905 +*****  RESIDUALS R_ *************;
17906 +IF  F_Contributed_To_Accident  NE 'YES'
17907 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
17908 +        R_Contributed_To_AccidentYes  = .;
17909 +        R_Contributed_To_AccidentNo  = .;
17910 + END;
17911 + ELSE DO;
17912 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
17913 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
17914 +       SELECT( F_Contributed_To_Accident  );
17915 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
17916 +        R_Contributed_To_AccidentYes  +1;
17917 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
17918 +        R_Contributed_To_AccidentNo  +1;
17919 +       END;
17920 + END;
17921 +
17922 +****************************************************************;
17923 +******          END OF DECISION TREE SCORING CODE         ******;
17924 +****************************************************************;
17925 +
17926 +drop _LEAF_;
17927 +*------------------------------------------------------------*;
17928 +* EndGrp: EndGroup;
17929 +* User: Divya;
17930 +* Date: 23NOV16: 03:23;
17931 +* Bagging: Loop=1;
17932 +*------------------------------------------------------------*;
17933 +*------------------------------------------------------------*;
17934 +* Bagging: Saving Probabilities for Next Iteration;
17935 +*------------------------------------------------------------*;
17936 +_BagVar1 = P_Contributed_To_AccidentYes;
17937 +_BagVar2 = P_Contributed_To_AccidentNo;
17938 +*------------------------------------------------------------*;
17939 +* Grp: StartGroup;
17940 +* User: Divya;
17941 +* Date: 23NOV16: 03:23;
17942 +* Bagging: Loop=2;
17943 +*------------------------------------------------------------*;
17944 +*------------------------------------------------------------*;
17945 +* Tree5: DecisionTree;
17946 +* User: Divya;
17947 +* Date: 23NOV16: 03:23;
17948 +* Bagging: Loop=2;
17949 +*------------------------------------------------------------*;
17950 +****************************************************************;
17951 +******             DECISION TREE SCORING CODE             ******;
17952 +****************************************************************;
17953 +
17954 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
17955 +LENGTH F_Contributed_To_Accident  $    3;
17956 +LENGTH I_Contributed_To_Accident  $    3;
17957 +LENGTH U_Contributed_To_Accident  $    3;
17958 +LENGTH _WARN_  $    4;
17959 +
17960 +******              LABELS FOR NEW VARIABLES              ******;
17961 +label _NODE_ = 'Node' ;
17962 +label _LEAF_ = 'Leaf' ;
17963 +label P_Contributed_To_AccidentYes =
17964 +'Predicted: Contributed_To_Accident=Yes' ;
17965 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
17966 +label Q_Contributed_To_AccidentYes =
17967 +'Unadjusted P: Contributed_To_Accident=Yes' ;
17968 +label Q_Contributed_To_AccidentNo =
17969 +'Unadjusted P: Contributed_To_Accident=No' ;
17970 +label V_Contributed_To_AccidentYes =
17971 +'Validated: Contributed_To_Accident=Yes' ;
17972 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
17973 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
17974 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
17975 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
17976 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
17977 +label U_Contributed_To_Accident =
17978 +'Unnormalized Into: Contributed_To_Accident' ;
17979 +label _WARN_ = 'Warnings' ;
17980 +
17981 +
17982 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
17983 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
17984 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
17985 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
17986 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
17987 +
17988 +
17989 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
17990 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
17991 +
17992 +******             ASSIGN OBSERVATION TO NODE             ******;
17993 +_ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
17994 + %DMNORMIP( _ARBFMT_12);
17995 +IF _ARBFMT_12 IN ('3' ) THEN DO;
17996 +  _NODE_  =                    3;
17997 +  _LEAF_  =                    4;
17998 +  P_Contributed_To_AccidentYes  =     0.98561151079136;
17999 +  P_Contributed_To_AccidentNo  =     0.01438848920863;
18000 +  Q_Contributed_To_AccidentYes  =     0.98561151079136;
18001 +  Q_Contributed_To_AccidentNo  =     0.01438848920863;
18002 +  V_Contributed_To_AccidentYes  =                    0;
18003 +  V_Contributed_To_AccidentNo  =                    0;
18004 +  I_Contributed_To_Accident  = 'YES' ;
18005 +  U_Contributed_To_Accident  = 'Yes' ;
18006 +  END;
18007 +ELSE DO;
18008 +  _ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
18009 +   %DMNORMIP( _ARBFMT_12);
18010 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
18011 +    _NODE_  =                    5;
18012 +    _LEAF_  =                    3;
18013 +    P_Contributed_To_AccidentYes  =     0.93421052631578;
18014 +    P_Contributed_To_AccidentNo  =     0.06578947368421;
18015 +    Q_Contributed_To_AccidentYes  =     0.93421052631578;
18016 +    Q_Contributed_To_AccidentNo  =     0.06578947368421;
18017 +    V_Contributed_To_AccidentYes  =      0.2156862745098;
18018 +    V_Contributed_To_AccidentNo  =     0.78431372549019;
18019 +    I_Contributed_To_Accident  = 'YES' ;
18020 +    U_Contributed_To_Accident  = 'Yes' ;
18021 +    END;
18022 +  ELSE DO;
18023 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
18024 +     %DMNORMIP( _ARBFMT_12);
18025 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
18026 +      _NODE_  =                    7;
18027 +      _LEAF_  =                    2;
18028 +      P_Contributed_To_AccidentYes  =     0.15028901734104;
18029 +      P_Contributed_To_AccidentNo  =     0.84971098265895;
18030 +      Q_Contributed_To_AccidentYes  =     0.15028901734104;
18031 +      Q_Contributed_To_AccidentNo  =     0.84971098265895;
18032 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
18033 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
18034 +      I_Contributed_To_Accident  = 'NO' ;
18035 +      U_Contributed_To_Accident  = 'No' ;
18036 +      END;
18037 +    ELSE DO;
18038 +      _NODE_  =                    6;
18039 +      _LEAF_  =                    1;
18040 +      P_Contributed_To_AccidentYes  =     0.34456928838951;
18041 +      P_Contributed_To_AccidentNo  =     0.65543071161048;
18042 +      Q_Contributed_To_AccidentYes  =     0.34456928838951;
18043 +      Q_Contributed_To_AccidentNo  =     0.65543071161048;
18044 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
18045 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
18046 +      I_Contributed_To_Accident  = 'NO' ;
18047 +      U_Contributed_To_Accident  = 'No' ;
18048 +      END;
18049 +    END;
18050 +  END;
18051 +
18052 +*****  RESIDUALS R_ *************;
18053 +IF  F_Contributed_To_Accident  NE 'YES'
18054 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
18055 +        R_Contributed_To_AccidentYes  = .;
18056 +        R_Contributed_To_AccidentNo  = .;
18057 + END;
18058 + ELSE DO;
18059 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
18060 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
18061 +       SELECT( F_Contributed_To_Accident  );
18062 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
18063 +        R_Contributed_To_AccidentYes  +1;
18064 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
18065 +        R_Contributed_To_AccidentNo  +1;
18066 +       END;
18067 + END;
18068 +
18069 +****************************************************************;
18070 +******          END OF DECISION TREE SCORING CODE         ******;
18071 +****************************************************************;
18072 +
18073 +drop _LEAF_;
18074 +*------------------------------------------------------------*;
18075 +* EndGrp: EndGroup;
18076 +* User: Divya;
18077 +* Date: 23NOV16: 03:23;
18078 +* Bagging: Loop=2;
18079 +*------------------------------------------------------------*;
18080 +*------------------------------------------------------------*;
18081 +* Bagging: accumulate probabilities for iteration: 2;
18082 +*------------------------------------------------------------*;
18083 +P_Contributed_To_AccidentYes = _BagVar1*(1/2) + P_Contributed_To_AccidentYes*(1/2);
18084 +P_Contributed_To_AccidentNo = _BagVar2*(1/2) + P_Contributed_To_AccidentNo*(1/2);
18085 +*------------------------------------------------------------*;
18086 +* Bagging: Saving Probabilities for Next Iteration;
18087 +*------------------------------------------------------------*;
18088 +_BagVar1 = P_Contributed_To_AccidentYes;
18089 +_BagVar2 = P_Contributed_To_AccidentNo;
18090 +*------------------------------------------------------------*;
18091 +* Grp: StartGroup;
18092 +* User: Divya;
18093 +* Date: 23NOV16: 03:24;
18094 +* Bagging: Loop=3;
18095 +*------------------------------------------------------------*;
18096 +*------------------------------------------------------------*;
18097 +* Tree5: DecisionTree;
18098 +* User: Divya;
18099 +* Date: 23NOV16: 03:24;
18100 +* Bagging: Loop=3;
18101 +*------------------------------------------------------------*;
18102 +****************************************************************;
18103 +******             DECISION TREE SCORING CODE             ******;
18104 +****************************************************************;
18105 +
18106 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
18107 +LENGTH F_Contributed_To_Accident  $    3;
18108 +LENGTH I_Contributed_To_Accident  $    3;
18109 +LENGTH U_Contributed_To_Accident  $    3;
18110 +LENGTH _WARN_  $    4;
18111 +
18112 +******              LABELS FOR NEW VARIABLES              ******;
18113 +label _NODE_ = 'Node' ;
18114 +label _LEAF_ = 'Leaf' ;
18115 +label P_Contributed_To_AccidentYes =
18116 +'Predicted: Contributed_To_Accident=Yes' ;
18117 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
18118 +label Q_Contributed_To_AccidentYes =
18119 +'Unadjusted P: Contributed_To_Accident=Yes' ;
18120 +label Q_Contributed_To_AccidentNo =
18121 +'Unadjusted P: Contributed_To_Accident=No' ;
18122 +label V_Contributed_To_AccidentYes =
18123 +'Validated: Contributed_To_Accident=Yes' ;
18124 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
18125 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
18126 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
18127 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
18128 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
18129 +label U_Contributed_To_Accident =
18130 +'Unnormalized Into: Contributed_To_Accident' ;
18131 +label _WARN_ = 'Warnings' ;
18132 +
18133 +
18134 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
18135 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
18136 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
18137 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
18138 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
18139 +
18140 +
18141 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
18142 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
18143 +
18144 +******             ASSIGN OBSERVATION TO NODE             ******;
18145 +_ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
18146 + %DMNORMIP( _ARBFMT_12);
18147 +IF _ARBFMT_12 IN ('3' ) THEN DO;
18148 +  _NODE_  =                    3;
18149 +  _LEAF_  =                    4;
18150 +  P_Contributed_To_AccidentYes  =     0.97902097902097;
18151 +  P_Contributed_To_AccidentNo  =     0.02097902097902;
18152 +  Q_Contributed_To_AccidentYes  =     0.97902097902097;
18153 +  Q_Contributed_To_AccidentNo  =     0.02097902097902;
18154 +  V_Contributed_To_AccidentYes  =                    0;
18155 +  V_Contributed_To_AccidentNo  =                    0;
18156 +  I_Contributed_To_Accident  = 'YES' ;
18157 +  U_Contributed_To_Accident  = 'Yes' ;
18158 +  END;
18159 +ELSE DO;
18160 +  _ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
18161 +   %DMNORMIP( _ARBFMT_12);
18162 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
18163 +    _NODE_  =                    5;
18164 +    _LEAF_  =                    3;
18165 +    P_Contributed_To_AccidentYes  =     0.94409937888198;
18166 +    P_Contributed_To_AccidentNo  =     0.05590062111801;
18167 +    Q_Contributed_To_AccidentYes  =     0.94409937888198;
18168 +    Q_Contributed_To_AccidentNo  =     0.05590062111801;
18169 +    V_Contributed_To_AccidentYes  =      0.2156862745098;
18170 +    V_Contributed_To_AccidentNo  =     0.78431372549019;
18171 +    I_Contributed_To_Accident  = 'YES' ;
18172 +    U_Contributed_To_Accident  = 'Yes' ;
18173 +    END;
18174 +  ELSE DO;
18175 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
18176 +     %DMNORMIP( _ARBFMT_12);
18177 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
18178 +      _NODE_  =                    7;
18179 +      _LEAF_  =                    2;
18180 +      P_Contributed_To_AccidentYes  =     0.18407960199004;
18181 +      P_Contributed_To_AccidentNo  =     0.81592039800995;
18182 +      Q_Contributed_To_AccidentYes  =     0.18407960199004;
18183 +      Q_Contributed_To_AccidentNo  =     0.81592039800995;
18184 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
18185 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
18186 +      I_Contributed_To_Accident  = 'NO' ;
18187 +      U_Contributed_To_Accident  = 'No' ;
18188 +      END;
18189 +    ELSE DO;
18190 +      _NODE_  =                    6;
18191 +      _LEAF_  =                    1;
18192 +      P_Contributed_To_AccidentYes  =     0.35091277890466;
18193 +      P_Contributed_To_AccidentNo  =     0.64908722109533;
18194 +      Q_Contributed_To_AccidentYes  =     0.35091277890466;
18195 +      Q_Contributed_To_AccidentNo  =     0.64908722109533;
18196 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
18197 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
18198 +      I_Contributed_To_Accident  = 'NO' ;
18199 +      U_Contributed_To_Accident  = 'No' ;
18200 +      END;
18201 +    END;
18202 +  END;
18203 +
18204 +*****  RESIDUALS R_ *************;
18205 +IF  F_Contributed_To_Accident  NE 'YES'
18206 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
18207 +        R_Contributed_To_AccidentYes  = .;
18208 +        R_Contributed_To_AccidentNo  = .;
18209 + END;
18210 + ELSE DO;
18211 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
18212 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
18213 +       SELECT( F_Contributed_To_Accident  );
18214 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
18215 +        R_Contributed_To_AccidentYes  +1;
18216 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
18217 +        R_Contributed_To_AccidentNo  +1;
18218 +       END;
18219 + END;
18220 +
18221 +****************************************************************;
18222 +******          END OF DECISION TREE SCORING CODE         ******;
18223 +****************************************************************;
18224 +
18225 +drop _LEAF_;
18226 +*------------------------------------------------------------*;
18227 +* EndGrp: EndGroup;
18228 +* User: Divya;
18229 +* Date: 23NOV16: 03:24;
18230 +* Bagging: Loop=3;
18231 +*------------------------------------------------------------*;
18232 +*------------------------------------------------------------*;
18233 +* Bagging: accumulate probabilities for iteration: 3;
18234 +*------------------------------------------------------------*;
18235 +P_Contributed_To_AccidentYes = _BagVar1*(2/3) + P_Contributed_To_AccidentYes*(1/3);
18236 +P_Contributed_To_AccidentNo = _BagVar2*(2/3) + P_Contributed_To_AccidentNo*(1/3);
18237 +*------------------------------------------------------------*;
18238 +* Bagging: Saving Probabilities for Next Iteration;
18239 +*------------------------------------------------------------*;
18240 +_BagVar1 = P_Contributed_To_AccidentYes;
18241 +_BagVar2 = P_Contributed_To_AccidentNo;
18242 +*------------------------------------------------------------*;
18243 +* Grp: StartGroup;
18244 +* User: Divya;
18245 +* Date: 23NOV16: 03:24;
18246 +* Bagging: Loop=4;
18247 +*------------------------------------------------------------*;
18248 +*------------------------------------------------------------*;
18249 +* Tree5: DecisionTree;
18250 +* User: Divya;
18251 +* Date: 23NOV16: 03:24;
18252 +* Bagging: Loop=4;
18253 +*------------------------------------------------------------*;
18254 +****************************************************************;
18255 +******             DECISION TREE SCORING CODE             ******;
18256 +****************************************************************;
18257 +
18258 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
18259 +LENGTH F_Contributed_To_Accident  $    3;
18260 +LENGTH I_Contributed_To_Accident  $    3;
18261 +LENGTH U_Contributed_To_Accident  $    3;
18262 +LENGTH _WARN_  $    4;
18263 +
18264 +******              LABELS FOR NEW VARIABLES              ******;
18265 +label _NODE_ = 'Node' ;
18266 +label _LEAF_ = 'Leaf' ;
18267 +label P_Contributed_To_AccidentYes =
18268 +'Predicted: Contributed_To_Accident=Yes' ;
18269 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
18270 +label Q_Contributed_To_AccidentYes =
18271 +'Unadjusted P: Contributed_To_Accident=Yes' ;
18272 +label Q_Contributed_To_AccidentNo =
18273 +'Unadjusted P: Contributed_To_Accident=No' ;
18274 +label V_Contributed_To_AccidentYes =
18275 +'Validated: Contributed_To_Accident=Yes' ;
18276 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
18277 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
18278 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
18279 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
18280 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
18281 +label U_Contributed_To_Accident =
18282 +'Unnormalized Into: Contributed_To_Accident' ;
18283 +label _WARN_ = 'Warnings' ;
18284 +
18285 +
18286 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
18287 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
18288 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
18289 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
18290 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
18291 +
18292 +
18293 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
18294 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
18295 +
18296 +******             ASSIGN OBSERVATION TO NODE             ******;
18297 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
18298 + %DMNORMIP( _ARBFMT_12);
18299 +IF _ARBFMT_12 IN ('3' ) THEN DO;
18300 +  _NODE_  =                    3;
18301 +  _LEAF_  =                    4;
18302 +  P_Contributed_To_AccidentYes  =     0.93491124260355;
18303 +  P_Contributed_To_AccidentNo  =     0.06508875739644;
18304 +  Q_Contributed_To_AccidentYes  =     0.93491124260355;
18305 +  Q_Contributed_To_AccidentNo  =     0.06508875739644;
18306 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
18307 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
18308 +  I_Contributed_To_Accident  = 'YES' ;
18309 +  U_Contributed_To_Accident  = 'Yes' ;
18310 +  END;
18311 +ELSE DO;
18312 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
18313 +   %DMNORMIP( _ARBFMT_12);
18314 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
18315 +    _NODE_  =                    5;
18316 +    _LEAF_  =                    3;
18317 +    P_Contributed_To_AccidentYes  =     0.94776119402985;
18318 +    P_Contributed_To_AccidentNo  =     0.05223880597014;
18319 +    Q_Contributed_To_AccidentYes  =     0.94776119402985;
18320 +    Q_Contributed_To_AccidentNo  =     0.05223880597014;
18321 +    V_Contributed_To_AccidentYes  =                    0;
18322 +    V_Contributed_To_AccidentNo  =                    0;
18323 +    I_Contributed_To_Accident  = 'YES' ;
18324 +    U_Contributed_To_Accident  = 'Yes' ;
18325 +    END;
18326 +  ELSE DO;
18327 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
18328 +     %DMNORMIP( _ARBFMT_12);
18329 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
18330 +      _NODE_  =                    7;
18331 +      _LEAF_  =                    2;
18332 +      P_Contributed_To_AccidentYes  =     0.13333333333333;
18333 +      P_Contributed_To_AccidentNo  =     0.86666666666666;
18334 +      Q_Contributed_To_AccidentYes  =     0.13333333333333;
18335 +      Q_Contributed_To_AccidentNo  =     0.86666666666666;
18336 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
18337 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
18338 +      I_Contributed_To_Accident  = 'NO' ;
18339 +      U_Contributed_To_Accident  = 'No' ;
18340 +      END;
18341 +    ELSE DO;
18342 +      _NODE_  =                    6;
18343 +      _LEAF_  =                    1;
18344 +      P_Contributed_To_AccidentYes  =     0.37358490566037;
18345 +      P_Contributed_To_AccidentNo  =     0.62641509433962;
18346 +      Q_Contributed_To_AccidentYes  =     0.37358490566037;
18347 +      Q_Contributed_To_AccidentNo  =     0.62641509433962;
18348 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
18349 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
18350 +      I_Contributed_To_Accident  = 'NO' ;
18351 +      U_Contributed_To_Accident  = 'No' ;
18352 +      END;
18353 +    END;
18354 +  END;
18355 +
18356 +*****  RESIDUALS R_ *************;
18357 +IF  F_Contributed_To_Accident  NE 'YES'
18358 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
18359 +        R_Contributed_To_AccidentYes  = .;
18360 +        R_Contributed_To_AccidentNo  = .;
18361 + END;
18362 + ELSE DO;
18363 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
18364 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
18365 +       SELECT( F_Contributed_To_Accident  );
18366 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
18367 +        R_Contributed_To_AccidentYes  +1;
18368 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
18369 +        R_Contributed_To_AccidentNo  +1;
18370 +       END;
18371 + END;
18372 +
18373 +****************************************************************;
18374 +******          END OF DECISION TREE SCORING CODE         ******;
18375 +****************************************************************;
18376 +
18377 +drop _LEAF_;
18378 +*------------------------------------------------------------*;
18379 +* EndGrp: EndGroup;
18380 +* User: Divya;
18381 +* Date: 23NOV16: 03:24;
18382 +* Bagging: Loop=4;
18383 +*------------------------------------------------------------*;
18384 +*------------------------------------------------------------*;
18385 +* Bagging: accumulate probabilities for iteration: 4;
18386 +*------------------------------------------------------------*;
18387 +P_Contributed_To_AccidentYes = _BagVar1*(3/4) + P_Contributed_To_AccidentYes*(1/4);
18388 +P_Contributed_To_AccidentNo = _BagVar2*(3/4) + P_Contributed_To_AccidentNo*(1/4);
18389 +*------------------------------------------------------------*;
18390 +* Bagging: Saving Probabilities for Next Iteration;
18391 +*------------------------------------------------------------*;
18392 +_BagVar1 = P_Contributed_To_AccidentYes;
18393 +_BagVar2 = P_Contributed_To_AccidentNo;
18394 +*------------------------------------------------------------*;
18395 +* Grp: StartGroup;
18396 +* User: Divya;
18397 +* Date: 23NOV16: 03:25;
18398 +* Bagging: Loop=5;
18399 +*------------------------------------------------------------*;
18400 +*------------------------------------------------------------*;
18401 +* Tree5: DecisionTree;
18402 +* User: Divya;
18403 +* Date: 23NOV16: 03:25;
18404 +* Bagging: Loop=5;
18405 +*------------------------------------------------------------*;
18406 +****************************************************************;
18407 +******             DECISION TREE SCORING CODE             ******;
18408 +****************************************************************;
18409 +
18410 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
18411 +LENGTH F_Contributed_To_Accident  $    3;
18412 +LENGTH I_Contributed_To_Accident  $    3;
18413 +LENGTH U_Contributed_To_Accident  $    3;
18414 +LENGTH _WARN_  $    4;
18415 +
18416 +******              LABELS FOR NEW VARIABLES              ******;
18417 +label _NODE_ = 'Node' ;
18418 +label _LEAF_ = 'Leaf' ;
18419 +label P_Contributed_To_AccidentYes =
18420 +'Predicted: Contributed_To_Accident=Yes' ;
18421 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
18422 +label Q_Contributed_To_AccidentYes =
18423 +'Unadjusted P: Contributed_To_Accident=Yes' ;
18424 +label Q_Contributed_To_AccidentNo =
18425 +'Unadjusted P: Contributed_To_Accident=No' ;
18426 +label V_Contributed_To_AccidentYes =
18427 +'Validated: Contributed_To_Accident=Yes' ;
18428 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
18429 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
18430 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
18431 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
18432 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
18433 +label U_Contributed_To_Accident =
18434 +'Unnormalized Into: Contributed_To_Accident' ;
18435 +label _WARN_ = 'Warnings' ;
18436 +
18437 +
18438 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
18439 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
18440 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
18441 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
18442 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
18443 +
18444 +
18445 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
18446 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
18447 +
18448 +******             ASSIGN OBSERVATION TO NODE             ******;
18449 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
18450 + %DMNORMIP( _ARBFMT_12);
18451 +IF _ARBFMT_12 IN ('3' ) THEN DO;
18452 +  _NODE_  =                    3;
18453 +  _LEAF_  =                    4;
18454 +  P_Contributed_To_AccidentYes  =      0.9217877094972;
18455 +  P_Contributed_To_AccidentNo  =     0.07821229050279;
18456 +  Q_Contributed_To_AccidentYes  =      0.9217877094972;
18457 +  Q_Contributed_To_AccidentNo  =     0.07821229050279;
18458 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
18459 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
18460 +  I_Contributed_To_Accident  = 'YES' ;
18461 +  U_Contributed_To_Accident  = 'Yes' ;
18462 +  END;
18463 +ELSE DO;
18464 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
18465 +   %DMNORMIP( _ARBFMT_12);
18466 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
18467 +    _NODE_  =                    5;
18468 +    _LEAF_  =                    3;
18469 +    P_Contributed_To_AccidentYes  =                    1;
18470 +    P_Contributed_To_AccidentNo  =                    0;
18471 +    Q_Contributed_To_AccidentYes  =                    1;
18472 +    Q_Contributed_To_AccidentNo  =                    0;
18473 +    V_Contributed_To_AccidentYes  =                    0;
18474 +    V_Contributed_To_AccidentNo  =                    0;
18475 +    I_Contributed_To_Accident  = 'YES' ;
18476 +    U_Contributed_To_Accident  = 'Yes' ;
18477 +    END;
18478 +  ELSE DO;
18479 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
18480 +     %DMNORMIP( _ARBFMT_12);
18481 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
18482 +      _NODE_  =                    7;
18483 +      _LEAF_  =                    2;
18484 +      P_Contributed_To_AccidentYes  =     0.13089005235602;
18485 +      P_Contributed_To_AccidentNo  =     0.86910994764397;
18486 +      Q_Contributed_To_AccidentYes  =     0.13089005235602;
18487 +      Q_Contributed_To_AccidentNo  =     0.86910994764397;
18488 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
18489 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
18490 +      I_Contributed_To_Accident  = 'NO' ;
18491 +      U_Contributed_To_Accident  = 'No' ;
18492 +      END;
18493 +    ELSE DO;
18494 +      _NODE_  =                    6;
18495 +      _LEAF_  =                    1;
18496 +      P_Contributed_To_AccidentYes  =          0.322265625;
18497 +      P_Contributed_To_AccidentNo  =          0.677734375;
18498 +      Q_Contributed_To_AccidentYes  =          0.322265625;
18499 +      Q_Contributed_To_AccidentNo  =          0.677734375;
18500 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
18501 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
18502 +      I_Contributed_To_Accident  = 'NO' ;
18503 +      U_Contributed_To_Accident  = 'No' ;
18504 +      END;
18505 +    END;
18506 +  END;
18507 +
18508 +*****  RESIDUALS R_ *************;
18509 +IF  F_Contributed_To_Accident  NE 'YES'
18510 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
18511 +        R_Contributed_To_AccidentYes  = .;
18512 +        R_Contributed_To_AccidentNo  = .;
18513 + END;
18514 + ELSE DO;
18515 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
18516 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
18517 +       SELECT( F_Contributed_To_Accident  );
18518 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
18519 +        R_Contributed_To_AccidentYes  +1;
18520 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
18521 +        R_Contributed_To_AccidentNo  +1;
18522 +       END;
18523 + END;
18524 +
18525 +****************************************************************;
18526 +******          END OF DECISION TREE SCORING CODE         ******;
18527 +****************************************************************;
18528 +
18529 +drop _LEAF_;
18530 +*------------------------------------------------------------*;
18531 +* EndGrp: EndGroup;
18532 +* User: Divya;
18533 +* Date: 23NOV16: 03:25;
18534 +* Bagging: Loop=5;
18535 +*------------------------------------------------------------*;
18536 +*------------------------------------------------------------*;
18537 +* Bagging: accumulate probabilities for iteration: 5;
18538 +*------------------------------------------------------------*;
18539 +P_Contributed_To_AccidentYes = _BagVar1*(4/5) + P_Contributed_To_AccidentYes*(1/5);
18540 +P_Contributed_To_AccidentNo = _BagVar2*(4/5) + P_Contributed_To_AccidentNo*(1/5);
18541 +*------------------------------------------------------------*;
18542 +* Bagging: Saving Probabilities for Next Iteration;
18543 +*------------------------------------------------------------*;
18544 +_BagVar1 = P_Contributed_To_AccidentYes;
18545 +_BagVar2 = P_Contributed_To_AccidentNo;
18546 +*------------------------------------------------------------*;
18547 +* Grp: StartGroup;
18548 +* User: Divya;
18549 +* Date: 23NOV16: 03:25;
18550 +* Bagging: Loop=6;
18551 +*------------------------------------------------------------*;
18552 +*------------------------------------------------------------*;
18553 +* Tree5: DecisionTree;
18554 +* User: Divya;
18555 +* Date: 23NOV16: 03:25;
18556 +* Bagging: Loop=6;
18557 +*------------------------------------------------------------*;
18558 +****************************************************************;
18559 +******             DECISION TREE SCORING CODE             ******;
18560 +****************************************************************;
18561 +
18562 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
18563 +LENGTH F_Contributed_To_Accident  $    3;
18564 +LENGTH I_Contributed_To_Accident  $    3;
18565 +LENGTH U_Contributed_To_Accident  $    3;
18566 +LENGTH _WARN_  $    4;
18567 +
18568 +******              LABELS FOR NEW VARIABLES              ******;
18569 +label _NODE_ = 'Node' ;
18570 +label _LEAF_ = 'Leaf' ;
18571 +label P_Contributed_To_AccidentYes =
18572 +'Predicted: Contributed_To_Accident=Yes' ;
18573 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
18574 +label Q_Contributed_To_AccidentYes =
18575 +'Unadjusted P: Contributed_To_Accident=Yes' ;
18576 +label Q_Contributed_To_AccidentNo =
18577 +'Unadjusted P: Contributed_To_Accident=No' ;
18578 +label V_Contributed_To_AccidentYes =
18579 +'Validated: Contributed_To_Accident=Yes' ;
18580 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
18581 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
18582 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
18583 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
18584 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
18585 +label U_Contributed_To_Accident =
18586 +'Unnormalized Into: Contributed_To_Accident' ;
18587 +label _WARN_ = 'Warnings' ;
18588 +
18589 +
18590 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
18591 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
18592 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
18593 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
18594 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
18595 +
18596 +
18597 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
18598 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
18599 +
18600 +******             ASSIGN OBSERVATION TO NODE             ******;
18601 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
18602 + %DMNORMIP( _ARBFMT_12);
18603 +IF _ARBFMT_12 IN ('3' ) THEN DO;
18604 +  _NODE_  =                    3;
18605 +  _LEAF_  =                    4;
18606 +  P_Contributed_To_AccidentYes  =     0.94943820224719;
18607 +  P_Contributed_To_AccidentNo  =      0.0505617977528;
18608 +  Q_Contributed_To_AccidentYes  =     0.94943820224719;
18609 +  Q_Contributed_To_AccidentNo  =      0.0505617977528;
18610 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
18611 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
18612 +  I_Contributed_To_Accident  = 'YES' ;
18613 +  U_Contributed_To_Accident  = 'Yes' ;
18614 +  END;
18615 +ELSE DO;
18616 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
18617 +   %DMNORMIP( _ARBFMT_12);
18618 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
18619 +    _NODE_  =                    5;
18620 +    _LEAF_  =                    3;
18621 +    P_Contributed_To_AccidentYes  =                0.952;
18622 +    P_Contributed_To_AccidentNo  =                0.048;
18623 +    Q_Contributed_To_AccidentYes  =                0.952;
18624 +    Q_Contributed_To_AccidentNo  =                0.048;
18625 +    V_Contributed_To_AccidentYes  =                    0;
18626 +    V_Contributed_To_AccidentNo  =                    0;
18627 +    I_Contributed_To_Accident  = 'YES' ;
18628 +    U_Contributed_To_Accident  = 'Yes' ;
18629 +    END;
18630 +  ELSE DO;
18631 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
18632 +     %DMNORMIP( _ARBFMT_12);
18633 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
18634 +      _NODE_  =                    7;
18635 +      _LEAF_  =                    2;
18636 +      P_Contributed_To_AccidentYes  =     0.13775510204081;
18637 +      P_Contributed_To_AccidentNo  =     0.86224489795918;
18638 +      Q_Contributed_To_AccidentYes  =     0.13775510204081;
18639 +      Q_Contributed_To_AccidentNo  =     0.86224489795918;
18640 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
18641 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
18642 +      I_Contributed_To_Accident  = 'NO' ;
18643 +      U_Contributed_To_Accident  = 'No' ;
18644 +      END;
18645 +    ELSE DO;
18646 +      _NODE_  =                    6;
18647 +      _LEAF_  =                    1;
18648 +      P_Contributed_To_AccidentYes  =     0.34068136272545;
18649 +      P_Contributed_To_AccidentNo  =     0.65931863727454;
18650 +      Q_Contributed_To_AccidentYes  =     0.34068136272545;
18651 +      Q_Contributed_To_AccidentNo  =     0.65931863727454;
18652 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
18653 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
18654 +      I_Contributed_To_Accident  = 'NO' ;
18655 +      U_Contributed_To_Accident  = 'No' ;
18656 +      END;
18657 +    END;
18658 +  END;
18659 +
18660 +*****  RESIDUALS R_ *************;
18661 +IF  F_Contributed_To_Accident  NE 'YES'
18662 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
18663 +        R_Contributed_To_AccidentYes  = .;
18664 +        R_Contributed_To_AccidentNo  = .;
18665 + END;
18666 + ELSE DO;
18667 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
18668 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
18669 +       SELECT( F_Contributed_To_Accident  );
18670 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
18671 +        R_Contributed_To_AccidentYes  +1;
18672 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
18673 +        R_Contributed_To_AccidentNo  +1;
18674 +       END;
18675 + END;
18676 +
18677 +****************************************************************;
18678 +******          END OF DECISION TREE SCORING CODE         ******;
18679 +****************************************************************;
18680 +
18681 +drop _LEAF_;
18682 +*------------------------------------------------------------*;
18683 +* EndGrp: EndGroup;
18684 +* User: Divya;
18685 +* Date: 23NOV16: 03:25;
18686 +* Bagging: Loop=6;
18687 +*------------------------------------------------------------*;
18688 +*------------------------------------------------------------*;
18689 +* Bagging: accumulate probabilities for iteration: 6;
18690 +*------------------------------------------------------------*;
18691 +P_Contributed_To_AccidentYes = _BagVar1*(5/6) + P_Contributed_To_AccidentYes*(1/6);
18692 +P_Contributed_To_AccidentNo = _BagVar2*(5/6) + P_Contributed_To_AccidentNo*(1/6);
18693 +*------------------------------------------------------------*;
18694 +* Bagging: Saving Probabilities for Next Iteration;
18695 +*------------------------------------------------------------*;
18696 +_BagVar1 = P_Contributed_To_AccidentYes;
18697 +_BagVar2 = P_Contributed_To_AccidentNo;
18698 +*------------------------------------------------------------*;
18699 +* Grp: StartGroup;
18700 +* User: Divya;
18701 +* Date: 23NOV16: 03:25;
18702 +* Bagging: Loop=7;
18703 +*------------------------------------------------------------*;
18704 +*------------------------------------------------------------*;
18705 +* Tree5: DecisionTree;
18706 +* User: Divya;
18707 +* Date: 23NOV16: 03:25;
18708 +* Bagging: Loop=7;
18709 +*------------------------------------------------------------*;
18710 +****************************************************************;
18711 +******             DECISION TREE SCORING CODE             ******;
18712 +****************************************************************;
18713 +
18714 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
18715 +LENGTH F_Contributed_To_Accident  $    3;
18716 +LENGTH I_Contributed_To_Accident  $    3;
18717 +LENGTH U_Contributed_To_Accident  $    3;
18718 +LENGTH _WARN_  $    4;
18719 +
18720 +******              LABELS FOR NEW VARIABLES              ******;
18721 +label _NODE_ = 'Node' ;
18722 +label _LEAF_ = 'Leaf' ;
18723 +label P_Contributed_To_AccidentYes =
18724 +'Predicted: Contributed_To_Accident=Yes' ;
18725 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
18726 +label Q_Contributed_To_AccidentYes =
18727 +'Unadjusted P: Contributed_To_Accident=Yes' ;
18728 +label Q_Contributed_To_AccidentNo =
18729 +'Unadjusted P: Contributed_To_Accident=No' ;
18730 +label V_Contributed_To_AccidentYes =
18731 +'Validated: Contributed_To_Accident=Yes' ;
18732 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
18733 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
18734 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
18735 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
18736 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
18737 +label U_Contributed_To_Accident =
18738 +'Unnormalized Into: Contributed_To_Accident' ;
18739 +label _WARN_ = 'Warnings' ;
18740 +
18741 +
18742 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
18743 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
18744 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
18745 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
18746 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
18747 +
18748 +
18749 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
18750 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
18751 +
18752 +******             ASSIGN OBSERVATION TO NODE             ******;
18753 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
18754 + %DMNORMIP( _ARBFMT_12);
18755 +IF _ARBFMT_12 IN ('3' ) THEN DO;
18756 +  _NODE_  =                    3;
18757 +  _LEAF_  =                    4;
18758 +  P_Contributed_To_AccidentYes  =     0.96534653465346;
18759 +  P_Contributed_To_AccidentNo  =     0.03465346534653;
18760 +  Q_Contributed_To_AccidentYes  =     0.96534653465346;
18761 +  Q_Contributed_To_AccidentNo  =     0.03465346534653;
18762 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
18763 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
18764 +  I_Contributed_To_Accident  = 'YES' ;
18765 +  U_Contributed_To_Accident  = 'Yes' ;
18766 +  END;
18767 +ELSE DO;
18768 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
18769 +   %DMNORMIP( _ARBFMT_12);
18770 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
18771 +    _NODE_  =                    5;
18772 +    _LEAF_  =                    3;
18773 +    P_Contributed_To_AccidentYes  =     0.97872340425531;
18774 +    P_Contributed_To_AccidentNo  =     0.02127659574468;
18775 +    Q_Contributed_To_AccidentYes  =     0.97872340425531;
18776 +    Q_Contributed_To_AccidentNo  =     0.02127659574468;
18777 +    V_Contributed_To_AccidentYes  =                    0;
18778 +    V_Contributed_To_AccidentNo  =                    0;
18779 +    I_Contributed_To_Accident  = 'YES' ;
18780 +    U_Contributed_To_Accident  = 'Yes' ;
18781 +    END;
18782 +  ELSE DO;
18783 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
18784 +     %DMNORMIP( _ARBFMT_12);
18785 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
18786 +      _NODE_  =                    7;
18787 +      _LEAF_  =                    2;
18788 +      P_Contributed_To_AccidentYes  =     0.16216216216216;
18789 +      P_Contributed_To_AccidentNo  =     0.83783783783783;
18790 +      Q_Contributed_To_AccidentYes  =     0.16216216216216;
18791 +      Q_Contributed_To_AccidentNo  =     0.83783783783783;
18792 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
18793 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
18794 +      I_Contributed_To_Accident  = 'NO' ;
18795 +      U_Contributed_To_Accident  = 'No' ;
18796 +      END;
18797 +    ELSE DO;
18798 +      _NODE_  =                    6;
18799 +      _LEAF_  =                    1;
18800 +      P_Contributed_To_AccidentYes  =     0.36382978723404;
18801 +      P_Contributed_To_AccidentNo  =     0.63617021276595;
18802 +      Q_Contributed_To_AccidentYes  =     0.36382978723404;
18803 +      Q_Contributed_To_AccidentNo  =     0.63617021276595;
18804 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
18805 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
18806 +      I_Contributed_To_Accident  = 'NO' ;
18807 +      U_Contributed_To_Accident  = 'No' ;
18808 +      END;
18809 +    END;
18810 +  END;
18811 +
18812 +*****  RESIDUALS R_ *************;
18813 +IF  F_Contributed_To_Accident  NE 'YES'
18814 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
18815 +        R_Contributed_To_AccidentYes  = .;
18816 +        R_Contributed_To_AccidentNo  = .;
18817 + END;
18818 + ELSE DO;
18819 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
18820 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
18821 +       SELECT( F_Contributed_To_Accident  );
18822 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
18823 +        R_Contributed_To_AccidentYes  +1;
18824 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
18825 +        R_Contributed_To_AccidentNo  +1;
18826 +       END;
18827 + END;
18828 +
18829 +****************************************************************;
18830 +******          END OF DECISION TREE SCORING CODE         ******;
18831 +****************************************************************;
18832 +
18833 +drop _LEAF_;
18834 +*------------------------------------------------------------*;
18835 +* EndGrp: EndGroup;
18836 +* User: Divya;
18837 +* Date: 23NOV16: 03:25;
18838 +* Bagging: Loop=7;
18839 +*------------------------------------------------------------*;
18840 +*------------------------------------------------------------*;
18841 +* Bagging: accumulate probabilities for iteration: 7;
18842 +*------------------------------------------------------------*;
18843 +P_Contributed_To_AccidentYes = _BagVar1*(6/7) + P_Contributed_To_AccidentYes*(1/7);
18844 +P_Contributed_To_AccidentNo = _BagVar2*(6/7) + P_Contributed_To_AccidentNo*(1/7);
18845 +*------------------------------------------------------------*;
18846 +* Bagging: Saving Probabilities for Next Iteration;
18847 +*------------------------------------------------------------*;
18848 +_BagVar1 = P_Contributed_To_AccidentYes;
18849 +_BagVar2 = P_Contributed_To_AccidentNo;
18850 +*------------------------------------------------------------*;
18851 +* Grp: StartGroup;
18852 +* User: Divya;
18853 +* Date: 23NOV16: 03:26;
18854 +* Bagging: Loop=8;
18855 +*------------------------------------------------------------*;
18856 +*------------------------------------------------------------*;
18857 +* Tree5: DecisionTree;
18858 +* User: Divya;
18859 +* Date: 23NOV16: 03:26;
18860 +* Bagging: Loop=8;
18861 +*------------------------------------------------------------*;
18862 +****************************************************************;
18863 +******             DECISION TREE SCORING CODE             ******;
18864 +****************************************************************;
18865 +
18866 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
18867 +LENGTH F_Contributed_To_Accident  $    3;
18868 +LENGTH I_Contributed_To_Accident  $    3;
18869 +LENGTH U_Contributed_To_Accident  $    3;
18870 +LENGTH _WARN_  $    4;
18871 +
18872 +******              LABELS FOR NEW VARIABLES              ******;
18873 +label _NODE_ = 'Node' ;
18874 +label _LEAF_ = 'Leaf' ;
18875 +label P_Contributed_To_AccidentYes =
18876 +'Predicted: Contributed_To_Accident=Yes' ;
18877 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
18878 +label Q_Contributed_To_AccidentYes =
18879 +'Unadjusted P: Contributed_To_Accident=Yes' ;
18880 +label Q_Contributed_To_AccidentNo =
18881 +'Unadjusted P: Contributed_To_Accident=No' ;
18882 +label V_Contributed_To_AccidentYes =
18883 +'Validated: Contributed_To_Accident=Yes' ;
18884 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
18885 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
18886 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
18887 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
18888 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
18889 +label U_Contributed_To_Accident =
18890 +'Unnormalized Into: Contributed_To_Accident' ;
18891 +label _WARN_ = 'Warnings' ;
18892 +
18893 +
18894 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
18895 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
18896 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
18897 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
18898 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
18899 +
18900 +
18901 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
18902 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
18903 +
18904 +******             ASSIGN OBSERVATION TO NODE             ******;
18905 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
18906 + %DMNORMIP( _ARBFMT_12);
18907 +IF _ARBFMT_12 IN ('3' ) THEN DO;
18908 +  _NODE_  =                    3;
18909 +  _LEAF_  =                    4;
18910 +  P_Contributed_To_AccidentYes  =     0.96511627906976;
18911 +  P_Contributed_To_AccidentNo  =     0.03488372093023;
18912 +  Q_Contributed_To_AccidentYes  =     0.96511627906976;
18913 +  Q_Contributed_To_AccidentNo  =     0.03488372093023;
18914 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
18915 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
18916 +  I_Contributed_To_Accident  = 'YES' ;
18917 +  U_Contributed_To_Accident  = 'Yes' ;
18918 +  END;
18919 +ELSE DO;
18920 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
18921 +   %DMNORMIP( _ARBFMT_12);
18922 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
18923 +    _NODE_  =                    5;
18924 +    _LEAF_  =                    3;
18925 +    P_Contributed_To_AccidentYes  =     0.97826086956521;
18926 +    P_Contributed_To_AccidentNo  =     0.02173913043478;
18927 +    Q_Contributed_To_AccidentYes  =     0.97826086956521;
18928 +    Q_Contributed_To_AccidentNo  =     0.02173913043478;
18929 +    V_Contributed_To_AccidentYes  =                    0;
18930 +    V_Contributed_To_AccidentNo  =                    0;
18931 +    I_Contributed_To_Accident  = 'YES' ;
18932 +    U_Contributed_To_Accident  = 'Yes' ;
18933 +    END;
18934 +  ELSE DO;
18935 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
18936 +     %DMNORMIP( _ARBFMT_12);
18937 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
18938 +      _NODE_  =                    9;
18939 +      _LEAF_  =                    2;
18940 +      P_Contributed_To_AccidentYes  =     0.18539325842696;
18941 +      P_Contributed_To_AccidentNo  =     0.81460674157303;
18942 +      Q_Contributed_To_AccidentYes  =     0.18539325842696;
18943 +      Q_Contributed_To_AccidentNo  =     0.81460674157303;
18944 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
18945 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
18946 +      I_Contributed_To_Accident  = 'NO' ;
18947 +      U_Contributed_To_Accident  = 'No' ;
18948 +      END;
18949 +    ELSE DO;
18950 +      _NODE_  =                    8;
18951 +      _LEAF_  =                    1;
18952 +      P_Contributed_To_AccidentYes  =     0.32941176470588;
18953 +      P_Contributed_To_AccidentNo  =     0.67058823529411;
18954 +      Q_Contributed_To_AccidentYes  =     0.32941176470588;
18955 +      Q_Contributed_To_AccidentNo  =     0.67058823529411;
18956 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
18957 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
18958 +      I_Contributed_To_Accident  = 'NO' ;
18959 +      U_Contributed_To_Accident  = 'No' ;
18960 +      END;
18961 +    END;
18962 +  END;
18963 +
18964 +*****  RESIDUALS R_ *************;
18965 +IF  F_Contributed_To_Accident  NE 'YES'
18966 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
18967 +        R_Contributed_To_AccidentYes  = .;
18968 +        R_Contributed_To_AccidentNo  = .;
18969 + END;
18970 + ELSE DO;
18971 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
18972 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
18973 +       SELECT( F_Contributed_To_Accident  );
18974 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
18975 +        R_Contributed_To_AccidentYes  +1;
18976 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
18977 +        R_Contributed_To_AccidentNo  +1;
18978 +       END;
18979 + END;
18980 +
18981 +****************************************************************;
18982 +******          END OF DECISION TREE SCORING CODE         ******;
18983 +****************************************************************;
18984 +
18985 +drop _LEAF_;
18986 +*------------------------------------------------------------*;
18987 +* EndGrp: EndGroup;
18988 +* User: Divya;
18989 +* Date: 23NOV16: 03:26;
18990 +* Bagging: Loop=8;
18991 +*------------------------------------------------------------*;
18992 +*------------------------------------------------------------*;
18993 +* Bagging: accumulate probabilities for iteration: 8;
18994 +*------------------------------------------------------------*;
18995 +P_Contributed_To_AccidentYes = _BagVar1*(7/8) + P_Contributed_To_AccidentYes*(1/8);
18996 +P_Contributed_To_AccidentNo = _BagVar2*(7/8) + P_Contributed_To_AccidentNo*(1/8);
18997 +*------------------------------------------------------------*;
18998 +* Bagging: Saving Probabilities for Next Iteration;
18999 +*------------------------------------------------------------*;
19000 +_BagVar1 = P_Contributed_To_AccidentYes;
19001 +_BagVar2 = P_Contributed_To_AccidentNo;
19002 +*------------------------------------------------------------*;
19003 +* Grp: StartGroup;
19004 +* User: Divya;
19005 +* Date: 23NOV16: 03:26;
19006 +* Bagging: Loop=9;
19007 +*------------------------------------------------------------*;
19008 +*------------------------------------------------------------*;
19009 +* Tree5: DecisionTree;
19010 +* User: Divya;
19011 +* Date: 23NOV16: 03:26;
19012 +* Bagging: Loop=9;
19013 +*------------------------------------------------------------*;
19014 +****************************************************************;
19015 +******             DECISION TREE SCORING CODE             ******;
19016 +****************************************************************;
19017 +
19018 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
19019 +LENGTH F_Contributed_To_Accident  $    3;
19020 +LENGTH I_Contributed_To_Accident  $    3;
19021 +LENGTH U_Contributed_To_Accident  $    3;
19022 +LENGTH _WARN_  $    4;
19023 +
19024 +******              LABELS FOR NEW VARIABLES              ******;
19025 +label _NODE_ = 'Node' ;
19026 +label _LEAF_ = 'Leaf' ;
19027 +label P_Contributed_To_AccidentYes =
19028 +'Predicted: Contributed_To_Accident=Yes' ;
19029 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
19030 +label Q_Contributed_To_AccidentYes =
19031 +'Unadjusted P: Contributed_To_Accident=Yes' ;
19032 +label Q_Contributed_To_AccidentNo =
19033 +'Unadjusted P: Contributed_To_Accident=No' ;
19034 +label V_Contributed_To_AccidentYes =
19035 +'Validated: Contributed_To_Accident=Yes' ;
19036 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
19037 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
19038 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
19039 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
19040 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
19041 +label U_Contributed_To_Accident =
19042 +'Unnormalized Into: Contributed_To_Accident' ;
19043 +label _WARN_ = 'Warnings' ;
19044 +
19045 +
19046 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
19047 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
19048 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
19049 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
19050 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
19051 +
19052 +
19053 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
19054 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
19055 +
19056 +******             ASSIGN OBSERVATION TO NODE             ******;
19057 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
19058 + %DMNORMIP( _ARBFMT_12);
19059 +IF _ARBFMT_12 IN ('3' ) THEN DO;
19060 +  _NODE_  =                    3;
19061 +  _LEAF_  =                    4;
19062 +  P_Contributed_To_AccidentYes  =     0.96174863387978;
19063 +  P_Contributed_To_AccidentNo  =     0.03825136612021;
19064 +  Q_Contributed_To_AccidentYes  =     0.96174863387978;
19065 +  Q_Contributed_To_AccidentNo  =     0.03825136612021;
19066 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
19067 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
19068 +  I_Contributed_To_Accident  = 'YES' ;
19069 +  U_Contributed_To_Accident  = 'Yes' ;
19070 +  END;
19071 +ELSE DO;
19072 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
19073 +   %DMNORMIP( _ARBFMT_12);
19074 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
19075 +    _NODE_  =                    5;
19076 +    _LEAF_  =                    3;
19077 +    P_Contributed_To_AccidentYes  =     0.97391304347826;
19078 +    P_Contributed_To_AccidentNo  =     0.02608695652173;
19079 +    Q_Contributed_To_AccidentYes  =     0.97391304347826;
19080 +    Q_Contributed_To_AccidentNo  =     0.02608695652173;
19081 +    V_Contributed_To_AccidentYes  =                    0;
19082 +    V_Contributed_To_AccidentNo  =                    0;
19083 +    I_Contributed_To_Accident  = 'YES' ;
19084 +    U_Contributed_To_Accident  = 'Yes' ;
19085 +    END;
19086 +  ELSE DO;
19087 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
19088 +     %DMNORMIP( _ARBFMT_12);
19089 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
19090 +      _NODE_  =                    7;
19091 +      _LEAF_  =                    2;
19092 +      P_Contributed_To_AccidentYes  =     0.15463917525773;
19093 +      P_Contributed_To_AccidentNo  =     0.84536082474226;
19094 +      Q_Contributed_To_AccidentYes  =     0.15463917525773;
19095 +      Q_Contributed_To_AccidentNo  =     0.84536082474226;
19096 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
19097 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
19098 +      I_Contributed_To_Accident  = 'NO' ;
19099 +      U_Contributed_To_Accident  = 'No' ;
19100 +      END;
19101 +    ELSE DO;
19102 +      _NODE_  =                    6;
19103 +      _LEAF_  =                    1;
19104 +      P_Contributed_To_AccidentYes  =     0.35770750988142;
19105 +      P_Contributed_To_AccidentNo  =     0.64229249011857;
19106 +      Q_Contributed_To_AccidentYes  =     0.35770750988142;
19107 +      Q_Contributed_To_AccidentNo  =     0.64229249011857;
19108 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
19109 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
19110 +      I_Contributed_To_Accident  = 'NO' ;
19111 +      U_Contributed_To_Accident  = 'No' ;
19112 +      END;
19113 +    END;
19114 +  END;
19115 +
19116 +*****  RESIDUALS R_ *************;
19117 +IF  F_Contributed_To_Accident  NE 'YES'
19118 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
19119 +        R_Contributed_To_AccidentYes  = .;
19120 +        R_Contributed_To_AccidentNo  = .;
19121 + END;
19122 + ELSE DO;
19123 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
19124 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
19125 +       SELECT( F_Contributed_To_Accident  );
19126 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
19127 +        R_Contributed_To_AccidentYes  +1;
19128 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
19129 +        R_Contributed_To_AccidentNo  +1;
19130 +       END;
19131 + END;
19132 +
19133 +****************************************************************;
19134 +******          END OF DECISION TREE SCORING CODE         ******;
19135 +****************************************************************;
19136 +
19137 +drop _LEAF_;
19138 +*------------------------------------------------------------*;
19139 +* EndGrp: EndGroup;
19140 +* User: Divya;
19141 +* Date: 23NOV16: 03:26;
19142 +* Bagging: Loop=9;
19143 +*------------------------------------------------------------*;
19144 +*------------------------------------------------------------*;
19145 +* Bagging: accumulate probabilities for iteration: 9;
19146 +*------------------------------------------------------------*;
19147 +P_Contributed_To_AccidentYes = _BagVar1*(8/9) + P_Contributed_To_AccidentYes*(1/9);
19148 +P_Contributed_To_AccidentNo = _BagVar2*(8/9) + P_Contributed_To_AccidentNo*(1/9);
19149 +*------------------------------------------------------------*;
19150 +* Bagging: Saving Probabilities for Next Iteration;
19151 +*------------------------------------------------------------*;
19152 +_BagVar1 = P_Contributed_To_AccidentYes;
19153 +_BagVar2 = P_Contributed_To_AccidentNo;
19154 +*------------------------------------------------------------*;
19155 +* Grp: StartGroup;
19156 +* User: Divya;
19157 +* Date: 23NOV16: 03:27;
19158 +* Bagging: Loop=10;
19159 +*------------------------------------------------------------*;
19160 +*------------------------------------------------------------*;
19161 +* Tree5: DecisionTree;
19162 +* User: Divya;
19163 +* Date: 23NOV16: 03:27;
19164 +* Bagging: Loop=10;
19165 +*------------------------------------------------------------*;
19166 +****************************************************************;
19167 +******             DECISION TREE SCORING CODE             ******;
19168 +****************************************************************;
19169 +
19170 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
19171 +LENGTH F_Contributed_To_Accident  $    3;
19172 +LENGTH I_Contributed_To_Accident  $    3;
19173 +LENGTH U_Contributed_To_Accident  $    3;
19174 +LENGTH _WARN_  $    4;
19175 +
19176 +******              LABELS FOR NEW VARIABLES              ******;
19177 +label _NODE_ = 'Node' ;
19178 +label _LEAF_ = 'Leaf' ;
19179 +label P_Contributed_To_AccidentYes =
19180 +'Predicted: Contributed_To_Accident=Yes' ;
19181 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
19182 +label Q_Contributed_To_AccidentYes =
19183 +'Unadjusted P: Contributed_To_Accident=Yes' ;
19184 +label Q_Contributed_To_AccidentNo =
19185 +'Unadjusted P: Contributed_To_Accident=No' ;
19186 +label V_Contributed_To_AccidentYes =
19187 +'Validated: Contributed_To_Accident=Yes' ;
19188 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
19189 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
19190 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
19191 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
19192 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
19193 +label U_Contributed_To_Accident =
19194 +'Unnormalized Into: Contributed_To_Accident' ;
19195 +label _WARN_ = 'Warnings' ;
19196 +
19197 +
19198 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
19199 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
19200 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
19201 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
19202 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
19203 +
19204 +
19205 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
19206 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
19207 +
19208 +******             ASSIGN OBSERVATION TO NODE             ******;
19209 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
19210 + %DMNORMIP( _ARBFMT_12);
19211 +IF _ARBFMT_12 IN ('3' ) THEN DO;
19212 +  _NODE_  =                    3;
19213 +  _LEAF_  =                    4;
19214 +  P_Contributed_To_AccidentYes  =                 0.92;
19215 +  P_Contributed_To_AccidentNo  =                 0.08;
19216 +  Q_Contributed_To_AccidentYes  =                 0.92;
19217 +  Q_Contributed_To_AccidentNo  =                 0.08;
19218 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
19219 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
19220 +  I_Contributed_To_Accident  = 'YES' ;
19221 +  U_Contributed_To_Accident  = 'Yes' ;
19222 +  END;
19223 +ELSE DO;
19224 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
19225 +   %DMNORMIP( _ARBFMT_12);
19226 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
19227 +    _NODE_  =                    5;
19228 +    _LEAF_  =                    3;
19229 +    P_Contributed_To_AccidentYes  =     0.96638655462184;
19230 +    P_Contributed_To_AccidentNo  =     0.03361344537815;
19231 +    Q_Contributed_To_AccidentYes  =     0.96638655462184;
19232 +    Q_Contributed_To_AccidentNo  =     0.03361344537815;
19233 +    V_Contributed_To_AccidentYes  =                    0;
19234 +    V_Contributed_To_AccidentNo  =                    0;
19235 +    I_Contributed_To_Accident  = 'YES' ;
19236 +    U_Contributed_To_Accident  = 'Yes' ;
19237 +    END;
19238 +  ELSE DO;
19239 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
19240 +     %DMNORMIP( _ARBFMT_12);
19241 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
19242 +      _NODE_  =                    7;
19243 +      _LEAF_  =                    2;
19244 +      P_Contributed_To_AccidentYes  =     0.18357487922705;
19245 +      P_Contributed_To_AccidentNo  =     0.81642512077294;
19246 +      Q_Contributed_To_AccidentYes  =     0.18357487922705;
19247 +      Q_Contributed_To_AccidentNo  =     0.81642512077294;
19248 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
19249 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
19250 +      I_Contributed_To_Accident  = 'NO' ;
19251 +      U_Contributed_To_Accident  = 'No' ;
19252 +      END;
19253 +    ELSE DO;
19254 +      _NODE_  =                    6;
19255 +      _LEAF_  =                    1;
19256 +      P_Contributed_To_AccidentYes  =     0.36228813559322;
19257 +      P_Contributed_To_AccidentNo  =     0.63771186440677;
19258 +      Q_Contributed_To_AccidentYes  =     0.36228813559322;
19259 +      Q_Contributed_To_AccidentNo  =     0.63771186440677;
19260 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
19261 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
19262 +      I_Contributed_To_Accident  = 'NO' ;
19263 +      U_Contributed_To_Accident  = 'No' ;
19264 +      END;
19265 +    END;
19266 +  END;
19267 +
19268 +*****  RESIDUALS R_ *************;
19269 +IF  F_Contributed_To_Accident  NE 'YES'
19270 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
19271 +        R_Contributed_To_AccidentYes  = .;
19272 +        R_Contributed_To_AccidentNo  = .;
19273 + END;
19274 + ELSE DO;
19275 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
19276 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
19277 +       SELECT( F_Contributed_To_Accident  );
19278 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
19279 +        R_Contributed_To_AccidentYes  +1;
19280 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
19281 +        R_Contributed_To_AccidentNo  +1;
19282 +       END;
19283 + END;
19284 +
19285 +****************************************************************;
19286 +******          END OF DECISION TREE SCORING CODE         ******;
19287 +****************************************************************;
19288 +
19289 +drop _LEAF_;
19290 +*------------------------------------------------------------*;
19291 +* EndGrp: EndGroup;
19292 +* User: Divya;
19293 +* Date: 23NOV16: 03:27;
19294 +* Bagging: Loop=10;
19295 +*------------------------------------------------------------*;
19296 +*------------------------------------------------------------*;
19297 +* Bagging: accumulate final probabilities;
19298 +*------------------------------------------------------------*;
19299 +P_Contributed_To_AccidentYes = _BagVar1*(9/10) + P_Contributed_To_AccidentYes*(1/10);
19300 +P_Contributed_To_AccidentNo = _BagVar2*(9/10) + P_Contributed_To_AccidentNo*(1/10);
19301 +*------------------------------------------------------------*;
19302 +*Computing Classification Vars: Contributed_To_Accident;
19303 +*------------------------------------------------------------*;
19304 +length I_Contributed_To_Accident $3;
19305 +label  I_Contributed_To_Accident = 'Into: Contributed_To_Accident';
19306 +length _format200 $200;
19307 +drop _format200;
19308 +_format200= ' ' ;
19309 +length _p_ 8;
19310 +_p_= 0 ;
19311 +drop _p_ ;
19312 +if P_Contributed_To_AccidentYes - _p_ > 1e-8 then do ;
19313 +   _p_= P_Contributed_To_AccidentYes ;
19314 +   _format200='YES';
19315 +end;
19316 +if P_Contributed_To_AccidentNo - _p_ > 1e-8 then do ;
19317 +   _p_= P_Contributed_To_AccidentNo ;
19318 +   _format200='NO';
19319 +end;
19320 +I_Contributed_To_Accident=dmnorm(_format200,32); ;
19321 +if I_Contributed_To_Accident='YES' then
19322 +U_Contributed_To_Accident='YES';
19323 +if I_Contributed_To_Accident='NO' then
19324 +U_Contributed_To_Accident='NO';
19325 +*------------------------------------------------------------*;
19326 +*Computing Residual Vars: Contributed_To_Accident;
19327 +*------------------------------------------------------------*;
19328 +Length R_Contributed_To_AccidentYes 8;
19329 +Label R_Contributed_To_AccidentYes='Residual: Contributed_To_Accident=Yes';
19330 +Length R_Contributed_To_AccidentNo 8;
19331 +Label R_Contributed_To_AccidentNo='Residual: Contributed_To_Accident=No';
19332 +if
19333 + F_Contributed_To_Accident ne 'YES'
19334 +and F_Contributed_To_Accident ne 'NO'
19335 + then do;
19336 +R_Contributed_To_AccidentYes=.;
19337 +R_Contributed_To_AccidentNo=.;
19338 +end;
19339 +else do;
19340 +R_Contributed_To_AccidentYes= - P_Contributed_To_AccidentYes;
19341 +R_Contributed_To_AccidentNo= - P_Contributed_To_AccidentNo;
19342 +select(F_Contributed_To_Accident);
19343 +when('YES')R_Contributed_To_AccidentYes= R_Contributed_To_AccidentYes+1;
19344 +when('NO')R_Contributed_To_AccidentNo= R_Contributed_To_AccidentNo+1;
19345 +otherwise;
19346 +end;
19347 +end;
NOTE: %INCLUDE (level 1) ending.
 
NOTE: DATA STEP view saved on file EMWS1.ENDGRP_TRAIN.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.STAT2_TRAIN.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
 
NOTE: %INCLUDE (level 1) file EMFLOW is file D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMFLOWSCORE.sas.
19348 +*------------------------------------------------------------*;
19349 +* EndGrp: ;
19350 +* User: Divya;
19351 +* Date: 23NOV16: 03:23;
19352 +*------------------------------------------------------------* ;
19353 +* Ensemble Code;
19354 +*------------------------------------------------------------* ;
19355 +* Bagging: Loop=1;
19356 +* Temporary Variables;
19357 +drop _BagVar1;
19358 +_BagVar1 = 0;
19359 +drop _BagVar2;
19360 +_BagVar2 = 0;
19361 +*------------------------------------------------------------*;
19362 +* Grp: StartGroup;
19363 +* User: Divya;
19364 +* Date: 23NOV16: 03:23;
19365 +* Bagging: Loop=1;
19366 +*------------------------------------------------------------*;
19367 +*------------------------------------------------------------*;
19368 +* Tree5: DecisionTree;
19369 +* User: Divya;
19370 +* Date: 23NOV16: 03:23;
19371 +* Bagging: Loop=1;
19372 +*------------------------------------------------------------*;
19373 +****************************************************************;
19374 +******             DECISION TREE SCORING CODE             ******;
19375 +****************************************************************;
19376 +
19377 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
19378 +LENGTH F_Contributed_To_Accident  $    3;
19379 +LENGTH I_Contributed_To_Accident  $    3;
19380 +LENGTH U_Contributed_To_Accident  $    3;
19381 +LENGTH _WARN_  $    4;
19382 +
19383 +******              LABELS FOR NEW VARIABLES              ******;
19384 +label _NODE_ = 'Node' ;
19385 +label _LEAF_ = 'Leaf' ;
19386 +label P_Contributed_To_AccidentYes =
19387 +'Predicted: Contributed_To_Accident=Yes' ;
19388 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
19389 +label Q_Contributed_To_AccidentYes =
19390 +'Unadjusted P: Contributed_To_Accident=Yes' ;
19391 +label Q_Contributed_To_AccidentNo =
19392 +'Unadjusted P: Contributed_To_Accident=No' ;
19393 +label V_Contributed_To_AccidentYes =
19394 +'Validated: Contributed_To_Accident=Yes' ;
19395 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
19396 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
19397 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
19398 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
19399 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
19400 +label U_Contributed_To_Accident =
19401 +'Unnormalized Into: Contributed_To_Accident' ;
19402 +label _WARN_ = 'Warnings' ;
19403 +
19404 +
19405 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
19406 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
19407 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
19408 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
19409 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
19410 +
19411 +
19412 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
19413 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
19414 +
19415 +******             ASSIGN OBSERVATION TO NODE             ******;
19416 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
19417 + %DMNORMIP( _ARBFMT_12);
19418 +IF _ARBFMT_12 IN ('3' ) THEN DO;
19419 +  _NODE_  =                    3;
19420 +  _LEAF_  =                    4;
19421 +  P_Contributed_To_AccidentYes  =     0.96969696969696;
19422 +  P_Contributed_To_AccidentNo  =     0.03030303030303;
19423 +  Q_Contributed_To_AccidentYes  =     0.96969696969696;
19424 +  Q_Contributed_To_AccidentNo  =     0.03030303030303;
19425 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
19426 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
19427 +  I_Contributed_To_Accident  = 'YES' ;
19428 +  U_Contributed_To_Accident  = 'Yes' ;
19429 +  END;
19430 +ELSE DO;
19431 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
19432 +   %DMNORMIP( _ARBFMT_12);
19433 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
19434 +    _NODE_  =                    5;
19435 +    _LEAF_  =                    3;
19436 +    P_Contributed_To_AccidentYes  =      0.9763779527559;
19437 +    P_Contributed_To_AccidentNo  =     0.02362204724409;
19438 +    Q_Contributed_To_AccidentYes  =      0.9763779527559;
19439 +    Q_Contributed_To_AccidentNo  =     0.02362204724409;
19440 +    V_Contributed_To_AccidentYes  =                    0;
19441 +    V_Contributed_To_AccidentNo  =                    0;
19442 +    I_Contributed_To_Accident  = 'YES' ;
19443 +    U_Contributed_To_Accident  = 'Yes' ;
19444 +    END;
19445 +  ELSE DO;
19446 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
19447 +     %DMNORMIP( _ARBFMT_12);
19448 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
19449 +      _NODE_  =                    7;
19450 +      _LEAF_  =                    2;
19451 +      P_Contributed_To_AccidentYes  =     0.18579234972677;
19452 +      P_Contributed_To_AccidentNo  =     0.81420765027322;
19453 +      Q_Contributed_To_AccidentYes  =     0.18579234972677;
19454 +      Q_Contributed_To_AccidentNo  =     0.81420765027322;
19455 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
19456 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
19457 +      I_Contributed_To_Accident  = 'NO' ;
19458 +      U_Contributed_To_Accident  = 'No' ;
19459 +      END;
19460 +    ELSE DO;
19461 +      _NODE_  =                    6;
19462 +      _LEAF_  =                    1;
19463 +      P_Contributed_To_AccidentYes  =     0.38775510204081;
19464 +      P_Contributed_To_AccidentNo  =     0.61224489795918;
19465 +      Q_Contributed_To_AccidentYes  =     0.38775510204081;
19466 +      Q_Contributed_To_AccidentNo  =     0.61224489795918;
19467 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
19468 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
19469 +      I_Contributed_To_Accident  = 'NO' ;
19470 +      U_Contributed_To_Accident  = 'No' ;
19471 +      END;
19472 +    END;
19473 +  END;
19474 +
19475 +*****  RESIDUALS R_ *************;
19476 +IF  F_Contributed_To_Accident  NE 'YES'
19477 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
19478 +        R_Contributed_To_AccidentYes  = .;
19479 +        R_Contributed_To_AccidentNo  = .;
19480 + END;
19481 + ELSE DO;
19482 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
19483 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
19484 +       SELECT( F_Contributed_To_Accident  );
19485 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
19486 +        R_Contributed_To_AccidentYes  +1;
19487 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
19488 +        R_Contributed_To_AccidentNo  +1;
19489 +       END;
19490 + END;
19491 +
19492 +****************************************************************;
19493 +******          END OF DECISION TREE SCORING CODE         ******;
19494 +****************************************************************;
19495 +
19496 +drop _LEAF_;
19497 +*------------------------------------------------------------*;
19498 +* EndGrp: EndGroup;
19499 +* User: Divya;
19500 +* Date: 23NOV16: 03:23;
19501 +* Bagging: Loop=1;
19502 +*------------------------------------------------------------*;
19503 +*------------------------------------------------------------*;
19504 +* Bagging: Saving Probabilities for Next Iteration;
19505 +*------------------------------------------------------------*;
19506 +_BagVar1 = P_Contributed_To_AccidentYes;
19507 +_BagVar2 = P_Contributed_To_AccidentNo;
19508 +*------------------------------------------------------------*;
19509 +* Grp: StartGroup;
19510 +* User: Divya;
19511 +* Date: 23NOV16: 03:23;
19512 +* Bagging: Loop=2;
19513 +*------------------------------------------------------------*;
19514 +*------------------------------------------------------------*;
19515 +* Tree5: DecisionTree;
19516 +* User: Divya;
19517 +* Date: 23NOV16: 03:23;
19518 +* Bagging: Loop=2;
19519 +*------------------------------------------------------------*;
19520 +****************************************************************;
19521 +******             DECISION TREE SCORING CODE             ******;
19522 +****************************************************************;
19523 +
19524 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
19525 +LENGTH F_Contributed_To_Accident  $    3;
19526 +LENGTH I_Contributed_To_Accident  $    3;
19527 +LENGTH U_Contributed_To_Accident  $    3;
19528 +LENGTH _WARN_  $    4;
19529 +
19530 +******              LABELS FOR NEW VARIABLES              ******;
19531 +label _NODE_ = 'Node' ;
19532 +label _LEAF_ = 'Leaf' ;
19533 +label P_Contributed_To_AccidentYes =
19534 +'Predicted: Contributed_To_Accident=Yes' ;
19535 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
19536 +label Q_Contributed_To_AccidentYes =
19537 +'Unadjusted P: Contributed_To_Accident=Yes' ;
19538 +label Q_Contributed_To_AccidentNo =
19539 +'Unadjusted P: Contributed_To_Accident=No' ;
19540 +label V_Contributed_To_AccidentYes =
19541 +'Validated: Contributed_To_Accident=Yes' ;
19542 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
19543 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
19544 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
19545 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
19546 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
19547 +label U_Contributed_To_Accident =
19548 +'Unnormalized Into: Contributed_To_Accident' ;
19549 +label _WARN_ = 'Warnings' ;
19550 +
19551 +
19552 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
19553 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
19554 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
19555 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
19556 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
19557 +
19558 +
19559 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
19560 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
19561 +
19562 +******             ASSIGN OBSERVATION TO NODE             ******;
19563 +_ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
19564 + %DMNORMIP( _ARBFMT_12);
19565 +IF _ARBFMT_12 IN ('3' ) THEN DO;
19566 +  _NODE_  =                    3;
19567 +  _LEAF_  =                    4;
19568 +  P_Contributed_To_AccidentYes  =     0.98561151079136;
19569 +  P_Contributed_To_AccidentNo  =     0.01438848920863;
19570 +  Q_Contributed_To_AccidentYes  =     0.98561151079136;
19571 +  Q_Contributed_To_AccidentNo  =     0.01438848920863;
19572 +  V_Contributed_To_AccidentYes  =                    0;
19573 +  V_Contributed_To_AccidentNo  =                    0;
19574 +  I_Contributed_To_Accident  = 'YES' ;
19575 +  U_Contributed_To_Accident  = 'Yes' ;
19576 +  END;
19577 +ELSE DO;
19578 +  _ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
19579 +   %DMNORMIP( _ARBFMT_12);
19580 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
19581 +    _NODE_  =                    5;
19582 +    _LEAF_  =                    3;
19583 +    P_Contributed_To_AccidentYes  =     0.93421052631578;
19584 +    P_Contributed_To_AccidentNo  =     0.06578947368421;
19585 +    Q_Contributed_To_AccidentYes  =     0.93421052631578;
19586 +    Q_Contributed_To_AccidentNo  =     0.06578947368421;
19587 +    V_Contributed_To_AccidentYes  =      0.2156862745098;
19588 +    V_Contributed_To_AccidentNo  =     0.78431372549019;
19589 +    I_Contributed_To_Accident  = 'YES' ;
19590 +    U_Contributed_To_Accident  = 'Yes' ;
19591 +    END;
19592 +  ELSE DO;
19593 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
19594 +     %DMNORMIP( _ARBFMT_12);
19595 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
19596 +      _NODE_  =                    7;
19597 +      _LEAF_  =                    2;
19598 +      P_Contributed_To_AccidentYes  =     0.15028901734104;
19599 +      P_Contributed_To_AccidentNo  =     0.84971098265895;
19600 +      Q_Contributed_To_AccidentYes  =     0.15028901734104;
19601 +      Q_Contributed_To_AccidentNo  =     0.84971098265895;
19602 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
19603 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
19604 +      I_Contributed_To_Accident  = 'NO' ;
19605 +      U_Contributed_To_Accident  = 'No' ;
19606 +      END;
19607 +    ELSE DO;
19608 +      _NODE_  =                    6;
19609 +      _LEAF_  =                    1;
19610 +      P_Contributed_To_AccidentYes  =     0.34456928838951;
19611 +      P_Contributed_To_AccidentNo  =     0.65543071161048;
19612 +      Q_Contributed_To_AccidentYes  =     0.34456928838951;
19613 +      Q_Contributed_To_AccidentNo  =     0.65543071161048;
19614 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
19615 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
19616 +      I_Contributed_To_Accident  = 'NO' ;
19617 +      U_Contributed_To_Accident  = 'No' ;
19618 +      END;
19619 +    END;
19620 +  END;
19621 +
19622 +*****  RESIDUALS R_ *************;
19623 +IF  F_Contributed_To_Accident  NE 'YES'
19624 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
19625 +        R_Contributed_To_AccidentYes  = .;
19626 +        R_Contributed_To_AccidentNo  = .;
19627 + END;
19628 + ELSE DO;
19629 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
19630 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
19631 +       SELECT( F_Contributed_To_Accident  );
19632 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
19633 +        R_Contributed_To_AccidentYes  +1;
19634 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
19635 +        R_Contributed_To_AccidentNo  +1;
19636 +       END;
19637 + END;
19638 +
19639 +****************************************************************;
19640 +******          END OF DECISION TREE SCORING CODE         ******;
19641 +****************************************************************;
19642 +
19643 +drop _LEAF_;
19644 +*------------------------------------------------------------*;
19645 +* EndGrp: EndGroup;
19646 +* User: Divya;
19647 +* Date: 23NOV16: 03:23;
19648 +* Bagging: Loop=2;
19649 +*------------------------------------------------------------*;
19650 +*------------------------------------------------------------*;
19651 +* Bagging: accumulate probabilities for iteration: 2;
19652 +*------------------------------------------------------------*;
19653 +P_Contributed_To_AccidentYes = _BagVar1*(1/2) + P_Contributed_To_AccidentYes*(1/2);
19654 +P_Contributed_To_AccidentNo = _BagVar2*(1/2) + P_Contributed_To_AccidentNo*(1/2);
19655 +*------------------------------------------------------------*;
19656 +* Bagging: Saving Probabilities for Next Iteration;
19657 +*------------------------------------------------------------*;
19658 +_BagVar1 = P_Contributed_To_AccidentYes;
19659 +_BagVar2 = P_Contributed_To_AccidentNo;
19660 +*------------------------------------------------------------*;
19661 +* Grp: StartGroup;
19662 +* User: Divya;
19663 +* Date: 23NOV16: 03:24;
19664 +* Bagging: Loop=3;
19665 +*------------------------------------------------------------*;
19666 +*------------------------------------------------------------*;
19667 +* Tree5: DecisionTree;
19668 +* User: Divya;
19669 +* Date: 23NOV16: 03:24;
19670 +* Bagging: Loop=3;
19671 +*------------------------------------------------------------*;
19672 +****************************************************************;
19673 +******             DECISION TREE SCORING CODE             ******;
19674 +****************************************************************;
19675 +
19676 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
19677 +LENGTH F_Contributed_To_Accident  $    3;
19678 +LENGTH I_Contributed_To_Accident  $    3;
19679 +LENGTH U_Contributed_To_Accident  $    3;
19680 +LENGTH _WARN_  $    4;
19681 +
19682 +******              LABELS FOR NEW VARIABLES              ******;
19683 +label _NODE_ = 'Node' ;
19684 +label _LEAF_ = 'Leaf' ;
19685 +label P_Contributed_To_AccidentYes =
19686 +'Predicted: Contributed_To_Accident=Yes' ;
19687 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
19688 +label Q_Contributed_To_AccidentYes =
19689 +'Unadjusted P: Contributed_To_Accident=Yes' ;
19690 +label Q_Contributed_To_AccidentNo =
19691 +'Unadjusted P: Contributed_To_Accident=No' ;
19692 +label V_Contributed_To_AccidentYes =
19693 +'Validated: Contributed_To_Accident=Yes' ;
19694 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
19695 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
19696 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
19697 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
19698 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
19699 +label U_Contributed_To_Accident =
19700 +'Unnormalized Into: Contributed_To_Accident' ;
19701 +label _WARN_ = 'Warnings' ;
19702 +
19703 +
19704 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
19705 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
19706 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
19707 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
19708 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
19709 +
19710 +
19711 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
19712 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
19713 +
19714 +******             ASSIGN OBSERVATION TO NODE             ******;
19715 +_ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
19716 + %DMNORMIP( _ARBFMT_12);
19717 +IF _ARBFMT_12 IN ('3' ) THEN DO;
19718 +  _NODE_  =                    3;
19719 +  _LEAF_  =                    4;
19720 +  P_Contributed_To_AccidentYes  =     0.97902097902097;
19721 +  P_Contributed_To_AccidentNo  =     0.02097902097902;
19722 +  Q_Contributed_To_AccidentYes  =     0.97902097902097;
19723 +  Q_Contributed_To_AccidentNo  =     0.02097902097902;
19724 +  V_Contributed_To_AccidentYes  =                    0;
19725 +  V_Contributed_To_AccidentNo  =                    0;
19726 +  I_Contributed_To_Accident  = 'YES' ;
19727 +  U_Contributed_To_Accident  = 'Yes' ;
19728 +  END;
19729 +ELSE DO;
19730 +  _ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
19731 +   %DMNORMIP( _ARBFMT_12);
19732 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
19733 +    _NODE_  =                    5;
19734 +    _LEAF_  =                    3;
19735 +    P_Contributed_To_AccidentYes  =     0.94409937888198;
19736 +    P_Contributed_To_AccidentNo  =     0.05590062111801;
19737 +    Q_Contributed_To_AccidentYes  =     0.94409937888198;
19738 +    Q_Contributed_To_AccidentNo  =     0.05590062111801;
19739 +    V_Contributed_To_AccidentYes  =      0.2156862745098;
19740 +    V_Contributed_To_AccidentNo  =     0.78431372549019;
19741 +    I_Contributed_To_Accident  = 'YES' ;
19742 +    U_Contributed_To_Accident  = 'Yes' ;
19743 +    END;
19744 +  ELSE DO;
19745 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
19746 +     %DMNORMIP( _ARBFMT_12);
19747 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
19748 +      _NODE_  =                    7;
19749 +      _LEAF_  =                    2;
19750 +      P_Contributed_To_AccidentYes  =     0.18407960199004;
19751 +      P_Contributed_To_AccidentNo  =     0.81592039800995;
19752 +      Q_Contributed_To_AccidentYes  =     0.18407960199004;
19753 +      Q_Contributed_To_AccidentNo  =     0.81592039800995;
19754 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
19755 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
19756 +      I_Contributed_To_Accident  = 'NO' ;
19757 +      U_Contributed_To_Accident  = 'No' ;
19758 +      END;
19759 +    ELSE DO;
19760 +      _NODE_  =                    6;
19761 +      _LEAF_  =                    1;
19762 +      P_Contributed_To_AccidentYes  =     0.35091277890466;
19763 +      P_Contributed_To_AccidentNo  =     0.64908722109533;
19764 +      Q_Contributed_To_AccidentYes  =     0.35091277890466;
19765 +      Q_Contributed_To_AccidentNo  =     0.64908722109533;
19766 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
19767 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
19768 +      I_Contributed_To_Accident  = 'NO' ;
19769 +      U_Contributed_To_Accident  = 'No' ;
19770 +      END;
19771 +    END;
19772 +  END;
19773 +
19774 +*****  RESIDUALS R_ *************;
19775 +IF  F_Contributed_To_Accident  NE 'YES'
19776 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
19777 +        R_Contributed_To_AccidentYes  = .;
19778 +        R_Contributed_To_AccidentNo  = .;
19779 + END;
19780 + ELSE DO;
19781 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
19782 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
19783 +       SELECT( F_Contributed_To_Accident  );
19784 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
19785 +        R_Contributed_To_AccidentYes  +1;
19786 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
19787 +        R_Contributed_To_AccidentNo  +1;
19788 +       END;
19789 + END;
19790 +
19791 +****************************************************************;
19792 +******          END OF DECISION TREE SCORING CODE         ******;
19793 +****************************************************************;
19794 +
19795 +drop _LEAF_;
19796 +*------------------------------------------------------------*;
19797 +* EndGrp: EndGroup;
19798 +* User: Divya;
19799 +* Date: 23NOV16: 03:24;
19800 +* Bagging: Loop=3;
19801 +*------------------------------------------------------------*;
19802 +*------------------------------------------------------------*;
19803 +* Bagging: accumulate probabilities for iteration: 3;
19804 +*------------------------------------------------------------*;
19805 +P_Contributed_To_AccidentYes = _BagVar1*(2/3) + P_Contributed_To_AccidentYes*(1/3);
19806 +P_Contributed_To_AccidentNo = _BagVar2*(2/3) + P_Contributed_To_AccidentNo*(1/3);
19807 +*------------------------------------------------------------*;
19808 +* Bagging: Saving Probabilities for Next Iteration;
19809 +*------------------------------------------------------------*;
19810 +_BagVar1 = P_Contributed_To_AccidentYes;
19811 +_BagVar2 = P_Contributed_To_AccidentNo;
19812 +*------------------------------------------------------------*;
19813 +* Grp: StartGroup;
19814 +* User: Divya;
19815 +* Date: 23NOV16: 03:24;
19816 +* Bagging: Loop=4;
19817 +*------------------------------------------------------------*;
19818 +*------------------------------------------------------------*;
19819 +* Tree5: DecisionTree;
19820 +* User: Divya;
19821 +* Date: 23NOV16: 03:24;
19822 +* Bagging: Loop=4;
19823 +*------------------------------------------------------------*;
19824 +****************************************************************;
19825 +******             DECISION TREE SCORING CODE             ******;
19826 +****************************************************************;
19827 +
19828 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
19829 +LENGTH F_Contributed_To_Accident  $    3;
19830 +LENGTH I_Contributed_To_Accident  $    3;
19831 +LENGTH U_Contributed_To_Accident  $    3;
19832 +LENGTH _WARN_  $    4;
19833 +
19834 +******              LABELS FOR NEW VARIABLES              ******;
19835 +label _NODE_ = 'Node' ;
19836 +label _LEAF_ = 'Leaf' ;
19837 +label P_Contributed_To_AccidentYes =
19838 +'Predicted: Contributed_To_Accident=Yes' ;
19839 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
19840 +label Q_Contributed_To_AccidentYes =
19841 +'Unadjusted P: Contributed_To_Accident=Yes' ;
19842 +label Q_Contributed_To_AccidentNo =
19843 +'Unadjusted P: Contributed_To_Accident=No' ;
19844 +label V_Contributed_To_AccidentYes =
19845 +'Validated: Contributed_To_Accident=Yes' ;
19846 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
19847 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
19848 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
19849 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
19850 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
19851 +label U_Contributed_To_Accident =
19852 +'Unnormalized Into: Contributed_To_Accident' ;
19853 +label _WARN_ = 'Warnings' ;
19854 +
19855 +
19856 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
19857 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
19858 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
19859 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
19860 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
19861 +
19862 +
19863 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
19864 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
19865 +
19866 +******             ASSIGN OBSERVATION TO NODE             ******;
19867 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
19868 + %DMNORMIP( _ARBFMT_12);
19869 +IF _ARBFMT_12 IN ('3' ) THEN DO;
19870 +  _NODE_  =                    3;
19871 +  _LEAF_  =                    4;
19872 +  P_Contributed_To_AccidentYes  =     0.93491124260355;
19873 +  P_Contributed_To_AccidentNo  =     0.06508875739644;
19874 +  Q_Contributed_To_AccidentYes  =     0.93491124260355;
19875 +  Q_Contributed_To_AccidentNo  =     0.06508875739644;
19876 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
19877 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
19878 +  I_Contributed_To_Accident  = 'YES' ;
19879 +  U_Contributed_To_Accident  = 'Yes' ;
19880 +  END;
19881 +ELSE DO;
19882 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
19883 +   %DMNORMIP( _ARBFMT_12);
19884 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
19885 +    _NODE_  =                    5;
19886 +    _LEAF_  =                    3;
19887 +    P_Contributed_To_AccidentYes  =     0.94776119402985;
19888 +    P_Contributed_To_AccidentNo  =     0.05223880597014;
19889 +    Q_Contributed_To_AccidentYes  =     0.94776119402985;
19890 +    Q_Contributed_To_AccidentNo  =     0.05223880597014;
19891 +    V_Contributed_To_AccidentYes  =                    0;
19892 +    V_Contributed_To_AccidentNo  =                    0;
19893 +    I_Contributed_To_Accident  = 'YES' ;
19894 +    U_Contributed_To_Accident  = 'Yes' ;
19895 +    END;
19896 +  ELSE DO;
19897 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
19898 +     %DMNORMIP( _ARBFMT_12);
19899 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
19900 +      _NODE_  =                    7;
19901 +      _LEAF_  =                    2;
19902 +      P_Contributed_To_AccidentYes  =     0.13333333333333;
19903 +      P_Contributed_To_AccidentNo  =     0.86666666666666;
19904 +      Q_Contributed_To_AccidentYes  =     0.13333333333333;
19905 +      Q_Contributed_To_AccidentNo  =     0.86666666666666;
19906 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
19907 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
19908 +      I_Contributed_To_Accident  = 'NO' ;
19909 +      U_Contributed_To_Accident  = 'No' ;
19910 +      END;
19911 +    ELSE DO;
19912 +      _NODE_  =                    6;
19913 +      _LEAF_  =                    1;
19914 +      P_Contributed_To_AccidentYes  =     0.37358490566037;
19915 +      P_Contributed_To_AccidentNo  =     0.62641509433962;
19916 +      Q_Contributed_To_AccidentYes  =     0.37358490566037;
19917 +      Q_Contributed_To_AccidentNo  =     0.62641509433962;
19918 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
19919 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
19920 +      I_Contributed_To_Accident  = 'NO' ;
19921 +      U_Contributed_To_Accident  = 'No' ;
19922 +      END;
19923 +    END;
19924 +  END;
19925 +
19926 +*****  RESIDUALS R_ *************;
19927 +IF  F_Contributed_To_Accident  NE 'YES'
19928 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
19929 +        R_Contributed_To_AccidentYes  = .;
19930 +        R_Contributed_To_AccidentNo  = .;
19931 + END;
19932 + ELSE DO;
19933 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
19934 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
19935 +       SELECT( F_Contributed_To_Accident  );
19936 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
19937 +        R_Contributed_To_AccidentYes  +1;
19938 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
19939 +        R_Contributed_To_AccidentNo  +1;
19940 +       END;
19941 + END;
19942 +
19943 +****************************************************************;
19944 +******          END OF DECISION TREE SCORING CODE         ******;
19945 +****************************************************************;
19946 +
19947 +drop _LEAF_;
19948 +*------------------------------------------------------------*;
19949 +* EndGrp: EndGroup;
19950 +* User: Divya;
19951 +* Date: 23NOV16: 03:24;
19952 +* Bagging: Loop=4;
19953 +*------------------------------------------------------------*;
19954 +*------------------------------------------------------------*;
19955 +* Bagging: accumulate probabilities for iteration: 4;
19956 +*------------------------------------------------------------*;
19957 +P_Contributed_To_AccidentYes = _BagVar1*(3/4) + P_Contributed_To_AccidentYes*(1/4);
19958 +P_Contributed_To_AccidentNo = _BagVar2*(3/4) + P_Contributed_To_AccidentNo*(1/4);
19959 +*------------------------------------------------------------*;
19960 +* Bagging: Saving Probabilities for Next Iteration;
19961 +*------------------------------------------------------------*;
19962 +_BagVar1 = P_Contributed_To_AccidentYes;
19963 +_BagVar2 = P_Contributed_To_AccidentNo;
19964 +*------------------------------------------------------------*;
19965 +* Grp: StartGroup;
19966 +* User: Divya;
19967 +* Date: 23NOV16: 03:25;
19968 +* Bagging: Loop=5;
19969 +*------------------------------------------------------------*;
19970 +*------------------------------------------------------------*;
19971 +* Tree5: DecisionTree;
19972 +* User: Divya;
19973 +* Date: 23NOV16: 03:25;
19974 +* Bagging: Loop=5;
19975 +*------------------------------------------------------------*;
19976 +****************************************************************;
19977 +******             DECISION TREE SCORING CODE             ******;
19978 +****************************************************************;
19979 +
19980 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
19981 +LENGTH F_Contributed_To_Accident  $    3;
19982 +LENGTH I_Contributed_To_Accident  $    3;
19983 +LENGTH U_Contributed_To_Accident  $    3;
19984 +LENGTH _WARN_  $    4;
19985 +
19986 +******              LABELS FOR NEW VARIABLES              ******;
19987 +label _NODE_ = 'Node' ;
19988 +label _LEAF_ = 'Leaf' ;
19989 +label P_Contributed_To_AccidentYes =
19990 +'Predicted: Contributed_To_Accident=Yes' ;
19991 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
19992 +label Q_Contributed_To_AccidentYes =
19993 +'Unadjusted P: Contributed_To_Accident=Yes' ;
19994 +label Q_Contributed_To_AccidentNo =
19995 +'Unadjusted P: Contributed_To_Accident=No' ;
19996 +label V_Contributed_To_AccidentYes =
19997 +'Validated: Contributed_To_Accident=Yes' ;
19998 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
19999 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
20000 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
20001 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
20002 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
20003 +label U_Contributed_To_Accident =
20004 +'Unnormalized Into: Contributed_To_Accident' ;
20005 +label _WARN_ = 'Warnings' ;
20006 +
20007 +
20008 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
20009 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
20010 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
20011 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
20012 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
20013 +
20014 +
20015 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
20016 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
20017 +
20018 +******             ASSIGN OBSERVATION TO NODE             ******;
20019 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
20020 + %DMNORMIP( _ARBFMT_12);
20021 +IF _ARBFMT_12 IN ('3' ) THEN DO;
20022 +  _NODE_  =                    3;
20023 +  _LEAF_  =                    4;
20024 +  P_Contributed_To_AccidentYes  =      0.9217877094972;
20025 +  P_Contributed_To_AccidentNo  =     0.07821229050279;
20026 +  Q_Contributed_To_AccidentYes  =      0.9217877094972;
20027 +  Q_Contributed_To_AccidentNo  =     0.07821229050279;
20028 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
20029 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
20030 +  I_Contributed_To_Accident  = 'YES' ;
20031 +  U_Contributed_To_Accident  = 'Yes' ;
20032 +  END;
20033 +ELSE DO;
20034 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
20035 +   %DMNORMIP( _ARBFMT_12);
20036 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
20037 +    _NODE_  =                    5;
20038 +    _LEAF_  =                    3;
20039 +    P_Contributed_To_AccidentYes  =                    1;
20040 +    P_Contributed_To_AccidentNo  =                    0;
20041 +    Q_Contributed_To_AccidentYes  =                    1;
20042 +    Q_Contributed_To_AccidentNo  =                    0;
20043 +    V_Contributed_To_AccidentYes  =                    0;
20044 +    V_Contributed_To_AccidentNo  =                    0;
20045 +    I_Contributed_To_Accident  = 'YES' ;
20046 +    U_Contributed_To_Accident  = 'Yes' ;
20047 +    END;
20048 +  ELSE DO;
20049 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
20050 +     %DMNORMIP( _ARBFMT_12);
20051 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
20052 +      _NODE_  =                    7;
20053 +      _LEAF_  =                    2;
20054 +      P_Contributed_To_AccidentYes  =     0.13089005235602;
20055 +      P_Contributed_To_AccidentNo  =     0.86910994764397;
20056 +      Q_Contributed_To_AccidentYes  =     0.13089005235602;
20057 +      Q_Contributed_To_AccidentNo  =     0.86910994764397;
20058 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
20059 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
20060 +      I_Contributed_To_Accident  = 'NO' ;
20061 +      U_Contributed_To_Accident  = 'No' ;
20062 +      END;
20063 +    ELSE DO;
20064 +      _NODE_  =                    6;
20065 +      _LEAF_  =                    1;
20066 +      P_Contributed_To_AccidentYes  =          0.322265625;
20067 +      P_Contributed_To_AccidentNo  =          0.677734375;
20068 +      Q_Contributed_To_AccidentYes  =          0.322265625;
20069 +      Q_Contributed_To_AccidentNo  =          0.677734375;
20070 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
20071 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
20072 +      I_Contributed_To_Accident  = 'NO' ;
20073 +      U_Contributed_To_Accident  = 'No' ;
20074 +      END;
20075 +    END;
20076 +  END;
20077 +
20078 +*****  RESIDUALS R_ *************;
20079 +IF  F_Contributed_To_Accident  NE 'YES'
20080 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
20081 +        R_Contributed_To_AccidentYes  = .;
20082 +        R_Contributed_To_AccidentNo  = .;
20083 + END;
20084 + ELSE DO;
20085 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
20086 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
20087 +       SELECT( F_Contributed_To_Accident  );
20088 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
20089 +        R_Contributed_To_AccidentYes  +1;
20090 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
20091 +        R_Contributed_To_AccidentNo  +1;
20092 +       END;
20093 + END;
20094 +
20095 +****************************************************************;
20096 +******          END OF DECISION TREE SCORING CODE         ******;
20097 +****************************************************************;
20098 +
20099 +drop _LEAF_;
20100 +*------------------------------------------------------------*;
20101 +* EndGrp: EndGroup;
20102 +* User: Divya;
20103 +* Date: 23NOV16: 03:25;
20104 +* Bagging: Loop=5;
20105 +*------------------------------------------------------------*;
20106 +*------------------------------------------------------------*;
20107 +* Bagging: accumulate probabilities for iteration: 5;
20108 +*------------------------------------------------------------*;
20109 +P_Contributed_To_AccidentYes = _BagVar1*(4/5) + P_Contributed_To_AccidentYes*(1/5);
20110 +P_Contributed_To_AccidentNo = _BagVar2*(4/5) + P_Contributed_To_AccidentNo*(1/5);
20111 +*------------------------------------------------------------*;
20112 +* Bagging: Saving Probabilities for Next Iteration;
20113 +*------------------------------------------------------------*;
20114 +_BagVar1 = P_Contributed_To_AccidentYes;
20115 +_BagVar2 = P_Contributed_To_AccidentNo;
20116 +*------------------------------------------------------------*;
20117 +* Grp: StartGroup;
20118 +* User: Divya;
20119 +* Date: 23NOV16: 03:25;
20120 +* Bagging: Loop=6;
20121 +*------------------------------------------------------------*;
20122 +*------------------------------------------------------------*;
20123 +* Tree5: DecisionTree;
20124 +* User: Divya;
20125 +* Date: 23NOV16: 03:25;
20126 +* Bagging: Loop=6;
20127 +*------------------------------------------------------------*;
20128 +****************************************************************;
20129 +******             DECISION TREE SCORING CODE             ******;
20130 +****************************************************************;
20131 +
20132 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
20133 +LENGTH F_Contributed_To_Accident  $    3;
20134 +LENGTH I_Contributed_To_Accident  $    3;
20135 +LENGTH U_Contributed_To_Accident  $    3;
20136 +LENGTH _WARN_  $    4;
20137 +
20138 +******              LABELS FOR NEW VARIABLES              ******;
20139 +label _NODE_ = 'Node' ;
20140 +label _LEAF_ = 'Leaf' ;
20141 +label P_Contributed_To_AccidentYes =
20142 +'Predicted: Contributed_To_Accident=Yes' ;
20143 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
20144 +label Q_Contributed_To_AccidentYes =
20145 +'Unadjusted P: Contributed_To_Accident=Yes' ;
20146 +label Q_Contributed_To_AccidentNo =
20147 +'Unadjusted P: Contributed_To_Accident=No' ;
20148 +label V_Contributed_To_AccidentYes =
20149 +'Validated: Contributed_To_Accident=Yes' ;
20150 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
20151 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
20152 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
20153 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
20154 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
20155 +label U_Contributed_To_Accident =
20156 +'Unnormalized Into: Contributed_To_Accident' ;
20157 +label _WARN_ = 'Warnings' ;
20158 +
20159 +
20160 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
20161 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
20162 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
20163 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
20164 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
20165 +
20166 +
20167 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
20168 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
20169 +
20170 +******             ASSIGN OBSERVATION TO NODE             ******;
20171 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
20172 + %DMNORMIP( _ARBFMT_12);
20173 +IF _ARBFMT_12 IN ('3' ) THEN DO;
20174 +  _NODE_  =                    3;
20175 +  _LEAF_  =                    4;
20176 +  P_Contributed_To_AccidentYes  =     0.94943820224719;
20177 +  P_Contributed_To_AccidentNo  =      0.0505617977528;
20178 +  Q_Contributed_To_AccidentYes  =     0.94943820224719;
20179 +  Q_Contributed_To_AccidentNo  =      0.0505617977528;
20180 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
20181 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
20182 +  I_Contributed_To_Accident  = 'YES' ;
20183 +  U_Contributed_To_Accident  = 'Yes' ;
20184 +  END;
20185 +ELSE DO;
20186 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
20187 +   %DMNORMIP( _ARBFMT_12);
20188 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
20189 +    _NODE_  =                    5;
20190 +    _LEAF_  =                    3;
20191 +    P_Contributed_To_AccidentYes  =                0.952;
20192 +    P_Contributed_To_AccidentNo  =                0.048;
20193 +    Q_Contributed_To_AccidentYes  =                0.952;
20194 +    Q_Contributed_To_AccidentNo  =                0.048;
20195 +    V_Contributed_To_AccidentYes  =                    0;
20196 +    V_Contributed_To_AccidentNo  =                    0;
20197 +    I_Contributed_To_Accident  = 'YES' ;
20198 +    U_Contributed_To_Accident  = 'Yes' ;
20199 +    END;
20200 +  ELSE DO;
20201 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
20202 +     %DMNORMIP( _ARBFMT_12);
20203 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
20204 +      _NODE_  =                    7;
20205 +      _LEAF_  =                    2;
20206 +      P_Contributed_To_AccidentYes  =     0.13775510204081;
20207 +      P_Contributed_To_AccidentNo  =     0.86224489795918;
20208 +      Q_Contributed_To_AccidentYes  =     0.13775510204081;
20209 +      Q_Contributed_To_AccidentNo  =     0.86224489795918;
20210 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
20211 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
20212 +      I_Contributed_To_Accident  = 'NO' ;
20213 +      U_Contributed_To_Accident  = 'No' ;
20214 +      END;
20215 +    ELSE DO;
20216 +      _NODE_  =                    6;
20217 +      _LEAF_  =                    1;
20218 +      P_Contributed_To_AccidentYes  =     0.34068136272545;
20219 +      P_Contributed_To_AccidentNo  =     0.65931863727454;
20220 +      Q_Contributed_To_AccidentYes  =     0.34068136272545;
20221 +      Q_Contributed_To_AccidentNo  =     0.65931863727454;
20222 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
20223 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
20224 +      I_Contributed_To_Accident  = 'NO' ;
20225 +      U_Contributed_To_Accident  = 'No' ;
20226 +      END;
20227 +    END;
20228 +  END;
20229 +
20230 +*****  RESIDUALS R_ *************;
20231 +IF  F_Contributed_To_Accident  NE 'YES'
20232 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
20233 +        R_Contributed_To_AccidentYes  = .;
20234 +        R_Contributed_To_AccidentNo  = .;
20235 + END;
20236 + ELSE DO;
20237 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
20238 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
20239 +       SELECT( F_Contributed_To_Accident  );
20240 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
20241 +        R_Contributed_To_AccidentYes  +1;
20242 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
20243 +        R_Contributed_To_AccidentNo  +1;
20244 +       END;
20245 + END;
20246 +
20247 +****************************************************************;
20248 +******          END OF DECISION TREE SCORING CODE         ******;
20249 +****************************************************************;
20250 +
20251 +drop _LEAF_;
20252 +*------------------------------------------------------------*;
20253 +* EndGrp: EndGroup;
20254 +* User: Divya;
20255 +* Date: 23NOV16: 03:25;
20256 +* Bagging: Loop=6;
20257 +*------------------------------------------------------------*;
20258 +*------------------------------------------------------------*;
20259 +* Bagging: accumulate probabilities for iteration: 6;
20260 +*------------------------------------------------------------*;
20261 +P_Contributed_To_AccidentYes = _BagVar1*(5/6) + P_Contributed_To_AccidentYes*(1/6);
20262 +P_Contributed_To_AccidentNo = _BagVar2*(5/6) + P_Contributed_To_AccidentNo*(1/6);
20263 +*------------------------------------------------------------*;
20264 +* Bagging: Saving Probabilities for Next Iteration;
20265 +*------------------------------------------------------------*;
20266 +_BagVar1 = P_Contributed_To_AccidentYes;
20267 +_BagVar2 = P_Contributed_To_AccidentNo;
20268 +*------------------------------------------------------------*;
20269 +* Grp: StartGroup;
20270 +* User: Divya;
20271 +* Date: 23NOV16: 03:25;
20272 +* Bagging: Loop=7;
20273 +*------------------------------------------------------------*;
20274 +*------------------------------------------------------------*;
20275 +* Tree5: DecisionTree;
20276 +* User: Divya;
20277 +* Date: 23NOV16: 03:25;
20278 +* Bagging: Loop=7;
20279 +*------------------------------------------------------------*;
20280 +****************************************************************;
20281 +******             DECISION TREE SCORING CODE             ******;
20282 +****************************************************************;
20283 +
20284 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
20285 +LENGTH F_Contributed_To_Accident  $    3;
20286 +LENGTH I_Contributed_To_Accident  $    3;
20287 +LENGTH U_Contributed_To_Accident  $    3;
20288 +LENGTH _WARN_  $    4;
20289 +
20290 +******              LABELS FOR NEW VARIABLES              ******;
20291 +label _NODE_ = 'Node' ;
20292 +label _LEAF_ = 'Leaf' ;
20293 +label P_Contributed_To_AccidentYes =
20294 +'Predicted: Contributed_To_Accident=Yes' ;
20295 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
20296 +label Q_Contributed_To_AccidentYes =
20297 +'Unadjusted P: Contributed_To_Accident=Yes' ;
20298 +label Q_Contributed_To_AccidentNo =
20299 +'Unadjusted P: Contributed_To_Accident=No' ;
20300 +label V_Contributed_To_AccidentYes =
20301 +'Validated: Contributed_To_Accident=Yes' ;
20302 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
20303 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
20304 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
20305 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
20306 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
20307 +label U_Contributed_To_Accident =
20308 +'Unnormalized Into: Contributed_To_Accident' ;
20309 +label _WARN_ = 'Warnings' ;
20310 +
20311 +
20312 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
20313 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
20314 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
20315 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
20316 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
20317 +
20318 +
20319 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
20320 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
20321 +
20322 +******             ASSIGN OBSERVATION TO NODE             ******;
20323 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
20324 + %DMNORMIP( _ARBFMT_12);
20325 +IF _ARBFMT_12 IN ('3' ) THEN DO;
20326 +  _NODE_  =                    3;
20327 +  _LEAF_  =                    4;
20328 +  P_Contributed_To_AccidentYes  =     0.96534653465346;
20329 +  P_Contributed_To_AccidentNo  =     0.03465346534653;
20330 +  Q_Contributed_To_AccidentYes  =     0.96534653465346;
20331 +  Q_Contributed_To_AccidentNo  =     0.03465346534653;
20332 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
20333 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
20334 +  I_Contributed_To_Accident  = 'YES' ;
20335 +  U_Contributed_To_Accident  = 'Yes' ;
20336 +  END;
20337 +ELSE DO;
20338 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
20339 +   %DMNORMIP( _ARBFMT_12);
20340 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
20341 +    _NODE_  =                    5;
20342 +    _LEAF_  =                    3;
20343 +    P_Contributed_To_AccidentYes  =     0.97872340425531;
20344 +    P_Contributed_To_AccidentNo  =     0.02127659574468;
20345 +    Q_Contributed_To_AccidentYes  =     0.97872340425531;
20346 +    Q_Contributed_To_AccidentNo  =     0.02127659574468;
20347 +    V_Contributed_To_AccidentYes  =                    0;
20348 +    V_Contributed_To_AccidentNo  =                    0;
20349 +    I_Contributed_To_Accident  = 'YES' ;
20350 +    U_Contributed_To_Accident  = 'Yes' ;
20351 +    END;
20352 +  ELSE DO;
20353 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
20354 +     %DMNORMIP( _ARBFMT_12);
20355 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
20356 +      _NODE_  =                    7;
20357 +      _LEAF_  =                    2;
20358 +      P_Contributed_To_AccidentYes  =     0.16216216216216;
20359 +      P_Contributed_To_AccidentNo  =     0.83783783783783;
20360 +      Q_Contributed_To_AccidentYes  =     0.16216216216216;
20361 +      Q_Contributed_To_AccidentNo  =     0.83783783783783;
20362 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
20363 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
20364 +      I_Contributed_To_Accident  = 'NO' ;
20365 +      U_Contributed_To_Accident  = 'No' ;
20366 +      END;
20367 +    ELSE DO;
20368 +      _NODE_  =                    6;
20369 +      _LEAF_  =                    1;
20370 +      P_Contributed_To_AccidentYes  =     0.36382978723404;
20371 +      P_Contributed_To_AccidentNo  =     0.63617021276595;
20372 +      Q_Contributed_To_AccidentYes  =     0.36382978723404;
20373 +      Q_Contributed_To_AccidentNo  =     0.63617021276595;
20374 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
20375 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
20376 +      I_Contributed_To_Accident  = 'NO' ;
20377 +      U_Contributed_To_Accident  = 'No' ;
20378 +      END;
20379 +    END;
20380 +  END;
20381 +
20382 +*****  RESIDUALS R_ *************;
20383 +IF  F_Contributed_To_Accident  NE 'YES'
20384 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
20385 +        R_Contributed_To_AccidentYes  = .;
20386 +        R_Contributed_To_AccidentNo  = .;
20387 + END;
20388 + ELSE DO;
20389 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
20390 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
20391 +       SELECT( F_Contributed_To_Accident  );
20392 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
20393 +        R_Contributed_To_AccidentYes  +1;
20394 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
20395 +        R_Contributed_To_AccidentNo  +1;
20396 +       END;
20397 + END;
20398 +
20399 +****************************************************************;
20400 +******          END OF DECISION TREE SCORING CODE         ******;
20401 +****************************************************************;
20402 +
20403 +drop _LEAF_;
20404 +*------------------------------------------------------------*;
20405 +* EndGrp: EndGroup;
20406 +* User: Divya;
20407 +* Date: 23NOV16: 03:25;
20408 +* Bagging: Loop=7;
20409 +*------------------------------------------------------------*;
20410 +*------------------------------------------------------------*;
20411 +* Bagging: accumulate probabilities for iteration: 7;
20412 +*------------------------------------------------------------*;
20413 +P_Contributed_To_AccidentYes = _BagVar1*(6/7) + P_Contributed_To_AccidentYes*(1/7);
20414 +P_Contributed_To_AccidentNo = _BagVar2*(6/7) + P_Contributed_To_AccidentNo*(1/7);
20415 +*------------------------------------------------------------*;
20416 +* Bagging: Saving Probabilities for Next Iteration;
20417 +*------------------------------------------------------------*;
20418 +_BagVar1 = P_Contributed_To_AccidentYes;
20419 +_BagVar2 = P_Contributed_To_AccidentNo;
20420 +*------------------------------------------------------------*;
20421 +* Grp: StartGroup;
20422 +* User: Divya;
20423 +* Date: 23NOV16: 03:26;
20424 +* Bagging: Loop=8;
20425 +*------------------------------------------------------------*;
20426 +*------------------------------------------------------------*;
20427 +* Tree5: DecisionTree;
20428 +* User: Divya;
20429 +* Date: 23NOV16: 03:26;
20430 +* Bagging: Loop=8;
20431 +*------------------------------------------------------------*;
20432 +****************************************************************;
20433 +******             DECISION TREE SCORING CODE             ******;
20434 +****************************************************************;
20435 +
20436 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
20437 +LENGTH F_Contributed_To_Accident  $    3;
20438 +LENGTH I_Contributed_To_Accident  $    3;
20439 +LENGTH U_Contributed_To_Accident  $    3;
20440 +LENGTH _WARN_  $    4;
20441 +
20442 +******              LABELS FOR NEW VARIABLES              ******;
20443 +label _NODE_ = 'Node' ;
20444 +label _LEAF_ = 'Leaf' ;
20445 +label P_Contributed_To_AccidentYes =
20446 +'Predicted: Contributed_To_Accident=Yes' ;
20447 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
20448 +label Q_Contributed_To_AccidentYes =
20449 +'Unadjusted P: Contributed_To_Accident=Yes' ;
20450 +label Q_Contributed_To_AccidentNo =
20451 +'Unadjusted P: Contributed_To_Accident=No' ;
20452 +label V_Contributed_To_AccidentYes =
20453 +'Validated: Contributed_To_Accident=Yes' ;
20454 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
20455 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
20456 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
20457 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
20458 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
20459 +label U_Contributed_To_Accident =
20460 +'Unnormalized Into: Contributed_To_Accident' ;
20461 +label _WARN_ = 'Warnings' ;
20462 +
20463 +
20464 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
20465 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
20466 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
20467 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
20468 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
20469 +
20470 +
20471 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
20472 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
20473 +
20474 +******             ASSIGN OBSERVATION TO NODE             ******;
20475 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
20476 + %DMNORMIP( _ARBFMT_12);
20477 +IF _ARBFMT_12 IN ('3' ) THEN DO;
20478 +  _NODE_  =                    3;
20479 +  _LEAF_  =                    4;
20480 +  P_Contributed_To_AccidentYes  =     0.96511627906976;
20481 +  P_Contributed_To_AccidentNo  =     0.03488372093023;
20482 +  Q_Contributed_To_AccidentYes  =     0.96511627906976;
20483 +  Q_Contributed_To_AccidentNo  =     0.03488372093023;
20484 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
20485 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
20486 +  I_Contributed_To_Accident  = 'YES' ;
20487 +  U_Contributed_To_Accident  = 'Yes' ;
20488 +  END;
20489 +ELSE DO;
20490 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
20491 +   %DMNORMIP( _ARBFMT_12);
20492 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
20493 +    _NODE_  =                    5;
20494 +    _LEAF_  =                    3;
20495 +    P_Contributed_To_AccidentYes  =     0.97826086956521;
20496 +    P_Contributed_To_AccidentNo  =     0.02173913043478;
20497 +    Q_Contributed_To_AccidentYes  =     0.97826086956521;
20498 +    Q_Contributed_To_AccidentNo  =     0.02173913043478;
20499 +    V_Contributed_To_AccidentYes  =                    0;
20500 +    V_Contributed_To_AccidentNo  =                    0;
20501 +    I_Contributed_To_Accident  = 'YES' ;
20502 +    U_Contributed_To_Accident  = 'Yes' ;
20503 +    END;
20504 +  ELSE DO;
20505 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
20506 +     %DMNORMIP( _ARBFMT_12);
20507 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
20508 +      _NODE_  =                    9;
20509 +      _LEAF_  =                    2;
20510 +      P_Contributed_To_AccidentYes  =     0.18539325842696;
20511 +      P_Contributed_To_AccidentNo  =     0.81460674157303;
20512 +      Q_Contributed_To_AccidentYes  =     0.18539325842696;
20513 +      Q_Contributed_To_AccidentNo  =     0.81460674157303;
20514 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
20515 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
20516 +      I_Contributed_To_Accident  = 'NO' ;
20517 +      U_Contributed_To_Accident  = 'No' ;
20518 +      END;
20519 +    ELSE DO;
20520 +      _NODE_  =                    8;
20521 +      _LEAF_  =                    1;
20522 +      P_Contributed_To_AccidentYes  =     0.32941176470588;
20523 +      P_Contributed_To_AccidentNo  =     0.67058823529411;
20524 +      Q_Contributed_To_AccidentYes  =     0.32941176470588;
20525 +      Q_Contributed_To_AccidentNo  =     0.67058823529411;
20526 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
20527 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
20528 +      I_Contributed_To_Accident  = 'NO' ;
20529 +      U_Contributed_To_Accident  = 'No' ;
20530 +      END;
20531 +    END;
20532 +  END;
20533 +
20534 +*****  RESIDUALS R_ *************;
20535 +IF  F_Contributed_To_Accident  NE 'YES'
20536 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
20537 +        R_Contributed_To_AccidentYes  = .;
20538 +        R_Contributed_To_AccidentNo  = .;
20539 + END;
20540 + ELSE DO;
20541 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
20542 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
20543 +       SELECT( F_Contributed_To_Accident  );
20544 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
20545 +        R_Contributed_To_AccidentYes  +1;
20546 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
20547 +        R_Contributed_To_AccidentNo  +1;
20548 +       END;
20549 + END;
20550 +
20551 +****************************************************************;
20552 +******          END OF DECISION TREE SCORING CODE         ******;
20553 +****************************************************************;
20554 +
20555 +drop _LEAF_;
20556 +*------------------------------------------------------------*;
20557 +* EndGrp: EndGroup;
20558 +* User: Divya;
20559 +* Date: 23NOV16: 03:26;
20560 +* Bagging: Loop=8;
20561 +*------------------------------------------------------------*;
20562 +*------------------------------------------------------------*;
20563 +* Bagging: accumulate probabilities for iteration: 8;
20564 +*------------------------------------------------------------*;
20565 +P_Contributed_To_AccidentYes = _BagVar1*(7/8) + P_Contributed_To_AccidentYes*(1/8);
20566 +P_Contributed_To_AccidentNo = _BagVar2*(7/8) + P_Contributed_To_AccidentNo*(1/8);
20567 +*------------------------------------------------------------*;
20568 +* Bagging: Saving Probabilities for Next Iteration;
20569 +*------------------------------------------------------------*;
20570 +_BagVar1 = P_Contributed_To_AccidentYes;
20571 +_BagVar2 = P_Contributed_To_AccidentNo;
20572 +*------------------------------------------------------------*;
20573 +* Grp: StartGroup;
20574 +* User: Divya;
20575 +* Date: 23NOV16: 03:26;
20576 +* Bagging: Loop=9;
20577 +*------------------------------------------------------------*;
20578 +*------------------------------------------------------------*;
20579 +* Tree5: DecisionTree;
20580 +* User: Divya;
20581 +* Date: 23NOV16: 03:26;
20582 +* Bagging: Loop=9;
20583 +*------------------------------------------------------------*;
20584 +****************************************************************;
20585 +******             DECISION TREE SCORING CODE             ******;
20586 +****************************************************************;
20587 +
20588 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
20589 +LENGTH F_Contributed_To_Accident  $    3;
20590 +LENGTH I_Contributed_To_Accident  $    3;
20591 +LENGTH U_Contributed_To_Accident  $    3;
20592 +LENGTH _WARN_  $    4;
20593 +
20594 +******              LABELS FOR NEW VARIABLES              ******;
20595 +label _NODE_ = 'Node' ;
20596 +label _LEAF_ = 'Leaf' ;
20597 +label P_Contributed_To_AccidentYes =
20598 +'Predicted: Contributed_To_Accident=Yes' ;
20599 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
20600 +label Q_Contributed_To_AccidentYes =
20601 +'Unadjusted P: Contributed_To_Accident=Yes' ;
20602 +label Q_Contributed_To_AccidentNo =
20603 +'Unadjusted P: Contributed_To_Accident=No' ;
20604 +label V_Contributed_To_AccidentYes =
20605 +'Validated: Contributed_To_Accident=Yes' ;
20606 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
20607 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
20608 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
20609 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
20610 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
20611 +label U_Contributed_To_Accident =
20612 +'Unnormalized Into: Contributed_To_Accident' ;
20613 +label _WARN_ = 'Warnings' ;
20614 +
20615 +
20616 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
20617 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
20618 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
20619 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
20620 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
20621 +
20622 +
20623 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
20624 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
20625 +
20626 +******             ASSIGN OBSERVATION TO NODE             ******;
20627 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
20628 + %DMNORMIP( _ARBFMT_12);
20629 +IF _ARBFMT_12 IN ('3' ) THEN DO;
20630 +  _NODE_  =                    3;
20631 +  _LEAF_  =                    4;
20632 +  P_Contributed_To_AccidentYes  =     0.96174863387978;
20633 +  P_Contributed_To_AccidentNo  =     0.03825136612021;
20634 +  Q_Contributed_To_AccidentYes  =     0.96174863387978;
20635 +  Q_Contributed_To_AccidentNo  =     0.03825136612021;
20636 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
20637 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
20638 +  I_Contributed_To_Accident  = 'YES' ;
20639 +  U_Contributed_To_Accident  = 'Yes' ;
20640 +  END;
20641 +ELSE DO;
20642 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
20643 +   %DMNORMIP( _ARBFMT_12);
20644 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
20645 +    _NODE_  =                    5;
20646 +    _LEAF_  =                    3;
20647 +    P_Contributed_To_AccidentYes  =     0.97391304347826;
20648 +    P_Contributed_To_AccidentNo  =     0.02608695652173;
20649 +    Q_Contributed_To_AccidentYes  =     0.97391304347826;
20650 +    Q_Contributed_To_AccidentNo  =     0.02608695652173;
20651 +    V_Contributed_To_AccidentYes  =                    0;
20652 +    V_Contributed_To_AccidentNo  =                    0;
20653 +    I_Contributed_To_Accident  = 'YES' ;
20654 +    U_Contributed_To_Accident  = 'Yes' ;
20655 +    END;
20656 +  ELSE DO;
20657 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
20658 +     %DMNORMIP( _ARBFMT_12);
20659 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
20660 +      _NODE_  =                    7;
20661 +      _LEAF_  =                    2;
20662 +      P_Contributed_To_AccidentYes  =     0.15463917525773;
20663 +      P_Contributed_To_AccidentNo  =     0.84536082474226;
20664 +      Q_Contributed_To_AccidentYes  =     0.15463917525773;
20665 +      Q_Contributed_To_AccidentNo  =     0.84536082474226;
20666 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
20667 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
20668 +      I_Contributed_To_Accident  = 'NO' ;
20669 +      U_Contributed_To_Accident  = 'No' ;
20670 +      END;
20671 +    ELSE DO;
20672 +      _NODE_  =                    6;
20673 +      _LEAF_  =                    1;
20674 +      P_Contributed_To_AccidentYes  =     0.35770750988142;
20675 +      P_Contributed_To_AccidentNo  =     0.64229249011857;
20676 +      Q_Contributed_To_AccidentYes  =     0.35770750988142;
20677 +      Q_Contributed_To_AccidentNo  =     0.64229249011857;
20678 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
20679 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
20680 +      I_Contributed_To_Accident  = 'NO' ;
20681 +      U_Contributed_To_Accident  = 'No' ;
20682 +      END;
20683 +    END;
20684 +  END;
20685 +
20686 +*****  RESIDUALS R_ *************;
20687 +IF  F_Contributed_To_Accident  NE 'YES'
20688 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
20689 +        R_Contributed_To_AccidentYes  = .;
20690 +        R_Contributed_To_AccidentNo  = .;
20691 + END;
20692 + ELSE DO;
20693 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
20694 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
20695 +       SELECT( F_Contributed_To_Accident  );
20696 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
20697 +        R_Contributed_To_AccidentYes  +1;
20698 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
20699 +        R_Contributed_To_AccidentNo  +1;
20700 +       END;
20701 + END;
20702 +
20703 +****************************************************************;
20704 +******          END OF DECISION TREE SCORING CODE         ******;
20705 +****************************************************************;
20706 +
20707 +drop _LEAF_;
20708 +*------------------------------------------------------------*;
20709 +* EndGrp: EndGroup;
20710 +* User: Divya;
20711 +* Date: 23NOV16: 03:26;
20712 +* Bagging: Loop=9;
20713 +*------------------------------------------------------------*;
20714 +*------------------------------------------------------------*;
20715 +* Bagging: accumulate probabilities for iteration: 9;
20716 +*------------------------------------------------------------*;
20717 +P_Contributed_To_AccidentYes = _BagVar1*(8/9) + P_Contributed_To_AccidentYes*(1/9);
20718 +P_Contributed_To_AccidentNo = _BagVar2*(8/9) + P_Contributed_To_AccidentNo*(1/9);
20719 +*------------------------------------------------------------*;
20720 +* Bagging: Saving Probabilities for Next Iteration;
20721 +*------------------------------------------------------------*;
20722 +_BagVar1 = P_Contributed_To_AccidentYes;
20723 +_BagVar2 = P_Contributed_To_AccidentNo;
20724 +*------------------------------------------------------------*;
20725 +* Grp: StartGroup;
20726 +* User: Divya;
20727 +* Date: 23NOV16: 03:27;
20728 +* Bagging: Loop=10;
20729 +*------------------------------------------------------------*;
20730 +*------------------------------------------------------------*;
20731 +* Tree5: DecisionTree;
20732 +* User: Divya;
20733 +* Date: 23NOV16: 03:27;
20734 +* Bagging: Loop=10;
20735 +*------------------------------------------------------------*;
20736 +****************************************************************;
20737 +******             DECISION TREE SCORING CODE             ******;
20738 +****************************************************************;
20739 +
20740 +******         LENGTHS OF NEW CHARACTER VARIABLES         ******;
20741 +LENGTH F_Contributed_To_Accident  $    3;
20742 +LENGTH I_Contributed_To_Accident  $    3;
20743 +LENGTH U_Contributed_To_Accident  $    3;
20744 +LENGTH _WARN_  $    4;
20745 +
20746 +******              LABELS FOR NEW VARIABLES              ******;
20747 +label _NODE_ = 'Node' ;
20748 +label _LEAF_ = 'Leaf' ;
20749 +label P_Contributed_To_AccidentYes =
20750 +'Predicted: Contributed_To_Accident=Yes' ;
20751 +label P_Contributed_To_AccidentNo = 'Predicted: Contributed_To_Accident=No' ;
20752 +label Q_Contributed_To_AccidentYes =
20753 +'Unadjusted P: Contributed_To_Accident=Yes' ;
20754 +label Q_Contributed_To_AccidentNo =
20755 +'Unadjusted P: Contributed_To_Accident=No' ;
20756 +label V_Contributed_To_AccidentYes =
20757 +'Validated: Contributed_To_Accident=Yes' ;
20758 +label V_Contributed_To_AccidentNo = 'Validated: Contributed_To_Accident=No' ;
20759 +label R_Contributed_To_AccidentYes = 'Residual: Contributed_To_Accident=Yes' ;
20760 +label R_Contributed_To_AccidentNo = 'Residual: Contributed_To_Accident=No' ;
20761 +label F_Contributed_To_Accident = 'From: Contributed_To_Accident' ;
20762 +label I_Contributed_To_Accident = 'Into: Contributed_To_Accident' ;
20763 +label U_Contributed_To_Accident =
20764 +'Unnormalized Into: Contributed_To_Accident' ;
20765 +label _WARN_ = 'Warnings' ;
20766 +
20767 +
20768 +******      TEMPORARY VARIABLES FOR FORMATTED VALUES      ******;
20769 +LENGTH _ARBFMT_3 $      3; DROP _ARBFMT_3;
20770 +_ARBFMT_3 = ' '; /* Initialize to avoid warning. */
20771 +LENGTH _ARBFMT_12 $     12; DROP _ARBFMT_12;
20772 +_ARBFMT_12 = ' '; /* Initialize to avoid warning. */
20773 +
20774 +
20775 +_ARBFMT_3 = PUT( Contributed_To_Accident , $3.);
20776 + %DMNORMCP( _ARBFMT_3, F_Contributed_To_Accident );
20777 +
20778 +******             ASSIGN OBSERVATION TO NODE             ******;
20779 +_ARBFMT_12 = PUT( GRP_Property_Damage , BEST12.);
20780 + %DMNORMIP( _ARBFMT_12);
20781 +IF _ARBFMT_12 IN ('3' ) THEN DO;
20782 +  _NODE_  =                    3;
20783 +  _LEAF_  =                    4;
20784 +  P_Contributed_To_AccidentYes  =                 0.92;
20785 +  P_Contributed_To_AccidentNo  =                 0.08;
20786 +  Q_Contributed_To_AccidentYes  =                 0.92;
20787 +  Q_Contributed_To_AccidentNo  =                 0.08;
20788 +  V_Contributed_To_AccidentYes  =      0.2156862745098;
20789 +  V_Contributed_To_AccidentNo  =     0.78431372549019;
20790 +  I_Contributed_To_Accident  = 'YES' ;
20791 +  U_Contributed_To_Accident  = 'Yes' ;
20792 +  END;
20793 +ELSE DO;
20794 +  _ARBFMT_12 = PUT( GRP_Personal_Injury , BEST12.);
20795 +   %DMNORMIP( _ARBFMT_12);
20796 +  IF _ARBFMT_12 IN ('3' ) THEN DO;
20797 +    _NODE_  =                    5;
20798 +    _LEAF_  =                    3;
20799 +    P_Contributed_To_AccidentYes  =     0.96638655462184;
20800 +    P_Contributed_To_AccidentNo  =     0.03361344537815;
20801 +    Q_Contributed_To_AccidentYes  =     0.96638655462184;
20802 +    Q_Contributed_To_AccidentNo  =     0.03361344537815;
20803 +    V_Contributed_To_AccidentYes  =                    0;
20804 +    V_Contributed_To_AccidentNo  =                    0;
20805 +    I_Contributed_To_Accident  = 'YES' ;
20806 +    U_Contributed_To_Accident  = 'Yes' ;
20807 +    END;
20808 +  ELSE DO;
20809 +    _ARBFMT_12 = PUT( GRP_Violation_Type , BEST12.);
20810 +     %DMNORMIP( _ARBFMT_12);
20811 +    IF _ARBFMT_12 IN ('3' ,'4' ) THEN DO;
20812 +      _NODE_  =                    7;
20813 +      _LEAF_  =                    2;
20814 +      P_Contributed_To_AccidentYes  =     0.18357487922705;
20815 +      P_Contributed_To_AccidentNo  =     0.81642512077294;
20816 +      Q_Contributed_To_AccidentYes  =     0.18357487922705;
20817 +      Q_Contributed_To_AccidentNo  =     0.81642512077294;
20818 +      V_Contributed_To_AccidentYes  =     0.00302343159486;
20819 +      V_Contributed_To_AccidentNo  =     0.99697656840514;
20820 +      I_Contributed_To_Accident  = 'NO' ;
20821 +      U_Contributed_To_Accident  = 'No' ;
20822 +      END;
20823 +    ELSE DO;
20824 +      _NODE_  =                    6;
20825 +      _LEAF_  =                    1;
20826 +      P_Contributed_To_AccidentYes  =     0.36228813559322;
20827 +      P_Contributed_To_AccidentNo  =     0.63771186440677;
20828 +      Q_Contributed_To_AccidentYes  =     0.36228813559322;
20829 +      Q_Contributed_To_AccidentNo  =     0.63771186440677;
20830 +      V_Contributed_To_AccidentYes  =     0.02827289489858;
20831 +      V_Contributed_To_AccidentNo  =     0.97172710510141;
20832 +      I_Contributed_To_Accident  = 'NO' ;
20833 +      U_Contributed_To_Accident  = 'No' ;
20834 +      END;
20835 +    END;
20836 +  END;
20837 +
20838 +*****  RESIDUALS R_ *************;
20839 +IF  F_Contributed_To_Accident  NE 'YES'
20840 +AND F_Contributed_To_Accident  NE 'NO'  THEN DO;
20841 +        R_Contributed_To_AccidentYes  = .;
20842 +        R_Contributed_To_AccidentNo  = .;
20843 + END;
20844 + ELSE DO;
20845 +       R_Contributed_To_AccidentYes  =  -P_Contributed_To_AccidentYes ;
20846 +       R_Contributed_To_AccidentNo  =  -P_Contributed_To_AccidentNo ;
20847 +       SELECT( F_Contributed_To_Accident  );
20848 +          WHEN( 'YES'  ) R_Contributed_To_AccidentYes  =
20849 +        R_Contributed_To_AccidentYes  +1;
20850 +          WHEN( 'NO'  ) R_Contributed_To_AccidentNo  =
20851 +        R_Contributed_To_AccidentNo  +1;
20852 +       END;
20853 + END;
20854 +
20855 +****************************************************************;
20856 +******          END OF DECISION TREE SCORING CODE         ******;
20857 +****************************************************************;
20858 +
20859 +drop _LEAF_;
20860 +*------------------------------------------------------------*;
20861 +* EndGrp: EndGroup;
20862 +* User: Divya;
20863 +* Date: 23NOV16: 03:27;
20864 +* Bagging: Loop=10;
20865 +*------------------------------------------------------------*;
20866 +*------------------------------------------------------------*;
20867 +* Bagging: accumulate final probabilities;
20868 +*------------------------------------------------------------*;
20869 +P_Contributed_To_AccidentYes = _BagVar1*(9/10) + P_Contributed_To_AccidentYes*(1/10);
20870 +P_Contributed_To_AccidentNo = _BagVar2*(9/10) + P_Contributed_To_AccidentNo*(1/10);
20871 +*------------------------------------------------------------*;
20872 +*Computing Classification Vars: Contributed_To_Accident;
20873 +*------------------------------------------------------------*;
20874 +length I_Contributed_To_Accident $3;
20875 +label  I_Contributed_To_Accident = 'Into: Contributed_To_Accident';
20876 +length _format200 $200;
20877 +drop _format200;
20878 +_format200= ' ' ;
20879 +length _p_ 8;
20880 +_p_= 0 ;
20881 +drop _p_ ;
20882 +if P_Contributed_To_AccidentYes - _p_ > 1e-8 then do ;
20883 +   _p_= P_Contributed_To_AccidentYes ;
20884 +   _format200='YES';
20885 +end;
20886 +if P_Contributed_To_AccidentNo - _p_ > 1e-8 then do ;
20887 +   _p_= P_Contributed_To_AccidentNo ;
20888 +   _format200='NO';
20889 +end;
20890 +I_Contributed_To_Accident=dmnorm(_format200,32); ;
20891 +if I_Contributed_To_Accident='YES' then
20892 +U_Contributed_To_Accident='YES';
20893 +if I_Contributed_To_Accident='NO' then
20894 +U_Contributed_To_Accident='NO';
20895 +*------------------------------------------------------------*;
20896 +*Computing Residual Vars: Contributed_To_Accident;
20897 +*------------------------------------------------------------*;
20898 +Length R_Contributed_To_AccidentYes 8;
20899 +Label R_Contributed_To_AccidentYes='Residual: Contributed_To_Accident=Yes';
20900 +Length R_Contributed_To_AccidentNo 8;
20901 +Label R_Contributed_To_AccidentNo='Residual: Contributed_To_Accident=No';
20902 +if
20903 + F_Contributed_To_Accident ne 'YES'
20904 +and F_Contributed_To_Accident ne 'NO'
20905 + then do;
20906 +R_Contributed_To_AccidentYes=.;
20907 +R_Contributed_To_AccidentNo=.;
20908 +end;
20909 +else do;
20910 +R_Contributed_To_AccidentYes= - P_Contributed_To_AccidentYes;
20911 +R_Contributed_To_AccidentNo= - P_Contributed_To_AccidentNo;
20912 +select(F_Contributed_To_Accident);
20913 +when('YES')R_Contributed_To_AccidentYes= R_Contributed_To_AccidentYes+1;
20914 +when('NO')R_Contributed_To_AccidentNo= R_Contributed_To_AccidentNo+1;
20915 +otherwise;
20916 +end;
20917 +end;
NOTE: %INCLUDE (level 1) ending.
 
NOTE: DATA STEP view saved on file EMWS1.ENDGRP_VALIDATE.
NOTE: A stored DATA STEP view cannot run under a different operating system.
NOTE: View EMWS1.STAT2_VALIDATE.VIEW used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
 
NOTE: DATA statement used (Total process time):
      real time           0.05 seconds
      cpu time            0.06 seconds
 
 
NOTE: Fileref EMFLOW has been deassigned.
20918  *------------------------------------------------------------*;
20919  * End SCORE: EndGrp;
20920  *------------------------------------------------------------*;
20921
 
20982  proc append base=EMWS1.EndGrp_EMOUTFIT data=WORK.OUTFITDATA force;
20983  run;
 
NOTE: Appending WORK.OUTFITDATA to EMWS1.ENDGRP_EMOUTFIT.
NOTE: BASE data set does not exist. DATA file is being copied to BASE file.
NOTE: There were 1 observations read from the data set WORK.OUTFITDATA.
NOTE: The data set EMWS1.ENDGRP_EMOUTFIT has 1 observations and 19 variables.
NOTE: PROCEDURE APPEND used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
 
 
20984  filename emflow "D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMFLOWSCORE.sas";
20985  filename lpflow catalog "EMWS1.EndGrp_LOOP.EMFLOWCODE_10.source";
20986  %em_copyfile(infref=emflow, outfref=lpflow);
 
NOTE: The file LPFLOW is:
      Catalog Name=EMWS1.ENDGRP_LOOP.EMFLOWCODE_10.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=168,
      Created=Wed, Nov 23, 2016 03:23:17 AM,
      Last Modified=Wed, Nov 23, 2016 03:26:50 AM,
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\endgrp_loop.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME
 
NOTE: 1570 records were written to the file LPFLOW.
      The minimum record length was 1.
      The maximum record length was 85.
NOTE: DATA statement used (Total process time):
      real time           0.09 seconds
      cpu time            0.06 seconds
 
 
20987  filename lpflow;
NOTE: Fileref LPFLOW has been deassigned.
20988  filename emflow;
NOTE: Fileref EMFLOW has been deassigned.
 
20989  filename empub "D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\EndGrp\EMPUBLISHSCORE.sas";
20990  filename lppub catalog "EMWS1.EndGrp_LOOP.EMPUBLISHCODE_10.source";
20991  %em_copyfile(infref=empub, outfref=lppub);
 
NOTE: The file LPPUB is:
      Catalog Name=EMWS1.ENDGRP_LOOP.EMPUBLISHCODE_10.SOURCE,
      Catalog Page Size=4096,
      Number of Catalog Pages=187,
      Created=Wed, Nov 23, 2016 03:23:17 AM,
      Last Modified=Wed, Nov 23, 2016 03:27:15 AM,
      Filename=D:\ITM\SAS\Project 007 - traffic violations\SAS FInal\SAS Final\Workspaces\EMWS1\endgrp_loop.sas7bcat,
      Release Created=9.0401M3,
      Host Created=X64_8HOME
 
NOTE: 1274 records were written to the file LPPUB.
      The minimum record length was 1.
      The maximum record length was 85.
NOTE: DATA statement used (Total process time):
      real time           0.08 seconds
      cpu time            0.07 seconds
 
 
20992  filename lppub;
NOTE: Fileref LPPUB has been deassigned.
20993  filename empub;
NOTE: Fileref EMPUB has been deassigned.
 
20994  *------------------------------------------------------------*;
20995  * EndGrp: Computing metadata for TRAIN data;
20996  *------------------------------------------------------------*;
 
NOTE: View EMWS1.ENDGRP_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
21342  data WORK.MODELTEMP_INFO;
21343  set EMWS1.EndGrp_EMINFO;
21344  where DATA='EndGrp' and KEY ^in('DECDATA', 'DECMETA', 'IMPORTANCE', 'MODEL');
21345  run;
 
NOTE: There were 1 observations read from the data set EMWS1.ENDGRP_EMINFO.
      WHERE (DATA='EndGrp') and KEY not in ('DECDATA', 'DECMETA', 'IMPORTANCE', 'MODEL');
NOTE: The data set WORK.MODELTEMP_INFO has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
21346  data EMWS1.EndGrp_EMINFO;
21347  length TARGET KEY $32 DATA $43;
21348  input TARGET KEY DATA $;
21349  cards;
 
NOTE: The data set EMWS1.ENDGRP_EMINFO has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
 
21353  run;
21354  data EMWS1.EndGrp_EMINFO;
21355  set EMWS1.EndGrp_EMINFO WORK.MODELTEMP_INFO;
21356  run;
 
NOTE: There were 3 observations read from the data set EMWS1.ENDGRP_EMINFO.
NOTE: There were 1 observations read from the data set WORK.MODELTEMP_INFO.
NOTE: The data set EMWS1.ENDGRP_EMINFO has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
21357  proc sort data = EMWS1.EndGrp_EMINFO NOTHREADS;
21358  by TARGET KEY;
21359  run;
 
NOTE: There were 4 observations read from the data set EMWS1.ENDGRP_EMINFO.
NOTE: The data set EMWS1.ENDGRP_EMINFO has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
21360  proc sort data = EMWS1.Tree5_EMINFO OUT=WORK.SORTEDEMINFO NOTHREADS;
21361  by TARGET KEY;
21362  run;
 
NOTE: There were 5 observations read from the data set EMWS1.TREE5_EMINFO.
NOTE: The data set WORK.SORTEDEMINFO has 5 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.03 seconds
      cpu time            0.01 seconds
 
 
21363  proc sort data = EMWS1.EndGrp_EMINFO OUT=WORK.TEMP_INFO NOTHREADS;
21364  by TARGET KEY;
21365  run;
 
NOTE: Input data set is already sorted; it has been copied to the output data set.
NOTE: There were 4 observations read from the data set EMWS1.ENDGRP_EMINFO.
NOTE: The data set WORK.TEMP_INFO has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
21366  data EMWS1.EndGrp_EMINFO;
21367  merge WORK.SORTEDEMINFO WORK.TEMP_INFO;
21368  by TARGET KEY;
21369  run;
 
NOTE: There were 5 observations read from the data set WORK.SORTEDEMINFO.
NOTE: There were 4 observations read from the data set WORK.TEMP_INFO.
NOTE: The data set EMWS1.ENDGRP_EMINFO has 6 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.02 seconds
      cpu time            0.00 seconds
 
 
21370  proc datasets lib=work nolist;
21371  delete TEMP_INFO SORTEDEMINFO;
21372  run;
 
NOTE: Deleting WORK.TEMP_INFO (memtype=DATA).
NOTE: Deleting WORK.SORTEDEMINFO (memtype=DATA).
21373  quit;
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS1.ENDGRP_TRAIN.VIEW used (Total process time):
      real time           0.03 seconds
      cpu time            0.03 seconds
 
21374  *------------------------------------------------------------*;
21375  * EndGrp: Computing metadata for VALIDATE data;
21376  *------------------------------------------------------------*;
 
NOTE: View EMWS1.ENDGRP_VALIDATE.VIEW used (Total process time):
      real time           0.04 seconds
      cpu time            0.04 seconds
 
21724  data WORK.MODELTEMP_INFO;
21725  set EMWS1.EndGrp_EMINFO;
21726  where DATA='EndGrp' and KEY ^in('DECDATA', 'DECMETA', 'IMPORTANCE', 'MODEL');
21727  run;
 
NOTE: There were 1 observations read from the data set EMWS1.ENDGRP_EMINFO.
      WHERE (DATA='EndGrp') and KEY not in ('DECDATA', 'DECMETA', 'IMPORTANCE', 'MODEL');
NOTE: The data set WORK.MODELTEMP_INFO has 1 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
21728  data EMWS1.EndGrp_EMINFO;
21729  length TARGET KEY $32 DATA $43;
21730  input TARGET KEY DATA $;
21731  cards;
 
NOTE: The data set EMWS1.ENDGRP_EMINFO has 3 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
21735  run;
21736  data EMWS1.EndGrp_EMINFO;
21737  set EMWS1.EndGrp_EMINFO WORK.MODELTEMP_INFO;
21738  run;
 
NOTE: There were 3 observations read from the data set EMWS1.ENDGRP_EMINFO.
NOTE: There were 1 observations read from the data set WORK.MODELTEMP_INFO.
NOTE: The data set EMWS1.ENDGRP_EMINFO has 4 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
21739  proc sort data = EMWS1.EndGrp_EMINFO NOTHREADS;
21740  by TARGET KEY;
21741  run;
 
NOTE: There were 4 observations read from the data set EMWS1.ENDGRP_EMINFO.
NOTE: The data set EMWS1.ENDGRP_EMINFO has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.02 seconds
      cpu time            0.01 seconds
 
 
21742  proc sort data = EMWS1.Tree5_EMINFO OUT=WORK.SORTEDEMINFO NOTHREADS;
21743  by TARGET KEY;
21744  run;
 
NOTE: There were 5 observations read from the data set EMWS1.TREE5_EMINFO.
NOTE: The data set WORK.SORTEDEMINFO has 5 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.00 seconds
 
 
21745  proc sort data = EMWS1.EndGrp_EMINFO OUT=WORK.TEMP_INFO NOTHREADS;
21746  by TARGET KEY;
21747  run;
 
NOTE: Input data set is already sorted; it has been copied to the output data set.
NOTE: There were 4 observations read from the data set EMWS1.ENDGRP_EMINFO.
NOTE: The data set WORK.TEMP_INFO has 4 observations and 3 variables.
NOTE: PROCEDURE SORT used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
21748  data EMWS1.EndGrp_EMINFO;
21749  merge WORK.SORTEDEMINFO WORK.TEMP_INFO;
21750  by TARGET KEY;
21751  run;
 
NOTE: There were 5 observations read from the data set WORK.SORTEDEMINFO.
NOTE: There were 4 observations read from the data set WORK.TEMP_INFO.
NOTE: The data set EMWS1.ENDGRP_EMINFO has 6 observations and 3 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
21752  proc datasets lib=work nolist;
21753  delete TEMP_INFO SORTEDEMINFO;
21754  run;
 
NOTE: Deleting WORK.TEMP_INFO (memtype=DATA).
NOTE: Deleting WORK.SORTEDEMINFO (memtype=DATA).
21755  quit;
 
NOTE: PROCEDURE DATASETS used (Total process time):
      real time           0.00 seconds
      cpu time            0.00 seconds
 
 
NOTE: View EMWS1.ENDGRP_VALIDATE.VIEW used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
*------------------------------------------------------------*
* Report Log
Date:                November 23, 2016
Time:                03:27:17
*------------------------------------------------------------*
21779  data temp;
21780  length _LOOP_ 8 _WHERE_ $200;
21781  format _LOOP_ 6.;
21782  label _LOOP_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_loop_vlabel, NOQUOTE))" _WHERE_ = "%sysfunc(sasmsg(sashelp.dmine, rpt_where_vlabel, NOQUOTE))";
21783  set EMWS1.EndGrp_EMOUTFIT;
21784  _LOOP_ =10;
21785  _WHERE_ ="";
21786  run;
 
NOTE: There were 1 observations read from the data set EMWS1.ENDGRP_EMOUTFIT.
NOTE: The data set WORK.TEMP has 1 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
21787  data EMWS1.EndGrp_EMOUTFIT_LOOP;
21788  set EMWS1.EndGrp_EMOUTFIT_LOOP temp;
21789  run;
 
NOTE: There were 9 observations read from the data set EMWS1.ENDGRP_EMOUTFIT_LOOP.
NOTE: There were 1 observations read from the data set WORK.TEMP.
NOTE: The data set EMWS1.ENDGRP_EMOUTFIT_LOOP has 10 observations and 21 variables.
NOTE: DATA statement used (Total process time):
      real time           0.01 seconds
      cpu time            0.01 seconds
 
 
